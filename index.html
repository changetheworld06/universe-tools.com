<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-15ST5Y0Z1C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-15ST5Y0Z1C');
</script>
<!-- Event snippet for Autre conversion page -->
<script>
    gtag('event', 'conversion', {'send_to': 'AW-325165312/4_GXCKLGqcgbEIDChpsB'});
  </script>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Universe Tools",
    "url": "https://universe-tools.com"
  }
  </script>
  
  <meta charset="UTF-8" />
  <title>Universe Tools – Simple & fast online tools</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Universe Tools: over 60 free online tools to convert, calculate, generate, measure, and simplify your everyday tasks.">
  <link rel="canonical" href="https://universe-tools.com/" />
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Hreflang: seulement les versions de la HOME -->
  <link rel="alternate" hreflang="fr" href="https://universe-tools.com/" />
  <link rel="alternate" hreflang="en" href="https://universe-tools.com/index-en.html" />
  <link rel="alternate" hreflang="x-default" href="https://universe-tools.com/" />
  
  <meta name="theme-color" content="#4f46e5">
  <meta name="google-adsense-account" content="ca-pub-2161270640127476">
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-325165312">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-325165312');
</script>
  <style>
    :root {
      --bg: #050816;
      --bg-soft: #0b1020;
      --accent: #4f46e5;
      --accent-soft: rgba(79, 70, 229, 0.12);
      --text: #f9fafb;
      --muted: #9ca3af;
      --border: #1f2937;
      --danger: #ef4444;
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-sm: 8px;
      --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.8);
      --shadow-card: 0 14px 35px rgba(15, 23, 42, 0.7);
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.25s ease-out;
      --max-width: 1120px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111827, #020617 55%, #000 100%);
      color: var(--text);
      min-height: 100vh;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .container {
      width: 100%;
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    /* HEADER */
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(16px);
      background: linear-gradient(
        to bottom,
        rgba(15, 23, 42, 0.92),
        rgba(15, 23, 42, 0.75),
        transparent
      );
      border-bottom: 1px solid rgba(148, 163, 184, 0.18);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 0;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.65rem;
    }

    .brand-logo {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow:
        0 0 30px rgba(79, 70, 229, 0.45),
        0 0 4px rgba(148, 163, 184, 0.8);
      background: radial-gradient(circle at 30% 0%, #e5e7eb, #4f46e5 55%, #020617);
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 0.05rem;
    }

    .brand-name {
      font-weight: 700;
      letter-spacing: 0.04em;
      font-size: 0.95rem;
    }

    .brand-tagline {
      font-size: 0.72rem;
      color: var(--muted);
    }

    .nav-links {
      display: flex;
      align-items: center;
      gap: 1.3rem;
      font-size: 0.9rem;
    }

    .nav-links a {
      color: var(--muted);
      padding: 0.25rem 0;
      border-bottom: 2px solid transparent;
      transition: color var(--transition-fast), border-color var(--transition-fast),
        transform var(--transition-fast);
    }

    .nav-links a:hover {
      color: #e5e7eb;
      border-color: rgba(129, 140, 248, 0.7);
      transform: translateY(-1px);
    }

    .nav-cta {
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      border: 1px solid rgba(129, 140, 248, 0.6);
      background: radial-gradient(circle at top left, #4f46e5, #0f172a);
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4);
      cursor: pointer;
    }

    .nav-cta span:last-child {
      font-size: 1rem;
      transform: translateY(0.5px);
    }

    /* HERO */

    .hero {
      padding: 3rem 0 2.5rem;
      position: relative;
      overflow: hidden;
    }

    .hero-inner {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 2.5rem;
      align-items: center;
      position: relative;
      z-index: 1;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.18rem 0.6rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: radial-gradient(circle at top left, #111827, #020617);
      font-size: 0.7rem;
      color: var(--muted);
      margin-bottom: 1.2rem;
    }

    .hero-badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 10px rgba(34, 197, 94, 0.9);
    }

    .hero-title {
      font-size: clamp(2.1rem, 3.3vw + 1rem, 3rem);
      line-height: 1.08;
      letter-spacing: -0.05em;
      margin-bottom: 0.8rem;
    }

    .hero-title span.accent {
      background: linear-gradient(120deg, #4f46e5, #a855f7, #ec4899);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      font-size: 0.98rem;
      color: var(--muted);
      max-width: 480px;
      line-height: 1.6;
      margin-bottom: 1.6rem;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.9rem;
      margin-bottom: 1.6rem;
    }

    .btn-primary {
      border-radius: 999px;
      padding: 0.8rem 1.4rem;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      border: none;
      background: linear-gradient(135deg, #4f46e5, #6366f1, #8b5cf6);
      color: #eef2ff;
      font-size: 0.9rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      cursor: pointer;
      box-shadow: 0 18px 50px rgba(79, 70, 229, 0.6);
      transition: transform var(--transition-med), box-shadow var(--transition-med);
    }

    .btn-primary:hover {
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 22px 60px rgba(79, 70, 229, 0.75);
    }

    .btn-secondary {
      border-radius: 999px;
      padding: 0.78rem 1.3rem;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: radial-gradient(circle at top left, #111827, #020617);
      color: #e5e7eb;
      font-size: 0.9rem;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      cursor: pointer;
      transition: border-color var(--transition-fast), background var(--transition-fast),
        transform var(--transition-fast), box-shadow var(--transition-fast);
    }

    .btn-secondary:hover {
      border-color: rgba(129, 140, 248, 0.9);
      background: radial-gradient(circle at top, #020617, #020617);
      transform: translateY(-1px);
      box-shadow: 0 14px 32px rgba(15, 23, 42, 0.85);
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1.4rem;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .hero-meta-item strong {
      display: block;
      color: #e5e7eb;
      font-size: 0.9rem;
    }

    /* HERO – SEARCH & TOOL PREVIEW */

    .hero-panel {
      background: radial-gradient(circle at top, #020617, #020617 52%, #000 110%);
      border-radius: 28px;
      border: 1px solid rgba(148, 163, 184, 0.28);
      box-shadow: var(--shadow-soft);
      padding: 1.6rem 1.6rem 1.8rem;
      position: relative;
      overflow: hidden;
    }

    .hero-panel::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(
        circle at 10% 0%,
        rgba(79, 70, 229, 0.16),
        transparent 55%
      );
      pointer-events: none;
    }

    .hero-panel-inner {
      position: relative;
      z-index: 1;
    }

    .search-label {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.35rem;
    }

    .search-wrapper {
      position: relative;
      margin-bottom: 1.1rem;
    }

    .search-input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at top left, #020617, #020617);
      padding: 0.72rem 2.4rem 0.72rem 0.9rem;
      color: var(--text);
      font-size: 0.88rem;
      outline: none;
      box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.9);
      transition: border-color var(--transition-fast),
        box-shadow var(--transition-fast), background var(--transition-fast),
        transform var(--transition-fast);
    }

    .search-input::placeholder {
      color: #6b7280;
    }

    .search-input:focus {
      border-color: #818cf8;
      box-shadow:
        0 0 0 1px rgba(129, 140, 248, 0.6),
        0 18px 40px rgba(15, 23, 42, 0.9);
      transform: translateY(-0.5px);
      background: radial-gradient(circle at top left, #020617, #020617);
    }

    .search-icon {
      position: absolute;
      right: 0.9rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1rem;
      color: #6b7280;
    }

    .tool-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1.1rem;
    }

    .tool-tag {
      font-size: 0.74rem;
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      color: var(--muted);
      cursor: pointer;
      background: radial-gradient(circle at top left, #020617, #020617);
      transition: border-color var(--transition-fast), color var(--transition-fast),
        background var(--transition-fast), transform var(--transition-fast);
    }

    .tool-tag:hover {
      border-color: rgba(129, 140, 248, 0.9);
      color: #e5e7eb;
      transform: translateY(-1px);
      background: radial-gradient(circle at top, #020617, #020617);
    }

    .tool-tag.active {
      background: radial-gradient(circle at top left, #4f46e5, #7c3aed);
      color: #eef2ff;
      border-color: transparent;
      box-shadow: 0 10px 30px rgba(79, 70, 229, 0.45);
    }

    .tool-preview {
      margin-top: 1.1rem;
      padding: 1rem;
      border-radius: 18px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617);
    }

    .tool-preview-title {
      font-size: 0.95rem;
      margin-bottom: 0.55rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.5rem;
    }

    .pill {
      font-size: 0.7rem;
      padding: 0.18rem 0.6rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: var(--muted);
    }

    .tool-preview-desc {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.7rem;
    }

    .preview-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.7rem;
    }

    .preview-metric {
      border-radius: 12px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 0.55rem 0.7rem;
      font-size: 0.75rem;
      background: radial-gradient(circle at top left, #020617, #020617);
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
    }

    .preview-metric span:first-child {
      color: var(--muted);
    }

    .preview-metric strong {
      font-size: 0.9rem;
    }

    /* TOOL GRID */

    .section {
      padding: 1.5rem 0 3.5rem;
    }

    .section-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .section-title {
      font-size: 1.15rem;
      letter-spacing: -0.03em;
    }

    .section-subtitle {
      font-size: 0.86rem;
      color: var(--muted);
      max-width: 420px;
      line-height: 1.5;
    }

    .tool-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    @media (max-width: 920px) {
      .hero-inner {
        grid-template-columns: minmax(0, 1fr);
      }

      .hero-panel {
        order: -1;
        margin-bottom: 1.2rem;
      }

      .section-header {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    @media (max-width: 768px) {
      .tool-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .nav-links {
        display: none;
      }
    }

    @media (max-width: 600px) {
      .tool-grid {
        grid-template-columns: minmax(0, 1fr);
      }

      .hero {
        padding-top: 2.2rem;
      }

      .hero-panel {
        border-radius: 22px;
        padding: 1.3rem 1.2rem 1.4rem;
      }
    }

    .tool-card {
      border-radius: var(--radius-lg);
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617);
      padding: 0.9rem 0.95rem;
      box-shadow: var(--shadow-card);
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      cursor: pointer;
      transform-origin: center;
      transition: transform var(--transition-med), box-shadow var(--transition-med),
        border-color var(--transition-med), background var(--transition-med),
        opacity var(--transition-fast);
    }

    .tool-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 22px 55px rgba(15, 23, 42, 0.95);
      border-color: rgba(129, 140, 248, 0.9);
      background: radial-gradient(circle at top, #020617, #020617);
    }

    .tool-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.4rem;
    }

    .tool-card-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .tool-card-tag {
      font-size: 0.7rem;
      padding: 0.12rem 0.55rem;
      border-radius: 999px;
      background: var(--accent-soft);
      border: 1px solid rgba(129, 140, 248, 0.85);
      color: #c7d2fe;
    }

    .tool-card-desc {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .tool-card-meta {
      font-size: 0.74rem;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 0.1rem;
    }

    .tool-card-meta span {
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
    }

    /* TOOL SECTIONS (fonctionnels) */

    .tool-section {
      border-radius: 20px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617);
      padding: 1.2rem 1.1rem 1.4rem;
      box-shadow: var(--shadow-card);
      margin-bottom: 1.4rem;
    }

    .tool-section h3 {
      font-size: 1rem;
      margin-bottom: 0.2rem;
    }

    .tool-section p {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 0.9rem;
    }

    .tool-form {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.8rem;
      align-items: end;
    }

    @media (max-width: 600px) {
      .tool-form {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 0.2rem;
      font-size: 0.8rem;
    }

    .field label {
      color: var(--muted);
    }

    .field input,
    .field select,
    .field textarea {
      border-radius: var(--radius-sm);
      border: 1px solid rgba(75, 85, 99, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617);
      color: var(--text);
      padding: 0.45rem 0.55rem;
      font-size: 0.85rem;
      outline: none;
      transition: border-color var(--transition-fast),
        box-shadow var(--transition-fast), background var(--transition-fast);
    }

    .field input::placeholder {
      color: #6b7280;
    }

    .field input:focus,
    .field select:focus,
    .field textarea:focus {
      border-color: #818cf8;
      box-shadow:
        0 0 0 1px rgba(129, 140, 248, 0.6),
        0 14px 32px rgba(15, 23, 42, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617);
    }

    .btn-tool {
      border-radius: var(--radius-sm);
      border: none;
      padding: 0.55rem 0.85rem;
      font-size: 0.84rem;
      background: linear-gradient(135deg, #4f46e5, #6366f1);
      color: #e5e7eb;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.25rem;
      cursor: pointer;
      transition: transform var(--transition-fast),
        box-shadow var(--transition-fast), opacity var(--transition-fast);
      box-shadow: 0 12px 28px rgba(79, 70, 229, 0.5);
    }

    .btn-tool:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 36px rgba(79, 70, 229, 0.7);
    }

    .tool-result {
      margin-top: 0.7rem;
      font-size: 0.86rem;
    }

    .tool-result strong {
      color: #e5e7eb;
    }

    .tool-result span {
      color: var(--muted);
      font-size: 0.78rem;
      display: block;
      margin-top: 0.1rem;
    }

    .small-note {
      font-size: 0.72rem;
      color: #6b7280;
      margin-top: 0.4rem;
    }

    .range-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .range-row input[type="range"] {
      flex: 1;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.72rem;
      padding: 0.18rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.9);
      background: radial-gradient(circle at top left, #020617, #020617);
      color: var(--muted);
      cursor: pointer;
      transition: border-color var(--transition-fast),
        background var(--transition-fast), color var(--transition-fast);
    }

    .chip input {
      margin: 0;
    }

    .chip:hover {
      border-color: #818cf8;
      color: #e5e7eb;
    }

    .password-output {
      margin-top: 0.65rem;
      padding: 0.45rem 0.55rem;
      border-radius: var(--radius-sm);
      border: 1px dashed rgba(75, 85, 99, 0.9);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 0.8rem;
      word-break: break-all;
      background: radial-gradient(circle at top left, #020617, #020617);
      color: #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }

    .copy-btn {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      padding: 0.18rem 0.55rem;
      font-size: 0.7rem;
      background: rgba(15, 23, 42, 0.8);
      color: var(--muted);
      cursor: pointer;
      transition: border-color var(--transition-fast), transform var(--transition-fast),
        background var(--transition-fast), color var(--transition-fast);
      white-space: nowrap;
    }

    .copy-btn:hover {
      border-color: rgba(129, 140, 248, 0.9);
      color: #e5e7eb;
      transform: translateY(-0.5px);
      background: rgba(15, 23, 42, 1);
    }

    /* FOOTER */

    footer {
      border-top: 1px solid rgba(30, 64, 175, 0.6);
      background: radial-gradient(circle at top, #020617, #020617);
      margin-top: auto;
    }

    .footer-inner {
      padding: 1rem 0 1.4rem;
      font-size: 0.75rem;
      color: #6b7280;
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      justify-content: space-between;
      align-items: center;
    }

    .footer-links {
      display: flex;
      gap: 0.9rem;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: #6b7280;
      transition: color var(--transition-fast), transform var(--transition-fast);
    }

    .footer-links a:hover {
      color: #e5e7eb;
      transform: translateY(-0.5px);
    }

    /* IMPORTANT : pour le filtrage, on masque complètement les cartes */
    .hidden {
      display: none;
    }

    .social-share {
  margin-top: 40px;
  text-align: center;
}

.social-share a {
  margin: 0 10px;
  color: var(--accent);
  font-weight: 600;
  text-decoration: none;
}

.social-share a:hover {
  text-decoration: underline;
}
  </style>
  <!-- Event snippet for Autre conversion page
In your html page, add the snippet and call gtag_report_conversion when someone clicks on the chosen link or button. -->
<script>
    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.location = url;
        }
      };
      gtag('event', 'conversion', {
          'send_to': 'AW-325165312/4_GXCKLGqcgbEIDChpsB',
          'event_callback': callback
      });
      return false;
    }
    </script>
    
</head>
<body>
  <div class="page">
    <header>
      <div class="container nav">
        <div class="brand">
          <div class="brand-logo">
            <!-- Logo Universe Tools -->
            <svg width="34" height="34" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="grad2" x1="0%" y1="0%" x2="120%" y2="120%">
                  <stop offset="0%" stop-color="#4f46e5"/>
                  <stop offset="40%" stop-color="#7c3aed"/>
                  <stop offset="100%" stop-color="#ec4899"/>
                </linearGradient>
              </defs>
              <circle cx="30" cy="30" r="22" fill="none" stroke="url(#grad2)" stroke-width="3"/>
              <circle cx="30" cy="12" r="5" fill="url(#grad2)"/>
              <ellipse cx="30" cy="30" rx="28" ry="10" fill="none" stroke="url(#grad2)" stroke-width="2" opacity="0.6"/>
            </svg>
          </div>
          <div class="brand-text">
            <div class="brand-name">Universe Tools</div>
            <div class="brand-tagline">Tous vos outils du quotidien, au même endroit.</div>
          </div>
        </div>
        <nav class="nav-links">
            <a href="#tools">Outils</a>
            <a href="#convertisseurs">Convertisseurs</a>
            <a href="#finance">Finance</a>
            <a href="#securite">Sécurité</a>
            <a href="#sante">Santé</a>
            <a href="#organisation">Organisation & divers</a>
        </nav>

          <div style="font-size: 0.8rem;">
            <a href="/index.html">FR</a> · <a href="/index-en.html">EN</a>
          </div>

        <button class="nav-cta" type="button" onclick="addToFavorites()">
            <span>Ajouter aux favoris</span>
            <span>★</span>
          </button>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="container hero-inner">
          <div>
            <div class="hero-badge">
              <span class="hero-badge-dot"></span>
              <span>Outils gratuits • Aucune inscription • Pas de pubs intrusives</span>
            </div>
            <h1 class="hero-title">
              <span class="accent">Universe Tools</span> réunit vos outils du quotidien sur une seule page.
            </h1>
            
            <p class="hero-subtitle">
              Universe Tools propose des outils en ligne simples et rapides pour vous aider à convertir, calculer, générer et simplifier vos tâches quotidiennes.
              <br><br>
              Convertissez, calculez et générez rapidement ce dont vous avez besoin.
            <div class="hero-actions">
              <button class="btn-primary" type="button" onclick="scrollToTools()">
                <span>Explorer les outils</span>
                <span>↓</span>
              </button>
              <button class="btn-secondary" type="button">
                <span>Comment ça marche ?</span>
                <span>●</span>
              </button>
            </div>
            <div class="hero-meta">
              <div class="hero-meta-item">
                <strong>60+ outils</strong>
                Toujours disponibles, sans inscription.
              </div>
              <div class="hero-meta-item">
                <strong>Design sobre</strong>
                Aucun tracking agressif, pas de bruit.
              </div>
              <div class="hero-meta-item">
                <strong>À vie</strong>
                Une fois en favori, toujours sous la main.
              </div>
            </div>
          </div>

          <aside class="hero-panel" aria-label="Recherche d'outils">
            <div class="hero-panel-inner">
              <div class="search-label">Rechercher un outil</div>
              <div class="search-wrapper">
                <input
                  id="toolSearch"
                  class="search-input"
                  type="search"
                  placeholder="Exemples : convertisseur km, mot de passe, IMC, tirage au sort…"
                />
                <span class="search-icon">⌕</span>
              </div>
              <div class="tool-tags">
                <button class="tool-tag active" data-filter="all" type="button">
                  Tout
                </button>
                <button class="tool-tag" data-filter="convertisseur" type="button">
                  Convertisseurs
                </button>
                <button class="tool-tag" data-filter="finance" type="button">
                    Finance
                  </button>
                <button class="tool-tag" data-filter="securite" type="button">
                  Sécurité
                </button>
                <button class="tool-tag" data-filter="sante" type="button">
                  Santé & forme
                </button>
                <button class="tool-tag" data-filter="divers" type="button">
                    Organisation & divers
                  </button>
              </div>

              <div class="tool-preview">
                <div class="tool-preview-title">
                  <span>En un clic, les outils que vous utilisez vraiment.</span>
                  <span class="pill">Aucun compte requis</span>
                </div>
                <p class="tool-preview-desc">
                  Ajoutez Universe Tools à vos favoris. Quand un besoin se présente, vous 
                  tapez moins et vous cliquez plus vite.
                </p>
                <div class="preview-grid">
                  <div class="preview-metric">
                    <span>Temps moyen économisé</span>
                    <strong>≈ 10 s / action</strong>
                    <span>par rapport à une recherche Google classique.</span>
                  </div>
                  <div class="preview-metric">
                    <span>Outils déjà inclus</span>
                    <strong>Convertisseurs • Sécurité • Santé</strong>
                    <span>de nouveaux outils peuvent être ajoutés plus tard.</span>
                  </div>
                </div>
              </div>
            </div>
          </aside>
        </div>
      </section>

      <section id="tools" class="section">
        <div class="container">
          <div class="section-header">
            <div>
              <h2 class="section-title">Outils principaux</h2>
              <p class="section-subtitle">
                Sur cette page unique, vous retrouvez tous vos outils du quotidien regroupés
                et accessibles instantanément, sans inscription.
              </p>
            </div>
            <div class="section-subtitle">
              Astuce : garde cette page en favori dans ton navigateur, sur ordinateur 
              et sur smartphone.
            </div>
          </div>

          <div class="tool-grid" id="toolGrid">



<!-- Proposer un nouvel outil -->
<article
  class="tool-card"
  data-name="suggestion outil proposer idée fonctionnalité"
  data-category="divers"
  onclick="scrollToElement('tool-suggest')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Proposer un nouvel outil</div>
    <div class="tool-card-tag">Divers</div>
  </div>
  <p class="tool-card-desc">
    Une idée d’outil qui manque ? Envoie-nous ta suggestion en un clic.
  </p>
  <div class="tool-card-meta">
    <span>✔ Par e-mail</span>
    <span>Aucune inscription</span>
  </div>
</article>

<!-- Convertisseur PDF ↔ JPG -->
<article
  class="tool-card"
  data-name="convertisseur pdf jpg image convertir fichier"
  data-category="convertisseur"
  onclick="scrollToElement('tool-pdf-jpg')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Convertisseur PDF ↔ JPG</div>
    <div class="tool-card-tag">Convertisseur
    </div>
  </div>
  <p class="tool-card-desc">
    Convertis une page PDF en image JPG ou transforme une image JPG/PNG en PDF, directement dans ton navigateur.
  </p>
  <div class="tool-card-meta">
    <span>✔ Local</span>
    <span>Aucun envoi de fichier</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="générateur qr code lien url texte"
  data-category="divers"
  onclick="scrollToElement('tool-qrcode')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Générateur de QR Code</div>
    <div class="tool-card-tag">Divers</div>
  </div>
  <p class="tool-card-desc">
    Colle un lien ou un texte et génère un QR Code à scanner avec ton téléphone.
  </p>
  <div class="tool-card-meta">
    <span>✔ Local</span>
    <span>Aucun envoi de données</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="générateur code-barres ean13 ean8 barcode"
  data-category="divers"
  onclick="scrollToElement('tool-barcode')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Générateur de codes-barres</div>
    <div class="tool-card-tag">Organisation</div>
  </div>
  <p class="tool-card-desc">
    Génère un code-barres EAN-13 ou EAN-8 à partir d’un code numérique, directement dans ton navigateur.
  </p>
  <div class="tool-card-meta">
    <span>✔ EAN-13 / EAN-8</span>
    <span>Canvas local</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="calcul isolation résistance thermique R U épaisseur matériaux"
  data-category="divers"
  onclick="scrollToElement('tool-insulation')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calcul isolation (R, U → épaisseur)</div>
    <div class="tool-card-tag">Organisation</div>
  </div>
  <p class="tool-card-desc">
    Calcule l’épaisseur nécessaire d’un matériau isolant à partir de sa
    résistance thermique (R), de son coefficient U ou de sa conductivité λ.
  </p>
  <div class="tool-card-meta">
    <span>✔ R ↔ U ↔ épaisseur</span>
    <span>Bâtiment</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="beton dalle volume sacs ciment m3 calcul"
  data-category="convertisseur"
  onclick="scrollToElement('tool-concrete')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calcul de béton (volume + sacs)</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Estime le volume de béton en m³ et le nombre de sacs de ciment nécessaires pour ta dalle.
  </p>
  <div class="tool-card-meta">
    <span>✔ Volume + sacs</span>
    <span>Dosage standard</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="puissance course running power zones watts ftp course pied"
  data-category="sante"
  onclick="scrollToElement('tool-running-power')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Zones de puissance (course)</div>
    <div class="tool-card-tag">Santé</div>
  </div>
  <p class="tool-card-desc">
    Calcule tes zones de puissance en course à pied à partir de ta valeur FTP.
  </p>
  <div class="tool-card-meta">
    <span>✔ Local</span>
    <span>Basé sur FTP</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="tdee besoin calorie quotidien métabolisme"
  data-category="sante"
  onclick="scrollToElement('tool-tdee')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calcul TDEE (besoins caloriques)</div>
    <div class="tool-card-tag">Santé</div>
  </div>
  <p class="tool-card-desc">
    Calcule ton métabolisme de base (BMR) et tes besoins caloriques journaliers selon ton niveau d’activité.
  </p>
  <div class="tool-card-meta">
    <span>✔ Formule Mifflin–St Jeor</span>
    <span>✔ Activité physique</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="calculateur amortissement lineaire dégressif crédit prêt"
  data-category="finance"
  onclick="scrollToElement('tool-amortization')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Amortissement linéaire / dégressif</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Calcule le tableau d’amortissement d’un prêt avec annuités constantes
    (dégressif) ou remboursement linéaire du capital.
  </p>
  <div class="tool-card-meta">
    <span>✔ Amortissement annuel</span>
    <span>Tableau détaillé</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="rendement locatif investissement immobilier loyer"
  data-category="finance"
  onclick="scrollToElement('tool-rental-yield-fr')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de rendement locatif</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Estime rapidement le rendement brut et net d’un investissement locatif,
    à partir du prix d’achat, du loyer et des charges annuelles.
  </p>
  <div class="tool-card-meta">
    <span>✔ Brut & net</span>
    <span>Pour investisseurs</span>
  </div>
</article>

<!-- Convertisseur d'énergie : Joules ↔ calories ↔ kWh -->
<article
  class="tool-card"
  data-name="énergie joules calories kwh kilowattheure"
  data-category="convertisseur"
  onclick="scrollToElement('tool-energy')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Énergie : Joules ↔ calories ↔ kWh</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Convertis une énergie entre Joules, calories alimentaires (kcal) et kilowattheures (kWh).
  </p>
  <div class="tool-card-meta">
    <span>✔ Calcul local</span>
    <span>Aucune donnée envoyée</span>
  </div>
</article>

<!-- Fraction ↔ Décimal ↔ Pourcentage -->
<article
  class="tool-card"
  data-name="fraction décimal pourcentage 1/4 0,25 25%"
  data-category="convertisseur"
  onclick="scrollToElement('tool-fraction')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Fraction ↔ Décimal ↔ Pourcentage</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Convertis une fraction (comme 1/4) en nombre décimal et en pourcentage, 
    ou l'inverse, en un clic.
  </p>
  <div class="tool-card-meta">
    <span>✔ Calcul local</span>
    <span>Aucun envoi de données</span>
  </div>
</article>

<!-- Fréquence cardiaque cible (FR) -->
<article
  class="tool-card"
  data-name="fréquence cardiaque cible sport cardio zone entraînement"
  data-category="sante"
  onclick="scrollToElement('tool-heart-rate')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Fréquence cardiaque cible</div>
    <div class="tool-card-tag">Santé</div>
  </div>
  <p class="tool-card-desc">
    Estime ta fréquence cardiaque cible pour l’entraînement : zones modérée et intense.
  </p>
  <div class="tool-card-meta">
    <span>✔ Indicatif</span>
    <span>Pas un avis médical</span>
  </div>
</article>

<!-- Consommation électrique (FR) -->
<article
  class="tool-card"
  data-name="consommation électrique watt kwh énergie coût facture électricité"
  data-category="finance"
  onclick="scrollToElement('tool-electricity')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Consommation électrique</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Estime le coût de fonctionnement d’un appareil en W : kWh consommés et montant en €.
  </p>
  <div class="tool-card-meta">
    <span>✔ W → kWh → €</span>
    <span>Calcul local</span>
  </div>
</article>

<!-- Convertisseur angle (FR) -->
<article
  class="tool-card"
  data-name="convertisseur angle degrés radians pourcentage pente inclinaison"
  data-category="convertisseur"
  onclick="scrollToElement('tool-angle')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Convertisseur d’angle</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Convertis un angle en degrés, pourcentage de pente et radians instantanément.
  </p>
  <div class="tool-card-meta">
    <span>✔ 3 unités</span>
    <span>Local</span>
  </div>
</article>

<!-- Calculateur de carrelage (FR) -->
<article
  class="tool-card"
  data-name="calcul carrelage carreaux carrelage m2 pertes carrelage surface"
  data-category="divers"
  onclick="scrollToElement('tool-tiles')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de carrelage</div>
    <div class="tool-card-tag">Divers</div>
  </div>
  <p class="tool-card-desc">
    Calcule le nombre de carreaux nécessaires à partir de la surface à couvrir,
    de la taille des carreaux et d’un pourcentage de pertes (chutes, coupes).
  </p>
  <div class="tool-card-meta">
    <span>✔ m² + pertes</span>
    <span>Arrondi au carreau supérieur</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="calculateur de peinture litres surface m2 couches"
  data-category="divers"
  onclick="scrollToElement('tool-paint')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de peinture</div>
    <div class="tool-card-tag">Organisation</div>
  </div>
  <p class="tool-card-desc">
    Calcule rapidement la quantité de peinture nécessaire en litres
    selon la surface et le rendement du pot.
  </p>
  <div class="tool-card-meta">
    <span>✔ m² → litres</span>
    <span>Avec couches</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="crypto gains pertes pourcentage pnl bitcoin ethereum"
  data-category="finance"
  onclick="scrollToElement('tool-crypto-pnl')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Gains & pertes crypto (%)</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Calcule ton gain ou ta perte en pourcentage et en montant sur une position
    crypto, à partir du prix d’achat et du prix actuel.
  </p>
  <div class="tool-card-meta">
    <span>✔ PnL simple</span>
    <span>Montant + %</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="frais de notaire achat immobilier estimation maison appartement"
  data-category="finance"
  onclick="scrollToElement('tool-notary-fees')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Frais de notaire (achat immo)</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Estime le montant des frais de notaire et le coût total d’un achat immobilier
    à partir du prix d’achat et d’un pourcentage de frais.
  </p>
  <div class="tool-card-meta">
    <span>✔ Estimation simple</span>
    <span>Prix + frais</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="capacité emprunt prêt crédit montant maximum revenus charges"
  data-category="finance"
  onclick="scrollToElement('tool-borrowing-capacity')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Capacité d’emprunt simple</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Estime le montant maximal que tu peux emprunter en fonction de tes revenus,
    de tes charges et d’un taux d’endettement cible.
  </p>
  <div class="tool-card-meta">
    <span>✔ Estimation</span>
    <span>Basé sur 52 semaines/an</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="salaire annuel mensuel horaire brut calcul convertisseur"
  data-category="finance"
  onclick="scrollToElement('tool-salary-time')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Salaire annuel ↔ mensuel ↔ horaire</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Convertis ton salaire entre annuel, mensuel et horaire en fonction du nombre
    d’heures travaillées par semaine.
  </p>
  <div class="tool-card-meta">
    <span>✔ Estimation</span>
    <span>Basé sur 52 semaines/an</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="convertisseur lumens watts led ampoule éclairage"
  data-category="convertisseur"
  onclick="scrollToElement('tool-lumens-led')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Lumens ↔ Watts (LED)</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Estime la puissance en watts d’une ampoule LED à partir de son flux lumineux (lumens), et inversement.
  </p>
  <div class="tool-card-meta">
    <span>✔ Valeur indicative</span>
    <span>≈ 90 lm/W</span>
  </div>
</article>

<!-- Calculateur de temps de trajet -->
<article
  class="tool-card"
  data-name="temps de trajet calcul distance vitesse route voiture"
  data-category="convertisseur"
  onclick="scrollToElement('tool-travel-time')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de temps de trajet</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Indique une distance et une vitesse moyenne pour estimer le temps de
    trajet (heures et minutes).
  </p>
  <div class="tool-card-meta">
    <span>✔ Estimation rapide</span>
    <span>Distance / vitesse</span>
  </div>
</article>

<!-- Convertisseur heures décimales ↔ heures + minutes -->
<article
  class="tool-card"
  data-name="convertisseur heures décimales heures minutes temps travail"
  data-category="convertisseur"
  onclick="scrollToElement('tool-decimal-hours')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Heures décimales ↔ heures + minutes</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Convertis des heures au format décimal (7,5 h) en heures + minutes (7 h 30) 
    et inversement, en un clic.
  </p>
  <div class="tool-card-meta">
    <span>✔ Temps de travail</span>
    <span>Lecture facile</span>
  </div>
</article>

<!-- Convertisseur Euro ↔ Bitcoin / Crypto (taux manuel) -->
<article
  class="tool-card"
  data-name="convertisseur euro bitcoin crypto taux manuel"
  data-category="convertisseur"
  onclick="scrollToElement('tool-crypto-eur')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Convertisseur € ↔ Bitcoin / Crypto</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Convertis un montant en euros en Bitcoin / crypto (ou l’inverse) en indiquant ton
    propre prix par unité.
  </p>
  <div class="tool-card-meta">
    <span>✔ Taux manuel</span>
    <span>Aucune API</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="prix au kilo litre prix unitaire"
  data-category="finance"
  onclick="scrollToElement('tool-unit-price')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de prix unitaire</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Compare le prix de tes produits en calculant le coût par kg, par litre ou par unité.
  </p>
  <div class="tool-card-meta">
    <span>✔ Prix au kg / L / unité</span>
    <span>Calcul local</span>
  </div>
</article>

            <!-- Convertisseur fractions ↔ décimales -->
<article
class="tool-card"
data-name="convertisseur fractions décimales 1/2 0,5"
data-category="convertisseur"
onclick="scrollToElement('tool-fractions')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur fractions ↔ décimales</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis une fraction (1/3, 2/5…) en nombre décimal et inversement pour les recettes,
  le bricolage ou les études.
</p>
<div class="tool-card-meta">
  <span>✔ Local</span>
  <span>Approximation intelligente</span>
</div>
</article>

<!-- Convertisseur mètres ↔ pieds -->
<article
class="tool-card"
data-name="convertisseur mètres pieds ft"
data-category="convertisseur"
onclick="scrollToElement('tool-meters-feet')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur m ↔ ft</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis des longueurs entre mètres et pieds, pratique pour les plans, l’immobilier
  ou les spécifications américaines.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 m ≈ 3,28084 ft</span>
</div>
</article>

<!-- Convertisseur m/s ↔ km/h -->
<article
class="tool-card"
data-name="convertisseur vitesse m/s km/h"
data-category="convertisseur"
onclick="scrollToElement('tool-speed-ms-kmh')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur m/s ↔ km/h</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Passe d’une vitesse en mètre par seconde à kilomètre par heure, utile pour le sport,
  la météo ou la physique.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 m/s = 3,6 km/h</span>
</div>
</article>

<!-- Convertisseur Joules ↔ Calories -->
<article
class="tool-card"
data-name="convertisseur énergie joules calories kcal"
data-category="convertisseur"
onclick="scrollToElement('tool-energy')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur Joules ↔ Calories</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis une énergie entre joules et kilocalories, pratique pour la nutrition ou la physique.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 kcal = 4 184 J</span>
</div>
</article>

<!-- Convertisseur pression bar ↔ psi -->
<article
class="tool-card"
data-name="convertisseur pression bar psi"
data-category="convertisseur"
onclick="scrollToElement('tool-pressure')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur bar ↔ psi</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis une pression entre bar et psi, parfait pour les pneus, la mécanique et l’hydraulique.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 bar ≈ 14,5038 psi</span>
</div>
</article>

<!-- Générateur de hash SHA-256 -->
<article
class="tool-card"
data-name="hash sha-256 sécurité empreinte texte"
data-category="securite"
onclick="scrollToElement('tool-hash-sha256')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Hash SHA-256</div>
  <div class="tool-card-tag">Sécurité</div>
</div>
<p class="tool-card-desc">
  Génére le hash SHA-256 d’un texte directement dans ton navigateur, sans envoi de données.
</p>
<div class="tool-card-meta">
  <span>✔ Local</span>
  <span>crypto.subtle</span>
</div>
</article>

<!-- Convertisseur date ↔ numéro de semaine -->
<article
class="tool-card"
data-name="convertisseur date numéro de semaine iso week"
data-category="divers"
onclick="scrollToElement('tool-week')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Date ↔ numéro de semaine</div>
  <div class="tool-card-tag">Organisation</div>
</div>
<p class="tool-card-desc">
  Convertis une date en numéro de semaine ISO, ou retrouve le lundi d’une semaine donnée.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>Norme ISO</span>
</div>
</article>

                    <!-- Carte : Répartiteur de note de frais -->
            <article
  class="tool-card"
  data-name="répartiteur note de frais addition partage restaurant"
  data-category="finance"
  onclick="scrollToElement('tool-bill')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Répartiteur de note de frais</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Partage facilement une addition ou une note de frais entre plusieurs personnes,
    avec pourboire optionnel.
  </p>
  <div class="tool-card-meta">
    <span>✔ Prix par personne</span>
    <span>Inclut le pourboire</span>
  </div>
</article>
                    <!-- Carte : Simulateur d’objectifs d’épargne -->
            <article
  class="tool-card"
  data-name="simulateur objectifs épargne combien mettre de côté par mois"
  data-category="finance"
  onclick="scrollToElement('tool-goal')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Simulateur d’objectifs d’épargne</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Indique un objectif à atteindre et une durée, et vois combien mettre
    de côté chaque mois pour y arriver.
  </p>
  <div class="tool-card-meta">
    <span>✔ Objectif → montant mensuel</span>
    <span>Simple et visuel</span>
  </div>
</article>

            <!-- Carte : Simulateur d’épargne mensuelle -->
<article
class="tool-card"
data-name="simulateur épargne mensuelle intérêts composés"
data-category="finance"
onclick="scrollToElement('tool-savings')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Simulateur d’épargne mensuelle</div>
  <div class="tool-card-tag">Finance</div>
</div>
<p class="tool-card-desc">
  Vois combien ton épargne mensuelle peut atteindre avec un taux fixe
  et des intérêts composés.
</p>
<div class="tool-card-meta">
  <span>✔ Intérêts composés</span>
  <span>Mensualisé</span>
</div>
</article>

            <!-- Carte : Calculateur de budget mensuel -->
<article
class="tool-card"
data-name="budget mensuel revenus dépenses reste à vivre"
data-category="finance"
onclick="scrollToElement('tool-budget')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Calculateur de budget mensuel</div>
  <div class="tool-card-tag">Finance</div>
</div>
<p class="tool-card-desc">
  Saisis tes revenus et tes principales dépenses pour voir ton reste à vivre
  et la répartition par catégorie.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>% par catégorie</span>
</div>
</article>

            <!-- Carte : Convertisseur temps (jours) -->
<article
class="tool-card"
data-name="convertisseur temps jours heures minutes secondes"
data-category="convertisseur"
onclick="scrollToElement('tool-time')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur jours → heures / minutes</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis un nombre de jours en heures, minutes et secondes pour mieux visualiser une durée.
</p>
<div class="tool-card-meta">
  <span>✔ Calcul local</span>
  <span>Simple et rapide</span>
</div>
</article>

            <!-- Carte : Convertisseur de tailles de fichiers -->
<article
class="tool-card"
data-name="convertisseur taille fichier bytes ko mo go to octets"
data-category="convertisseur"
onclick="scrollToElement('tool-bytes')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur Ko / Mo / Go / To</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Comprends facilement la taille d’un fichier en convertissant entre octets, Ko, Mo, Go et To.
</p>
<div class="tool-card-meta">
  <span>✔ Calcul local</span>
  <span>Basé sur 1 Ko = 1024 octets</span>
</div>
</article>

            <!-- Carte : Convertisseur de devises (taux manuel) -->
<article
class="tool-card"
data-name="convertisseur devises taux manuel euro dollar monnaie"
data-category="convertisseur"
onclick="scrollToElement('tool-currency')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur de devises (taux manuel)</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis un montant entre l’euro et une autre devise en utilisant ton propre taux (ex : 1 € = 1,08 $).
</p>
<div class="tool-card-meta">
  <span>✔ Taux modifiable</span>
  <span>Sans appel API</span>
</div>
</article>

            <!-- Carte : Convertisseur L/min ↔ m³/h -->
<article
class="tool-card"
data-name="convertisseur debit l/min m3/h eau potable pompe"
data-category="convertisseur"
onclick="scrollToElement('tool-flow')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur L/min ↔ m³/h</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis un débit en litres par minute en m³/h (et inversement) pour les réseaux, pompes, arrosage, etc.
</p>
<div class="tool-card-meta">
  <span>✔ Calcul local</span>
  <span>1 L/min = 0,06 m³/h</span>
</div>
</article>

            <!-- Carte : Convertisseur m² ↔ m³ -->
<article
class="tool-card"
data-name="convertisseur surface volume m2 m3 peinture beton"
data-category="convertisseur"
onclick="scrollToElement('tool-area-volume')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur m² ↔ m³</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Calcule un volume à partir d'une surface (m²) et d'une hauteur (m) pour la peinture, le béton, les cartons, etc.
</p>
<div class="tool-card-meta">
  <span>✔ Calcul local</span>
  <span>m² × hauteur = m³</span>
</div>
</article>

            <article
  class="tool-card"
  data-name="calcul mensualité crédit emprunt prêt"
  data-category="finance"
  onclick="scrollToElement('tool-loan')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de mensualité</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Estime ta mensualité de crédit selon le montant, le taux et la durée.
  </p>
  <div class="tool-card-meta">
    <span>✔ Disponible</span>
    <span>Calcul local</span>
  </div>
</article>

            <article
  class="tool-card"
  data-name="calcul age âge date de naissance"
  data-category="divers"
  onclick="scrollToElement('tool-age')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur d'âge</div>
    <div class="tool-card-tag">Divers</div>
  </div>
  <p class="tool-card-desc">
    Indique ta date de naissance et obtiens ton âge précis en années.
  </p>
  <div class="tool-card-meta">
    <span>✔ Disponible</span>
    <span>Calcul local</span>
  </div>
</article>

            <!-- Convertisseur cm ↔ pouces -->
<article
class="tool-card"
data-name="convertisseur longueur cm pouces inch"
data-category="convertisseur"
onclick="scrollToElement('tool-cm-inch')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur cm ↔ pouces</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis des centimètres en pouces (inch) et inversement pour le bricolage, l’écran ou les plans.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 in = 2,54 cm</span>
</div>
</article>

<!-- Convertisseur litres ↔ gallons -->
<article
class="tool-card"
data-name="convertisseur volume litres gallons"
data-category="convertisseur"
onclick="scrollToElement('tool-liters-gallons')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur litres ↔ gallons</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Passe de litres à gallons (US) et inversement pour les recettes, carburants ou aquariums.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 L ≈ 0,264172 gal (US)</span>
</div>
</article>

<!-- Convertisseur heures ↔ minutes -->
<article
class="tool-card"
data-name="convertisseur temps heures minutes"
data-category="convertisseur"
onclick="scrollToElement('tool-time')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur heures ↔ minutes</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis des heures en minutes ou des minutes en heures en un clin d’œil.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 h = 60 min</span>
</div>
</article>

<!-- Convertisseur vitesses km/h ↔ mph -->
<article
class="tool-card"
data-name="convertisseur vitesse km/h mph miles per hour"
data-category="convertisseur"
onclick="scrollToElement('tool-speed')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur km/h ↔ mph</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis une vitesse entre km/h et miles per hour, pratique pour les voyages et voitures.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>Basé sur 1 mile ≈ 1,609 km</span>
</div>
</article>

<!-- Calculateur de TVA -->
<article
  class="tool-card"
  data-name="calculateur tva net brut hors taxe"
  data-category="finance"
  onclick="scrollToElement('tool-vat')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">calculateur de TVA</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Calculez rapidement la TVA, nette (hors taxe) ou brute (taxe comprise),
    à partir de n'importe quel taux de TVA.
  </p>
  <div class="tool-card-meta">
    <span>✔ Disponible</span>
    <span>Net ↔ Brut</span>
  </div>
</article>

<!-- Salaire net ↔ salaire brut -->
<article
  class="tool-card"
  data-name="salaire net brut simulateur"
  data-category="finance"
  onclick="scrollToElement('tool-salary')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Salaire net ↔ salaire brut</div>
    <div class="tool-card-tag">Finance</div>
  </div>
  <p class="tool-card-desc">
    Estimer le salaire net à partir du salaire brut (ou l'inverse) en
    utilisant un taux de cotisation choisi.
  </p>
  <div class="tool-card-meta">
    <span>✔ Disponible</span>
    <span>Estimation simple</span>
  </div>
</article>

<!-- Générateur de fausses données -->
<article
class="tool-card"
data-name="générateur fausses données faux noms emails"
data-category="divers"
onclick="scrollToElement('tool-fake')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Générateur de fausses données</div>
  <div class="tool-card-tag">Divers</div>
</div>
<p class="tool-card-desc">
  Génère de faux noms et emails pour des tests ou des maquettes, sans données réelles.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>JS natif</span>
</div>
</article>

            <article
              class="tool-card"
              data-name="convertisseur km miles distance"
              data-category="convertisseur"
              onclick="scrollToElement('tool-distance')"
            >
              <div class="tool-card-header">
                <div class="tool-card-title">Convertisseur km ↔ miles</div>
                <div class="tool-card-tag">Convertisseur</div>
              </div>
              <p class="tool-card-desc">
                Convertissez vos distances instantanément, pour les voyages, la course à pied
                ou les fiches techniques.
              </p>
              <div class="tool-card-meta">
                <span>↔ Bidirectionnel</span>
                <span>● Sans connexion serveur</span>
              </div>
            </article>

            <article
              class="tool-card"
              data-name="générateur mot de passe password sécurisé"
              data-category="securite"
              onclick="scrollToElement('tool-password')"
            >
              <div class="tool-card-header">
                <div class="tool-card-title">Générateur de mot de passe</div>
                <div class="tool-card-tag">Sécurité</div>
              </div>
              <p class="tool-card-desc">
                Créez des mots de passe robustes en un clic, avec majuscules, chiffres 
                et symboles, directement dans le navigateur.
              </p>
              <div class="tool-card-meta">
                <span>★ Aucun envoi en ligne</span>
                <span>Client-side uniquement</span>
              </div>
            </article>

            <article
              class="tool-card"
              data-name="calculateur imc bmi indice masse corporelle"
              data-category="sante"
              onclick="scrollToElement('tool-imc')"
            >
              <div class="tool-card-header">
                <div class="tool-card-title">Calculateur d'IMC</div>
                <div class="tool-card-tag">Santé</div>
              </div>
              <p class="tool-card-desc">
                Calculez rapidement votre Indice de Masse Corporelle (IMC) 
                pour une idée générale de votre catégorie de poids.
              </p>
              <div class="tool-card-meta">
                <span>⚠ Non médical</span>
                <span>Pour une première indication seulement</span>
              </div>
            </article>

            <article
            class="tool-card"
            data-name="chronomètre minuteur timer compte à rebours"
            data-category="divers"
            onclick="scrollToElement('tool-timer')"
          >
            <div class="tool-card-header">
              <div class="tool-card-title">Chronomètre & minuteur</div>
              <div class="tool-card-tag">Divers</div>
            </div>
            <p class="tool-card-desc">
              Lance un chrono simple ou un compte à rebours pour cuisiner, étudier ou faire du sport.
            </p>
            <div class="tool-card-meta">
              <span>✔ Disponible</span>
              <span>Simple et rapide</span>
            </div>
          </article>

          <article
          class="tool-card"
          data-name="tirage au sort random aléatoire"
          data-category="divers"
          onclick="scrollToElement('tool-random')"
        >
          <div class="tool-card-header">
            <div class="tool-card-title">Tirage au sort</div>
            <div class="tool-card-tag">Divers</div>
          </div>
          <p class="tool-card-desc">
            Entre des prénoms ou options et tire un gagnant de manière totalement aléatoire.
          </p>
          <div class="tool-card-meta">
            <span>✔ Disponible</span>
            <span>JS natif</span>
          </div>
        </article>

        <article
        class="tool-card"
        data-name="convertisseur temperature celsius fahrenheit"
        data-category="convertisseur"
        onclick="scrollToElement('tool-temp')"
      >
        <div class="tool-card-header">
          <div class="tool-card-title">Convertisseur °C ↔ °F</div>
          <div class="tool-card-tag">Convertisseur</div>
        </div>
        <p class="tool-card-desc">
          Passe rapidement de Celsius à Fahrenheit pour les recettes, la météo ou les documents.
        </p>
        <div class="tool-card-meta">
          <span>✔ Disponible</span>
          <span>Formule simple en JS</span>
        </div>
      </article>

      <!-- Convertisseur kg ↔ lb -->
<article
class="tool-card"
data-name="convertisseur poids kg livres lbs"
data-category="convertisseur"
onclick="scrollToElement('tool-weight')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Convertisseur kg ↔ lb</div>
  <div class="tool-card-tag">Convertisseur</div>
</div>
<p class="tool-card-desc">
  Convertis rapidement des kilos en livres (lbs) et inversement pour le sport,
  la nutrition ou les fiches produits.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>1 kg ≈ 2,20462 lb</span>
</div>
</article>

<!-- Compteur de jours -->
<article
class="tool-card"
data-name="compteur jours date échéance deadline compte à rebours"
data-category="divers"
onclick="scrollToElement('tool-countdown')"
>
<div class="tool-card-header">
  <div class="tool-card-title">Compte à rebours (jours)</div>
  <div class="tool-card-tag">Organisation</div>
</div>
<p class="tool-card-desc">
  Indique une date importante (voyage, examen, projet) et vois combien de jours il reste.
</p>
<div class="tool-card-meta">
  <span>✔ Disponible</span>
  <span>Calcul local</span>
</div>
</article>

<article
  class="tool-card"
  data-name="calcul pourcentage réduction augmentation"
  data-category="convertisseur"
  onclick="scrollToElement('tool-percentage')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de pourcentage</div>
    <div class="tool-card-tag">Convertisseur</div>
  </div>
  <p class="tool-card-desc">
    Calcule une réduction ou une augmentation en pourcentage : promos, remises, hausses…
  </p>
  <div class="tool-card-meta">
    <span>✔ Disponible</span>
    <span>Rapide</span>
  </div>
</article>

<article
  class="tool-card"
  data-name="calcul moyenne notes valeurs"
  data-category="divers"
  onclick="scrollToElement('tool-average')"
>
  <div class="tool-card-header">
    <div class="tool-card-title">Calculateur de moyenne</div>
    <div class="tool-card-tag">Divers</div>
  </div>
  <p class="tool-card-desc">
    Entre une liste de valeurs et obtiens la moyenne instantanément.
  </p>
  <div class="tool-card-meta">
    <span>✔ Disponible</span>
    <span>JS natif</span>
  </div>
</article>
          </div>

          <!-- TOOLS IMPLEMENTÉS -->

          <!-- TOOLS IMPLEMENTÉS -->

          <!-- 🟦 Convertisseurs -->
          <section id="convertisseurs">
            <h2 class="section-title" style="margin-bottom:0.6rem;">Convertisseurs</h2>

            <article id="tool-concrete" class="tool-section">
                <h3>Calcul de béton (volume + sacs de ciment)</h3>
                <p>
                  Cet outil t’aide à estimer le <strong>volume de béton en m³</strong> pour une dalle
                  rectangulaire, ainsi que le <strong>nombre de sacs de ciment</strong> nécessaires
                  avec un dosage standard (environ 350&nbsp;kg de ciment par m³ de béton).
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); calculateConcreteBags();">
                  <div class="field">
                    <label for="concreteLength">Longueur (m)</label>
                    <input
                      id="concreteLength"
                      type="number"
                      step="0.01"
                      min="0"
                      placeholder="Ex. 5"
                    />
                  </div>
              
                  <div class="field">
                    <label for="concreteWidth">Largeur (m)</label>
                    <input
                      id="concreteWidth"
                      type="number"
                      step="0.01"
                      min="0"
                      placeholder="Ex. 4"
                    />
                  </div>
              
                  <div class="field">
                    <label for="concreteThickness">Épaisseur (cm)</label>
                    <input
                      id="concreteThickness"
                      type="number"
                      step="0.5"
                      min="1"
                      placeholder="Ex. 12"
                    />
                  </div>
              
                  <div class="field">
                    <label for="concreteBagSize">Poids d’un sac de ciment (kg)</label>
                    <select id="concreteBagSize">
                      <option value="25">25 kg</option>
                      <option value="30">30 kg</option>
                      <option value="35" selected>35 kg (classique)</option>
                      <option value="40">40 kg</option>
                    </select>
                  </div>
                </form>
              
                <div style="margin-top:1rem;">
                  <button class="btn-tool" type="button" onclick="calculateConcreteBags()">
                    Calculer le volume et les sacs
                  </button>
                </div>
              
                <div class="tool-result" id="concreteResult"></div>
              
                <div class="small-note">
                  Approximation : dosage standard d’environ <strong>350&nbsp;kg de ciment par m³</strong> 
                  de béton. Le calcul ne prend pas en compte les particularités de ton chantier
                  (ferraillage, adjuvants, pertes, conditions météo, etc.).  
                  Pour un projet important, demande toujours un avis professionnel.
                </div>
              </article>

            <article id="tool-energie" class="tool-section">
                <h3>Convertisseur d’énergie : Joules ↔ calories ↔ kWh</h3>
                <p>
                  Saisis une valeur en Joules, en calories alimentaires (<strong>kcal</strong>) ou en kilowattheures (<strong>kWh</strong>)
                  et le convertisseur calcule automatiquement les deux autres unités.
                  Conversion utilisée : 1 kcal ≈ 4 184 J, 1 kWh = 3 600 000 J.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertEnergyFR();">
                  <div class="field">
                    <label for="energyJ_fr">Énergie (Joules, J)</label>
                    <input id="energyJ_fr" type="number" step="0.000001" placeholder="Ex. 4184" />
                  </div>
              
                  <div class="field">
                    <label for="energyKcal_fr">Énergie (calories, kcal)</label>
                    <input id="energyKcal_fr" type="number" step="0.000001" placeholder="Ex. 1" />
                  </div>
              
                  <div class="field">
                    <label for="energyKwh_fr">Énergie (kWh)</label>
                    <input id="energyKwh_fr" type="number" step="0.000001" placeholder="Ex. 1" />
                  </div>
                </form>
              
                <div style="margin-top: 0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertEnergyFR()">Convertir</button>
                </div>
              
                <div class="tool-result" id="energyResult_fr"></div>
              
                <div class="small-note">
                  Rappel : 1 kcal ≈ 4 184 J (calorie « alimentaire ») et 1 kWh = 3 600 000 J.
                  Les valeurs sont arrondies pour simplifier la lecture.
                </div>
              </article>

            <article id="tool-fraction" class="tool-section">
                <h3>Convertisseur fraction ↔ décimal ↔ pourcentage</h3>
                <p>
                  Saisis une fraction (par ex. <strong>1/4</strong>), un décimal (par ex. <strong>0,25</strong>)
                  ou un pourcentage (par ex. <strong>25</strong>) et le convertisseur calcule automatiquement
                  les deux autres formes.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertFractionDecimalPercent();">
                  <div class="field">
                    <label for="fractionInput">Fraction (a/b)</label>
                    <input
                      id="fractionInput"
                      type="text"
                      placeholder="Ex. 1/4"
                    />
                  </div>
              
                  <div class="field">
                    <label for="decimalInput">Décimal</label>
                    <input
                      id="decimalInput"
                      type="text"
                      placeholder="Ex. 0,25"
                    />
                  </div>
              
                  <div class="field">
                    <label for="percentInput">Pourcentage (%)</label>
                    <input
                      id="percentInput"
                      type="text"
                      placeholder="Ex. 25"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertFractionDecimalPercent()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="fractionResult"></div>
                <div class="small-note">
                  Exemple : 1/4 → 0,25 → 25 %.  
                  Pour les décimaux, une fraction approximative est calculée (dénominateur ≤ 100).
                </div>
              </article>

            <article id="tool-angle" class="tool-section">
                <h3>Convertisseur d’angle : degrés ↔ % pente ↔ radians</h3>
                <p>
                  Convertis instantanément un angle entre degrés, pourcentage de pente et radians.
                  Les valeurs sont calculées directement dans ton navigateur.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertAngle();">
                  <div class="field">
                    <label for="angleDegrees">Degrés (°)</label>
                    <input id="angleDegrees" type="number" step="0.01" placeholder="Ex. 30" />
                  </div>
              
                  <div class="field">
                    <label for="anglePercent">Pente (%)</label>
                    <input id="anglePercent" type="number" step="0.01" placeholder="Ex. 57.7" />
                  </div>
              
                  <div class="field">
                    <label for="angleRadians">Radians</label>
                    <input id="angleRadians" type="number" step="0.0001" placeholder="Ex. 0.52" />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertAngle()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="angleResult"></div>
              
                <div class="small-note">
                  Formules utilisées : <br>
                  • % pente = tan(°) × 100 <br>
                  • radians = degrés × π/180 <br>
                  • degrés = radians × 180/π
                </div>
              </article>

            <article id="tool-lumens-led" class="tool-section">
                <h3>Convertisseur Lumens ↔ Watts (LED)</h3>
                <p>
                  Ce convertisseur te donne une estimation de la puissance en watts d’une ampoule LED
                  à partir de son flux lumineux (lumens), et inversement. 
                  Il utilise une valeur moyenne de <strong>≈ 90 lumens par watt</strong>, qui peut varier
                  selon la qualité de l’ampoule.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertLumensWatts();">
                  <div class="field">
                    <label for="lumensInput">Flux lumineux (lumens)</label>
                    <input
                      id="lumensInput"
                      type="number"
                      step="1"
                      placeholder="Ex. 800 (ampoule LED classique)"
                    />
                  </div>
              
                  <div class="field">
                    <label for="wattsInput">Puissance (watts, LED)</label>
                    <input
                      id="wattsInput"
                      type="number"
                      step="0.1"
                      placeholder="Ex. 9"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertLumensWatts()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="lumensWattsResult"></div>
                <div class="small-note">
                  Exemple : une ampoule LED de 800 lm correspond approximativement à 8,9 W avec 90 lm/W.  
                  Attention : la valeur réelle dépend du rendement de chaque modèle.
                </div>
              </article>

            <article id="tool-travel-time" class="tool-section">
                <h3>Calculateur de temps de trajet</h3>
                <p>
                  Estime le temps nécessaire pour parcourir une distance en fonction
                  d’une vitesse moyenne. Pratique pour préparer un trajet en voiture,
                  à vélo ou pour un projet.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); calculateTravelTime();">
                  <div class="field">
                    <label for="travelDistance">Distance</label>
                    <input
                      id="travelDistance"
                      type="number"
                      step="0.1"
                      placeholder="Ex. 250"
                    />
                  </div>
              
                  <div class="field">
                    <label for="travelDistanceUnit">Unité de distance</label>
                    <select id="travelDistanceUnit">
                      <option value="km" selected>km</option>
                      <option value="mi">miles</option>
                    </select>
                  </div>
              
                  <div class="field">
                    <label for="travelSpeed">Vitesse moyenne</label>
                    <input
                      id="travelSpeed"
                      type="number"
                      step="0.1"
                      placeholder="Ex. 90"
                    />
                  </div>
              
                  <div class="field">
                    <label for="travelSpeedUnit">Unité de vitesse</label>
                    <select id="travelSpeedUnit">
                      <option value="kmh" selected>km/h</option>
                      <option value="mph">mph</option>
                    </select>
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="calculateTravelTime()">
                    Calculer le temps de trajet
                  </button>
                </div>
              
                <div class="tool-result" id="travelTimeResult"></div>
                <div class="small-note">
                  Le calcul est une estimation idéale (vitesse constante, pas de pause,
                  pas de trafic).  
                  1 mile ≈ 1,609 km.
                </div>
              </article>

            <article id="tool-decimal-hours" class="tool-section">
                <h3>Convertisseur heures décimales ↔ heures + minutes</h3>
                <p>
                  Convertis des heures au format décimal (par ex. 7,5 h) en heures + minutes 
                  (7 h 30), ou l’inverse. Pratique pour les feuilles de temps, la paye ou la
                  gestion de projet.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertDecimalHours();">
                  <div class="field">
                    <label for="decimalHoursInput">Heures décimales</label>
                    <input
                      id="decimalHoursInput"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 7,5"
                    />
                  </div>
              
                  <div class="field">
                    <label for="hoursInputDec">Heures (h)</label>
                    <input
                      id="hoursInputDec"
                      type="number"
                      step="1"
                      placeholder="Ex. 7"
                    />
                  </div>
              
                  <div class="field">
                    <label for="minutesInputDec">Minutes (min)</label>
                    <input
                      id="minutesInputDec"
                      type="number"
                      step="1"
                      placeholder="Ex. 30"
                    />
                  </div>
              
                  <div class="field">
                    <label>Direction de conversion</label>
                    <div class="chip-row">
                      <label class="chip">
                        <input
                          type="radio"
                          name="decimalHoursMode"
                          value="dec-to-hm"
                          checked
                        />
                        <span>Décimal → h + min</span>
                      </label>
                      <label class="chip">
                        <input
                          type="radio"
                          name="decimalHoursMode"
                          value="hm-to-dec"
                        />
                        <span>h + min → décimal</span>
                      </label>
                    </div>
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertDecimalHours()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="decimalHoursResult"></div>
                <div class="small-note">
                  Exemples : 7,5 h → 7 h 30 • 1,25 h → 1 h 15  
                  7 h 30 → 7,5 h • 1 h 15 → 1,25 h.  
                  Arrondis simples aux minutes les plus proches.
                </div>
              </article>

            <article id="tool-crypto-eur" class="tool-section">
                <h3>Convertisseur Euro ↔ Bitcoin / Crypto (taux manuel)</h3>
                <p>
                  Saisis un montant en euros, le prix d’1 unité de Bitcoin ou d’une autre crypto,
                  puis choisis le sens de conversion. Aucun appel API : tout est calculé localement.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertCryptoEur();">
                  <div class="field">
                    <label for="cryptoName">Nom de la crypto (optionnel)</label>
                    <input
                      id="cryptoName"
                      type="text"
                      placeholder="Ex. BTC, ETH, SOL…"
                    />
                  </div>
              
                  <div class="field">
                    <label for="cryptoPrice">Prix de 1 unité (en €)</label>
                    <input
                      id="cryptoPrice"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 65000"
                    />
                  </div>
              
                  <div class="field">
                    <label for="cryptoAmountOrEur">Montant à convertir</label>
                    <input
                      id="cryptoAmountOrEur"
                      type="number"
                      step="0.00000001"
                      placeholder="Ex. 100 (en €) ou 0,002 (en crypto)"
                    />
                  </div>
              
                  <div class="field">
                    <label>Direction de conversion</label>
                    <div class="chip-row">
                      <label class="chip">
                        <input
                          type="radio"
                          name="cryptoDirection"
                          value="eur-to-crypto"
                          checked
                        />
                        <span>€ → Crypto</span>
                      </label>
                      <label class="chip">
                        <input
                          type="radio"
                          name="cryptoDirection"
                          value="crypto-to-eur"
                        />
                        <span>Crypto → €</span>
                      </label>
                    </div>
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertCryptoEur()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="cryptoEurResult"></div>
                <div class="small-note">
                  Exemple : si 1 BTC = 65 000 €, alors 100 € ≈ 0,00154 BTC.  
                  Ce convertisseur est indicatif et ne remplace pas une plateforme d’échange.
                </div>
              </article>

            <article id="tool-pdf-jpg" class="tool-section">
                <h3>Convertisseur PDF ↔ JPG</h3>
                <p>
                  Convertis une page PDF en image JPG ou transforme une image (JPG/PNG)
                  en fichier PDF. Tout est fait localement dans ton navigateur, sans
                  envoyer les fichiers sur un serveur.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertPdfJpg();">
                  <div class="field">
                    <label for="pdfJpgMode">Type de conversion</label>
                    <select id="pdfJpgMode" onchange="updatePdfJpgAccept()">
                      <option value="pdf-to-jpg">PDF → JPG (1ʳᵉ page)</option>
                      <option value="jpg-to-pdf">JPG/PNG → PDF</option>
                    </select>
                  </div>
              
                  <div class="field">
                    <label for="pdfJpgFile">Fichier à convertir</label>
                    <input
                      id="pdfJpgFile"
                      type="file"
                      accept="application/pdf"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertPdfJpg()">
                    Lancer la conversion
                  </button>
                </div>
              
                <div class="tool-result" id="pdfJpgResult" style="margin-top:0.7rem;"></div>
              
                <!-- Canvas pour l’aperçu et la conversion PDF → JPG -->
                <canvas
                  id="pdfJpgCanvas"
                  style="display:none; margin-top:1rem; max-width:100%; border-radius:12px; background:#020617;"
                ></canvas>
              
                <!-- Lien de téléchargement -->
                <div style="margin-top:0.9rem;">
                  <a
                    id="pdfJpgDownloadLink"
                    href="#"
                    style="display:none; font-size:0.85rem; color:#a5b4fc; text-decoration:underline;"
                  >
                    Télécharger le fichier converti
                  </a>
                </div>
              
                <div class="small-note">
                  Limites : pour l’instant, la conversion PDF → JPG ne prend que la première page.
                  L’outil gère les images JPG et PNG pour la conversion vers PDF.
                </div>
              </article>

            <!-- Convertisseur fractions ↔ décimales -->
<article id="tool-fractions" class="tool-section">
    <h3>Convertisseur fractions ↔ décimales</h3>
    <p>
      Saisis une fraction comme <code>1/3</code> ou un nombre décimal comme <code>0,75</code>,
      et l’outil convertit dans l’autre format. Pratique pour les recettes, le bricolage
      ou les exercices de maths.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertFractionDecimal();">
      <div class="field">
        <label for="fractionInput">Fraction (ex. 1/3)</label>
        <input
          id="fractionInput"
          type="text"
          placeholder="Ex. 2/5"
          oninput="fractionToDecimal()"
        />
      </div>
      <div class="field">
        <label for="decimalInput">Décimal (ex. 0,4)</label>
        <input
          id="decimalInput"
          type="text"
          placeholder="Ex. 0,4"
          oninput="decimalToFraction()"
        />
      </div>
    </form>
  
    <div class="tool-result" id="fractionResult"></div>
    <div class="small-note">
      Astuce : tu peux utiliser la virgule ou le point pour les décimales.
      Les fractions sont données sous forme simplifiée (approximation).
    </div>
  </article>
  
  <!-- Convertisseur mètres ↔ pieds -->
  <article id="tool-meters-feet" class="tool-section">
    <h3>Convertisseur mètres ↔ pieds (ft)</h3>
    <p>
      Convertis des longueurs entre mètres et pieds. Utile pour les plans, la construction
      ou la lecture de documents techniques en unités impériales.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertMetersFeet();">
      <div class="field">
        <label for="metersInput">Longueur en mètres (m)</label>
        <input
          id="metersInput"
          type="number"
          step="0.0001"
          placeholder="Ex. 2,5"
        />
      </div>
      <div class="field">
        <label for="feetInput">Longueur en pieds (ft)</label>
        <input
          id="feetInput"
          type="number"
          step="0.0001"
          placeholder="Ex. 8,20"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertMetersFeet()">
        Convertir
      </button>
    </div>
  
    <div class="tool-result" id="metersFeetResult"></div>
    <div class="small-note">
      Valeur utilisée : 1 m = 3,28084 ft (approx.).
    </div>
  </article>
  
  <!-- Convertisseur m/s ↔ km/h -->
  <article id="tool-speed-ms-kmh" class="tool-section">
    <h3>Convertisseur vitesse m/s ↔ km/h</h3>
    <p>
      Conversion simple entre mètre par seconde (m/s) et kilomètre par heure (km/h).
      Utile pour la météo, la course à pied ou les exercices de physique.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertSpeedMSKMH();">
      <div class="field">
        <label for="speedMSInput">Vitesse (m/s)</label>
        <input
          id="speedMSInput"
          type="number"
          step="0.01"
          placeholder="Ex. 5"
        />
      </div>
      <div class="field">
        <label for="speedKMHInput">Vitesse (km/h)</label>
        <input
          id="speedKMHInput"
          type="number"
          step="0.01"
          placeholder="Ex. 18"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertSpeedMSKMH()">
        Convertir
      </button>
    </div>
  
    <div class="tool-result" id="speedResult"></div>
    <div class="small-note">
      Formule : 1 m/s = 3,6 km/h.
    </div>
  </article>
  
  <!-- Convertisseur Joules ↔ Calories -->
  <article id="tool-energy" class="tool-section">
    <h3>Convertisseur énergie Joules ↔ kilocalories</h3>
    <p>
      Convertis une énergie entre joules (J) et kilocalories (kcal). Pratique pour comparer
      des données de nutrition, de sport ou de physique.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertEnergy();">
      <div class="field">
        <label for="energyJInput">Énergie (J)</label>
        <input
          id="energyJInput"
          type="number"
          step="0.01"
          placeholder="Ex. 4184"
        />
      </div>
      <div class="field">
        <label for="energyKcalInput">Énergie (kcal)</label>
        <input
          id="energyKcalInput"
          type="number"
          step="0.01"
          placeholder="Ex. 1"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertEnergy()">
        Convertir
      </button>
    </div>
  
    <div class="tool-result" id="energyResult"></div>
    <div class="small-note">
      Valeur utilisée : 1 kcal = 4 184 J (kilocalorie “alimentaire”).
    </div>
  </article>
  
  <!-- Convertisseur pression bar ↔ psi -->
  <article id="tool-pressure" class="tool-section">
    <h3>Convertisseur de pression bar ↔ psi</h3>
    <p>
      Convertis une pression entre bar et psi, par exemple pour les pneus, les systèmes
      hydrauliques ou les compresseurs.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertPressure();">
      <div class="field">
        <label for="barInput">Pression (bar)</label>
        <input
          id="barInput"
          type="number"
          step="0.0001"
          placeholder="Ex. 2,5"
        />
      </div>
      <div class="field">
        <label for="psiInput">Pression (psi)</label>
        <input
          id="psiInput"
          type="number"
          step="0.01"
          placeholder="Ex. 36,26"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertPressure()">
        Convertir
      </button>
    </div>
  
    <div class="tool-result" id="pressureResult"></div>
    <div class="small-note">
      Valeur utilisée : 1 bar ≈ 14,5038 psi.
    </div>
  </article>

            <article id="tool-time" class="tool-section">
                <h3>Convertisseur de temps : jours → heures / minutes / secondes</h3>
                <p>
                  Entre un nombre de jours pour obtenir l'équivalent en heures, minutes et secondes.
                  Pratique pour visualiser une durée de projet, de vacances ou de délai.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertTimeFromDays();">
                  <div class="field">
                    <label for="daysInput">Nombre de jours</label>
                    <input
                      id="daysInput"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 1,5"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertTimeFromDays()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="timeResult"></div>
                <div class="small-note">
                  1 jour = 24 heures = 1&nbsp;440 minutes = 86&nbsp;400 secondes.
                </div>
              </article>

            <article id="tool-bytes" class="tool-section">
                <h3>Convertisseur Ko / Mo / Go / To</h3>
                <p>
                  Indique une taille et son unité de départ (octets, Ko, Mo, Go, To) pour obtenir
                  les équivalents dans les autres unités. Idéal pour comprendre la taille réelle
                  de tes fichiers.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertBytes();">
                  <div class="field">
                    <label for="bytesValueInput">Valeur</label>
                    <input
                      id="bytesValueInput"
                      type="number"
                      step="0.0001"
                      placeholder="Ex. 1024"
                    />
                  </div>
              
                  <div class="field">
                    <label for="bytesUnitSelect">Unité de départ</label>
                    <select id="bytesUnitSelect">
                      <option value="B">Octets (B)</option>
                      <option value="KB">Kilooctets (Ko)</option>
                      <option value="MB">Mégaoctets (Mo)</option>
                      <option value="GB">Gigaoctets (Go)</option>
                      <option value="TB">Téraoctets (To)</option>
                    </select>
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertBytes()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="bytesResult"></div>
                <div class="small-note">
                  Les conversions utilisent les puissances de 2 courantes en informatique :
                  1 Ko = 1024 octets, 1 Mo = 1024 Ko, etc.
                </div>
              </article>

            <article id="tool-currency" class="tool-section">
                <h3>Convertisseur de devises (taux manuel)</h3>
                <p>
                  Indique un montant, choisis le sens de conversion et définis ton propre taux,
                  par exemple : <strong>1 € = 1,08 $</strong>. Aucun appel à une API, tout est
                  calculé en local.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertCurrency();">
                  <div class="field">
                    <label for="currencyAmountInput">Montant à convertir</label>
                    <input
                      id="currencyAmountInput"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 100"
                    />
                  </div>
              
                  <div class="field">
                    <label for="currencyRateInput">Taux (1 € = ... autre devise)</label>
                    <input
                      id="currencyRateInput"
                      type="number"
                      step="0.0001"
                      placeholder="Ex. 1.08"
                    />
                  </div>
              
                  <div class="field">
                    <label>Direction de conversion</label>
                    <div class="chip-row">
                      <label class="chip">
                        <input
                          type="radio"
                          name="currencyMode"
                          value="eurToOther"
                          checked
                        />
                        <span>€ → autre devise</span>
                      </label>
                      <label class="chip">
                        <input
                          type="radio"
                          name="currencyMode"
                          value="otherToEur"
                        />
                        <span>Autre devise → €</span>
                      </label>
                    </div>
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertCurrency()">
                    Convertir
                  </button>
                </div>
              
                <div class="tool-result" id="currencyResult"></div>
                <div class="small-note">
                  Exemple : avec un taux de 1 € = 1,08 $, 100 € donnent 108 $.  
                  À l’inverse, 108 $ avec ce taux correspondent à 100 €.
                </div>
              </article>

            <article id="tool-flow" class="tool-section">
                <h3>Convertisseur de débit L/min ↔ m³/h</h3>
                <p>
                  Indique un débit en litres par minute (L/min) ou en mètres cubes par heure (m³/h)
                  pour obtenir l'autre valeur. Pratique pour les réseaux d'eau, les pompes,
                  l'arrosage, etc.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertFlow();">
                  <div class="field">
                    <label for="flowLminInput">Débit (L/min)</label>
                    <input
                      id="flowLminInput"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 25"
                    />
                  </div>
                  <div class="field">
                    <label for="flowM3hInput">Débit (m³/h)</label>
                    <input
                      id="flowM3hInput"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 1.50"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertFlow()">
                    Calculer
                  </button>
                </div>
              
                <div class="tool-result" id="flowResult"></div>
                <div class="small-note">
                  Formules utilisées : m³/h = L/min × 0,06 &nbsp;•&nbsp; L/min ≈ m³/h × 16,67.
                </div>
              </article>

            <article id="tool-area-volume" class="tool-section">
                <h3>Convertisseur surface → volume (m² ↔ m³)</h3>
                <p>
                  Indique une surface en m² et une hauteur en mètres pour obtenir le volume en m³.
                  Pratique pour estimer du béton, de la peinture ou le volume utile d'une pièce.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); convertAreaVolume();">
                  <div class="field">
                    <label for="areaSurfaceInput">Surface (m²)</label>
                    <input
                      id="areaSurfaceInput"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 25"
                    />
                  </div>
                  <div class="field">
                    <label for="areaHeightInput">Hauteur (m)</label>
                    <input
                      id="areaHeightInput"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 2.5"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertAreaVolume()">
                    Calculer le volume
                  </button>
                </div>
              
                <div class="tool-result" id="areaVolumeResult"></div>
                <div class="small-note">
                  Formule utilisée : volume (m³) = surface (m²) × hauteur (m).
                </div>
              </article>

            <article id="tool-distance" class="tool-section">
              <h3>Convertisseur de distance km ↔ miles</h3>
              <p>
                Conversion simple et immédiate. 1 km ≈ 0,621371 mile. 
                Tous les calculs se font directement dans ton navigateur.
              </p>

              <form class="tool-form" onsubmit="event.preventDefault(); convertDistance();">
                <div class="field">
                  <label for="kmInput">Kilomètres (km)</label>
                  <input
                    id="kmInput"
                    type="number"
                    step="0.0001"
                    placeholder="Par ex. 10"
                    oninput="convertKmToMiles()"
                  />
                </div>
                <div class="field">
                  <label for="milesInput">Miles (mi)</label>
                  <input
                    id="milesInput"
                    type="number"
                    step="0.0001"
                    placeholder="Par ex. 6.21"
                    oninput="convertMilesToKm()"
                  />
                </div>
              </form>
              <div class="tool-result" id="distanceResult"></div>
              <div class="small-note">
                Note : ce convertisseur utilise la valeur standard 1 km = 0,621371 mile.
              </div>
            </article>

            <p class="section-subtitle">
                Besoin d’un autre type d’outil ? Explore aussi la
                <a href="#securite">sécurité (mots de passe)</a>,
                la <a href="#sante">santé (IMC)</a> ou
                l’<a href="#organisation">organisation &amp; divers</a>.
              </p>

            <article id="tool-temp" class="tool-section">
              <h3>Convertisseur °C ↔ °F</h3>
              <p>
                Conversion rapide entre degrés Celsius et Fahrenheit pour recettes,
                météo ou fiches techniques.
              </p>

              <form class="tool-form" onsubmit="event.preventDefault(); convertTemp();">
                <div class="field">
                  <label for="celsiusInput">Celsius (°C)</label>
                  <input
                    id="celsiusInput"
                    type="number"
                    step="0.1"
                    placeholder="Ex. 20"
                    oninput="cToF()"
                  />
                </div>
                <div class="field">
                  <label for="fahrenheitInput">Fahrenheit (°F)</label>
                  <input
                    id="fahrenheitInput"
                    type="number"
                    step="0.1"
                    placeholder="Ex. 68"
                    oninput="fToC()"
                  />
                </div>
              </form>

              <div class="tool-result" id="tempResult"></div>
              <div class="small-note">
                Formules utilisées : °F = °C × 9/5 + 32 et °C = (°F − 32) × 5/9.
              </div>
            </article>

            <article id="tool-percentage" class="tool-section">
                <h3>Calculateur de pourcentage</h3>
                <p>
                  Calcule rapidement une réduction ou une augmentation en pourcentage
                  (promotions, hausse de prix, remise, etc.).
                </p>
    
                <form class="tool-form" onsubmit="event.preventDefault(); calculatePercentage();">
                  <div class="field">
                    <label for="percentBase">Montant de départ (€)</label>
                    <input
                      id="percentBase"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 100"
                    />
                  </div>
    
                  <div class="field">
                    <label for="percentValue">Pourcentage (%)</label>
                    <input
                      id="percentValue"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 20"
                    />
                  </div>
    
                  <div class="field">
                    <label>Type de calcul</label>
                    <div class="chip-row">
                      <label class="chip">
                        <input
                          type="radio"
                          name="percentMode"
                          value="reduction"
                          checked
                        />
                        <span>Réduction</span>
                      </label>
                      <label class="chip">
                        <input
                          type="radio"
                          name="percentMode"
                          value="augmentation"
                        />
                        <span>Augmentation</span>
                      </label>
                    </div>
                  </div>
                </form>
    
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="calculatePercentage()">
                    Calculer
                  </button>
                </div>
    
                <div class="tool-result" id="percentageResult"></div>
                <div class="small-note">
                  Exemple : 100 € avec 20 % de réduction → 80 €.  
                  100 € avec 20 % d’augmentation → 120 €.
                </div>
              </article>

  <!-- Poids kg ↔ lb -->
  <article id="tool-weight" class="tool-section">
    <h3>Convertisseur de poids kg ↔ lb</h3>
    <p>
      Conversion simple entre kilogrammes et livres. Tous les calculs
      se font directement dans ton navigateur.
    </p>

    <form class="tool-form" onsubmit="event.preventDefault(); convertWeight();">
      <div class="field">
        <label for="kgInput">Kilogrammes (kg)</label>
        <input
          id="kgInput"
          type="number"
          step="0.01"
          placeholder="Ex. 70"
        />
      </div>
      <div class="field">
        <label for="lbsInput">Livres (lb)</label>
        <input
          id="lbsInput"
          type="number"
          step="0.01"
          placeholder="Ex. 154.32"
        />
      </div>
    </form>

    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertWeight()">
        Calculer
      </button>
    </div>

    <div class="tool-result" id="weightResult"></div>
    <div class="small-note">
      Valeur utilisée : 1 kg = 2,20462 lb (approx.).
    </div>
  </article>

  <!-- Convertisseur cm ↔ pouces -->
<article id="tool-cm-inch" class="tool-section">
    <h3>Convertisseur de longueur cm ↔ pouces (inch)</h3>
    <p>
      Convertis des centimètres en pouces (inch) et l’inverse.  
      1 pouce (inch) = 2,54 cm.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertCmInch();">
      <div class="field">
        <label for="cmInput">Centimètres (cm)</label>
        <input
          id="cmInput"
          type="number"
          step="0.01"
          placeholder="Ex. 10"
        />
      </div>
      <div class="field">
        <label for="inchInput">Pouces (in)</label>
        <input
          id="inchInput"
          type="number"
          step="0.01"
          placeholder="Ex. 3.94"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertCmInch()">
        Calculer
      </button>
    </div>
  
    <div class="tool-result" id="cmInchResult"></div>
    <div class="small-note">
      Conversion utilisée : 1 in = 2,54 cm (valeur standard).
    </div>
  </article>
  
  <!-- Convertisseur litres ↔ gallons -->
  <article id="tool-liters-gallons" class="tool-section">
    <h3>Convertisseur de volume litres ↔ gallons (US)</h3>
    <p>
      Convertis des litres en gallons US et inversement.  
      1 L ≈ 0,264172 gallon (US).
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertLitersGallons();">
      <div class="field">
        <label for="litersInput">Litres (L)</label>
        <input
          id="litersInput"
          type="number"
          step="0.001"
          placeholder="Ex. 5"
        />
      </div>
      <div class="field">
        <label for="gallonsInput">Gallons (US)</label>
        <input
          id="gallonsInput"
          type="number"
          step="0.001"
          placeholder="Ex. 1.32"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertLitersGallons()">
        Calculer
      </button>
    </div>
  
    <div class="tool-result" id="litersGallonsResult"></div>
    <div class="small-note">
      Ici, on utilise le gallon américain (US). 1 L ≈ 0,264172 gal (US).
    </div>
  </article>
  
  <!-- Convertisseur heures ↔ minutes -->
  <article id="tool-time" class="tool-section">
    <h3>Convertisseur heures ↔ minutes</h3>
    <p>
      Convertis des heures en minutes ou des minutes en heures.  
      Renseigne l’un des deux champs, l’autre sera calculé.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertTimeHM();">
      <div class="field">
        <label for="hoursInput">Heures (h)</label>
        <input
          id="hoursInput"
          type="number"
          step="0.01"
          placeholder="Ex. 1.5"
        />
      </div>
      <div class="field">
        <label for="minutesInput">Minutes (min)</label>
        <input
          id="minutesInput"
          type="number"
          step="1"
          placeholder="Ex. 90"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertTimeHM()">
        Calculer
      </button>
    </div>
  
    <div class="tool-result" id="timeResult"></div>
    <div class="small-note">
      1 heure = 60 minutes. Tu peux utiliser des décimales (ex. 1,5 h).
    </div>
  </article>
  
  <!-- Convertisseur vitesses km/h ↔ mph -->
  <article id="tool-speed" class="tool-section">
    <h3>Convertisseur de vitesse km/h ↔ mph</h3>
    <p>
      Convertis une vitesse entre kilomètres/heure (km/h) et miles per hour (mph).  
      Pratique pour comparer les vitesses entre pays.
    </p>
  
    <form class="tool-form" onsubmit="event.preventDefault(); convertSpeed();">
      <div class="field">
        <label for="kmhInput">Vitesse (km/h)</label>
        <input
          id="kmhInput"
          type="number"
          step="0.1"
          placeholder="Ex. 100"
        />
      </div>
      <div class="field">
        <label for="mphInput">Vitesse (mph)</label>
        <input
          id="mphInput"
          type="number"
          step="0.1"
          placeholder="Ex. 62.14"
        />
      </div>
    </form>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="convertSpeed()">
        Calculer
      </button>
    </div>
  
    <div class="tool-result" id="speedResult"></div>
    <div class="small-note">
      Conversion utilisée : 1 mph ≈ 1,60934 km/h.
    </div>
  </article>

<!-- 🟦 Finance / Budget -->
<section id="finance">
    <h2 class="section-title" style="margin:1.6rem 0 0.6rem;">Finance & budget</h2>

    <article id="tool-amortization" class="tool-section">
        <h3>Calculateur d’amortissement linéaire / dégressif</h3>
      
        <p>
          Saisis un <strong>montant de prêt</strong>, un <strong>taux d’intérêt annuel</strong> et
          une <strong>durée</strong> en années. Cet outil génère un tableau d’amortissement annuel
          en utilisant soit un <strong>amortissement linéaire</strong>
          (capital remboursé constant), soit un <strong>amortissement dégressif</strong>
          avec mensualités constantes (type prêt amortissable classique).
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateAmortizationFr();">
          <div class="field">
            <label for="amortAmountFr">Montant du prêt (€)</label>
            <input
              id="amortAmountFr"
              type="number"
              min="1"
              step="1000"
              placeholder="Ex. 200000"
            />
          </div>
      
          <div class="field">
            <label for="amortRateFr">Taux d’intérêt annuel (%)</label>
            <input
              id="amortRateFr"
              type="number"
              min="0"
              step="0.01"
              placeholder="Ex. 3.5"
            />
          </div>
      
          <div class="field">
            <label for="amortYearsFr">Durée (années)</label>
            <input
              id="amortYearsFr"
              type="number"
              min="1"
              max="40"
              step="1"
              placeholder="Ex. 20"
            />
          </div>
      
          <div class="field">
            <label for="amortTypeFr">Type d’amortissement</label>
            <select id="amortTypeFr">
              <option value="linear">Linéaire (capital constant)</option>
              <option value="declining">Dégressif (mensualités constantes)</option>
            </select>
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateAmortizationFr()">
            Générer le tableau
          </button>
        </div>
      
        <div class="tool-result" id="amortResultFr"></div>
      
        <div class="small-note">
          Approximation simple qui ignore les assurances, frais et conditions
          particulières des banques. Les montants sont arrondis à deux décimales.
          Le tableau est donné à titre indicatif uniquement.
        </div>
      </article>

    <article id="tool-rental-yield-fr" class="tool-section">
        <h3>Calculateur de rendement locatif</h3>
        <p>
          Indique le prix d’achat du bien, le loyer mensuel et les charges annuelles
          (taxe foncière, copropriété, entretien…). L’outil calcule le
          <strong>rendement brut</strong> et le <strong>rendement net</strong>.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateRentalYieldFR();">
          <div class="field">
            <label for="ryPrice_fr">Prix d’achat du bien (€)</label>
            <input
              id="ryPrice_fr"
              type="number"
              min="0"
              step="0.01"
              placeholder="Ex. 200000"
            />
          </div>
      
          <div class="field">
            <label for="ryRent_fr">Loyer mensuel hors charges (€)</label>
            <input
              id="ryRent_fr"
              type="number"
              min="0"
              step="0.01"
              placeholder="Ex. 800"
            />
          </div>
      
          <div class="field">
            <label for="ryCharges_fr">Charges annuelles (taxes, copro, etc.) (€)</label>
            <input
              id="ryCharges_fr"
              type="number"
              min="0"
              step="0.01"
              placeholder="Ex. 2000 (optionnel)"
            />
          </div>
        </form>
      
        <div style="margin-top: 0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateRentalYieldFR()">
            Calculer le rendement
          </button>
        </div>
      
        <div class="tool-result" id="ryResult_fr"></div>
      
        <div class="small-note">
          Formules utilisées :<br />
          • Rendement brut = (loyer annuel / prix d’achat) × 100<br />
          • Rendement net ≈ ((loyer annuel − charges annuelles) / prix d’achat) × 100
        </div>
      </article>

    <article id="tool-electricity" class="tool-section">
        <h3>Consommation électrique W → kWh → €</h3>
        <p>
          Estime la consommation d’un appareil électrique à partir de sa puissance en watts,
          du temps d’utilisation et du prix du kWh.
          Le calcul est effectué localement dans ton navigateur.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateElectricityCost();">
          <div class="field">
            <label for="elecPower">Puissance de l’appareil (W)</label>
            <input
              id="elecPower"
              type="number"
              step="1"
              placeholder="Ex. 1000 (pour 1 kW)"
            />
          </div>
      
          <div class="field">
            <label for="elecHoursPerDay">Durée d’utilisation par jour (heures)</label>
            <input
              id="elecHoursPerDay"
              type="number"
              step="0.1"
              placeholder="Ex. 2"
            />
          </div>
      
          <div class="field">
            <label for="elecDays">Nombre de jours</label>
            <input
              id="elecDays"
              type="number"
              step="1"
              placeholder="Ex. 30"
            />
          </div>
      
          <div class="field">
            <label for="elecPrice">Prix du kWh (€)</label>
            <input
              id="elecPrice"
              type="number"
              step="0.001"
              placeholder="Ex. 0,20"
            />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateElectricityCost()">
            Calculer
          </button>
        </div>
      
        <div class="tool-result" id="elecResult"></div>
      
        <div class="small-note">
          Exemple : un appareil de 1&nbsp;000&nbsp;W utilisé 2&nbsp;h/jour pendant 30&nbsp;jours,
          avec un prix de 0,20&nbsp;€/kWh consomme ≈ 60&nbsp;kWh, soit ≈ 12&nbsp;€.
        </div>
      </article>

    <article id="tool-crypto-pnl" class="tool-section">
        <h3>Gains & pertes (%) en crypto</h3>
        <p>
          Cet outil t’aide à estimer ton <strong>gain ou ta perte</strong> sur une
          position crypto à partir de ton <strong>prix d’achat</strong>, du
          <strong>prix actuel</strong> et, si tu le souhaites, de la
          <strong>quantité</strong> détenue.  
          Le résultat est purement indicatif et ne constitue pas un conseil financier.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateCryptoPnLFR();">
          <div class="field">
            <label for="cryptoBuyFR">Prix d’achat (par coin, en €)</label>
            <input
              id="cryptoBuyFR"
              type="number"
              step="0.00000001"
              placeholder="Ex. 25000"
            />
          </div>
      
          <div class="field">
            <label for="cryptoCurrentFR">Prix actuel (par coin, en €)</label>
            <input
              id="cryptoCurrentFR"
              type="number"
              step="0.00000001"
              placeholder="Ex. 32000"
            />
          </div>
      
          <div class="field">
            <label for="cryptoQtyFR">Quantité (optionnel)</label>
            <input
              id="cryptoQtyFR"
              type="number"
              step="0.00000001"
              placeholder="Ex. 0,1 ou 2"
            />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateCryptoPnLFR()">
            Calculer le gain / la perte
          </button>
        </div>
      
        <div class="tool-result" id="cryptoResultFR"></div>
        <div class="small-note">
          Exemple : si tu as acheté 1 BTC à 25&nbsp;000&nbsp;€ et qu’il vaut maintenant
          32&nbsp;000&nbsp;€, ton gain est de +28&nbsp;% environ.  
          Cet outil ne prend pas en compte les frais, la fiscalité ni les effets de
          change.
        </div>
      </article>

    <article id="tool-notary-fees" class="tool-section">
        <h3>Frais de notaire / achat immobilier</h3>
        <p>
          Cet outil te permet d’estimer les <strong>frais de notaire</strong> et le
          <strong>coût total de l’achat</strong> à partir du prix du bien et d’un
          pourcentage de frais.  
          Les résultats sont fournis à titre purement indicatif et ne remplacent pas
          un calcul personnalisé chez un notaire ou une banque.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateNotaryFeesFR();">
          <div class="field">
            <label for="notaryPriceFR">Prix d’achat du bien (€)</label>
            <input
              id="notaryPriceFR"
              type="number"
              step="0.01"
              placeholder="Ex. 250000"
            />
          </div>
      
          <div class="field">
            <label for="notaryRateFR">Taux de frais de notaire (%)</label>
            <input
              id="notaryRateFR"
              type="number"
              step="0.01"
              placeholder="Ex. 7 (ancien), 3 (neuf) à adapter"
            />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateNotaryFeesFR()">
            Calculer les frais de notaire
          </button>
        </div>
      
        <div class="tool-result" id="notaryResultFR"></div>
        <div class="small-note">
          Exemple (France) : pour un bien ancien, les frais de notaire sont souvent
          autour de 7&nbsp;–&nbsp;8&nbsp;% ; pour un bien neuf, plutôt autour de 2&nbsp;–&nbsp;3&nbsp;%.  
          Indique le pourcentage que tu souhaites utiliser pour ton calcul.
        </div>
      </article>

    <article id="tool-borrowing-capacity" class="tool-section">
        <h3>Capacité d’emprunt simple</h3>
        <p>
          Cet outil te donne une estimation de ta <strong>capacité d’emprunt</strong>
          à partir de tes revenus, de tes charges mensuelles et d’un
          <strong>taux d’endettement</strong> cible.  
          Le calcul reste indicatif et ne remplace pas une étude personnalisée
          par ta banque.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateBorrowingCapacityFR();">
          <div class="field">
            <label for="borrowIncomeFR">Revenus mensuels nets (€)</label>
            <input
              id="borrowIncomeFR"
              type="number"
              step="0.01"
              placeholder="Ex. 2 500"
            />
          </div>
      
          <div class="field">
            <label for="borrowChargesFR">Charges mensuelles (€)</label>
            <input
              id="borrowChargesFR"
              type="number"
              step="0.01"
              placeholder="Ex. 500 (crédits, loyers, etc.)"
            />
          </div>
      
          <div class="field">
            <label for="borrowRatioFR">Taux d’endettement max (%)</label>
            <input
              id="borrowRatioFR"
              type="number"
              step="0.1"
              placeholder="Ex. 35"
            />
          </div>
      
          <div class="field">
            <label for="borrowRateFR">Taux d’intérêt annuel (%)</label>
            <input
              id="borrowRateFR"
              type="number"
              step="0.01"
              placeholder="Ex. 4"
            />
          </div>
      
          <div class="field">
            <label for="borrowYearsFR">Durée du prêt (années)</label>
            <input
              id="borrowYearsFR"
              type="number"
              step="1"
              placeholder="Ex. 20"
            />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateBorrowingCapacityFR()">
            Calculer ma capacité d’emprunt
          </button>
        </div>
      
        <div class="tool-result" id="borrowResultFR"></div>
        <div class="small-note">
          Hypothèses : taux fixe, mensualités constantes, 12 mois par an.  
          Cette estimation ne tient pas compte des assurances, frais de dossier,
          situation familiale ou des critères précis de ta banque.
        </div>
      </article>

    <article id="tool-salary-time" class="tool-section">
        <h3>Salaire annuel ↔ mensuel ↔ horaire</h3>
        <p>
          Cet outil te permet de convertir ton salaire entre <strong>annuel</strong>,
          <strong>mensuel</strong> et <strong>horaire</strong>, en fonction du nombre
          d’heures travaillées par semaine. Il s’agit d’une estimation simple, basée
          sur <strong>52 semaines par an</strong>.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); convertSalaryTimeFR();">
          <div class="field">
            <label for="salaryYearFR">Salaire annuel (brut ou net)</label>
            <input
              id="salaryYearFR"
              type="number"
              step="0.01"
              placeholder="Ex. 30 000"
            />
          </div>
      
          <div class="field">
            <label for="salaryMonthFR">Salaire mensuel</label>
            <input
              id="salaryMonthFR"
              type="number"
              step="0.01"
              placeholder="Ex. 2 500"
            />
          </div>
      
          <div class="field">
            <label for="salaryHourFR">Salaire horaire</label>
            <input
              id="salaryHourFR"
              type="number"
              step="0.01"
              placeholder="Ex. 17"
            />
          </div>
      
          <div class="field">
            <label for="hoursPerWeekFR">Heures travaillées par semaine</label>
            <input
              id="hoursPerWeekFR"
              type="number"
              step="0.1"
              placeholder="Ex. 35"
            />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="convertSalaryTimeFR()">
            Convertir
          </button>
        </div>
      
        <div class="tool-result" id="salaryTimeResultFR"></div>
        <div class="small-note">
          Hypothèses : 12 mois par an, 52 semaines par an.  
          Le résultat est <strong>indicatif</strong> et ne tient pas compte des congés,
          primes ou particularités de ton contrat.
        </div>
      </article>

    <article id="tool-unit-price" class="tool-section">
        <h3>Calculateur de prix unitaire (prix au kg / litre / unité)</h3>
        <p>
          Indique le prix total payé et la quantité, puis choisis l’unité pour obtenir
          le prix par kg, par litre ou par unité. Pratique pour comparer les produits
          en rayon.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateUnitPrice();">
          <div class="field">
            <label for="unitPriceTotal">Montant total (€)</label>
            <input
              id="unitPriceTotal"
              type="number"
              step="0.01"
              placeholder="Ex. 5,49"
            />
          </div>
      
          <div class="field">
            <label for="unitPriceQuantity">Quantité totale</label>
            <input
              id="unitPriceQuantity"
              type="number"
              step="0.001"
              placeholder="Ex. 0,75"
            />
          </div>
      
          <div class="field">
            <label for="unitPriceUnit">Unité</label>
            <select id="unitPriceUnit">
              <option value="kg">kg</option>
              <option value="L">L</option>
              <option value="unité">unité</option>
            </select>
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateUnitPrice()">
            Calculer le prix unitaire
          </button>
        </div>
      
        <div class="tool-result" id="unitPriceResult"></div>
        <div class="small-note">
          Exemple : 5,49 € pour 0,75 L → environ 7,32 €/L.
        </div>
      </article>

    <article id="tool-savings" class="tool-section">
        <h3>Simulateur d’épargne mensuelle</h3>
        <p>
          Indique combien tu peux mettre de côté chaque mois, un taux annuel fixe
          et une durée en années. L’outil calcule ton capital final avec
          intérêts composés mensuels, ainsi que le total versé et les intérêts générés.
        </p>
    
        <form class="tool-form" onsubmit="event.preventDefault(); calculateSavingsMonthly();">
          <div class="field">
            <label for="savingsMonthly">Épargne mensuelle (€)</label>
            <input
              id="savingsMonthly"
              type="number"
              step="0.01"
              placeholder="Ex. 100"
            />
          </div>
    
          <div class="field">
            <label for="savingsRate">Taux d’intérêt annuel (%)</label>
            <input
              id="savingsRate"
              type="number"
              step="0.01"
              placeholder="Ex. 5"
            />
          </div>
    
          <div class="field">
            <label for="savingsYears">Durée (années)</label>
            <input
              id="savingsYears"
              type="number"
              step="0.1"
              placeholder="Ex. 10"
            />
          </div>
        </form>
    
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateSavingsMonthly()">
            Simuler mon épargne
          </button>
        </div>
    
        <div class="tool-result" id="savingsResult"></div>
        <div class="small-note">
          Calcul approximatif avec intérêts composés mensuels.  
          Formule utilisée : versements mensuels constants + capitalisation mensuelle
          du taux annuel indiqué. Ce simulateur ne remplace pas un conseil financier personnalisé.
        </div>
      </article>

    <article id="tool-bill" class="tool-section">
        <h3>Répartiteur de note de frais</h3>
        <p>
          Partage une addition ou une note entre plusieurs personnes.
          Tu peux aussi ajouter un pourboire (optionnel).
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); splitBill();">
          <div class="field">
            <label for="billTotal">Montant total (€)</label>
            <input id="billTotal" type="number" step="0.01" placeholder="Ex. 120" />
          </div>
      
          <div class="field">
            <label for="billPeople">Nombre de personnes</label>
            <input id="billPeople" type="number" step="1" placeholder="Ex. 4" />
          </div>
      
          <div class="field">
            <label for="billTip">Pourboire (%)</label>
            <input id="billTip" type="number" step="0.1" placeholder="Ex. 10" />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" onclick="splitBill()">Calculer</button>
        </div>
      
        <div class="tool-result" id="billResult"></div>
      </article>

    <article id="tool-goal" class="tool-section">
        <h3>Simulateur d’objectifs d’épargne</h3>
        <p>
          Indique un objectif financier et une durée en mois, puis découvre
          combien mettre de côté chaque mois pour l’atteindre.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateSavingsGoal();">
          <div class="field">
            <label for="goalAmount">Objectif total (€)</label>
            <input id="goalAmount" type="number" step="0.01" placeholder="Ex. 5 000" />
          </div>
      
          <div class="field">
            <label for="goalMonths">Durée (mois)</label>
            <input id="goalMonths" type="number" step="1" placeholder="Ex. 12" />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateSavingsGoal()">
            Calculer
          </button>
        </div>
      
        <div class="tool-result" id="goalResult"></div>
      
        <div class="small-note">
          Exemple : pour 5 000 € sur 12 mois → 416,67 €/mois.
        </div>
      </article>
  
    <article id="tool-budget" class="tool-section">
      <h3>Calculateur de budget mensuel</h3>
      <p>
        Indique tes revenus mensuels et tes principales dépenses par catégorie.
        L’outil calcule automatiquement le total des dépenses, ton reste à vivre
        et le pourcentage que représente chaque catégorie par rapport à tes revenus.
      </p>
  
      <form class="tool-form" onsubmit="event.preventDefault(); calculateBudgetMonthly();">
        <div class="field">
          <label for="budgetIncome">Revenus mensuels nets (€)</label>
          <input
            id="budgetIncome"
            type="number"
            step="0.01"
            placeholder="Ex. 2200"
          />
        </div>
  
        <div class="field">
          <label for="budgetExpenses">Dépenses par catégorie (€)</label>
          <textarea
            id="budgetExpenses"
            rows="4"
            placeholder="Ex.&#10;Loyer : 900&#10;Courses : 300&#10;Abonnements : 80&#10;Essence : 120"
          ></textarea>
        </div>
      </form>
  
      <div style="margin-top:0.9rem;">
        <button class="btn-tool" type="button" onclick="calculateBudgetMonthly()">
          Calculer mon budget
        </button>
      </div>
  
      <div class="tool-result" id="budgetResult"></div>
      <div class="small-note">
        Tu peux écrire une dépense par ligne, avec ou sans libellé.  
        Exemple valide : <code>Loyer : 900</code> ou simplement <code>900</code>.
        Les pourcentages sont calculés par rapport à tes revenus mensuels indiqués.
      </div>
    </article>
  </section>

    <article id="tool-loan" class="tool-section">
        <h3>Calculateur de mensualité de crédit</h3>
        <p>
          Indique le montant emprunté, le taux d’intérêt et la durée pour estimer
          ta mensualité. Le calcul est fait localement dans ton navigateur.
        </p>
      
        <form class="tool-form" onsubmit="event.preventDefault(); calculateLoanPayment();">
          <div class="field">
            <label for="loanAmount">Montant du prêt (€)</label>
            <input
              id="loanAmount"
              type="number"
              step="0.01"
              placeholder="Ex. 10 000"
            />
          </div>
      
          <div class="field">
            <label for="loanRate">Taux annuel (%)</label>
            <input
              id="loanRate"
              type="number"
              step="0.01"
              placeholder="Ex. 4.5"
            />
          </div>
      
          <div class="field">
            <label for="loanYears">Durée (années)</label>
            <input
              id="loanYears"
              type="number"
              step="1"
              placeholder="Ex. 5"
            />
          </div>
        </form>
      
        <div style="margin-top:0.9rem;">
          <button class="btn-tool" type="button" onclick="calculateLoanPayment()">
            Calculer la mensualité
          </button>
        </div>
      
        <div class="tool-result" id="loanResult"></div>
        <div class="small-note">
          Le résultat est indicatif : il utilise la formule classique d’un crédit amortissable
          sans assurance ni frais supplémentaires.
        </div>
      </article>
  
    <!-- TVA -->
    <article id="tool-vat" class="tool-section">
      <h3>Calculateur de TVA</h3>
      <p>
        Calcule le montant HT, le montant TTC ou le montant de TVA en un clic.
      </p>
  
      <form class="tool-form" onsubmit="event.preventDefault(); calculateVAT();">
        <div class="field">
          <label for="vatBase">Montant de base</label>
          <input id="vatBase" type="number" step="0.01" placeholder="Ex. 100" />
        </div>
        <div class="field">
          <label for="vatRate">Taux de TVA (%)</label>
          <input id="vatRate" type="number" step="0.01" placeholder="Ex. 20" />
        </div>
        <div class="field">
          <label>Type de calcul</label>
          <div class="chip-row">
            <label class="chip">
              <input type="radio" name="vatMode" value="add" checked />
              <span>Ajouter la TVA</span>
            </label>
            <label class="chip">
              <input type="radio" name="vatMode" value="remove" />
              <span>Enlever la TVA</span>
            </label>
          </div>
        </div>
      </form>
  
      <div style="margin-top:0.9rem;">
        <button class="btn-tool" type="button" onclick="calculateVAT()">Calculer</button>
      </div>
  
      <div class="tool-result" id="vatResult"></div>
    </article>
  
    <!-- Salaire net / brut -->
    <article id="tool-salary" class="tool-section">
      <h3>Calculateur Salaire Net ↔ Brut</h3>
      <p>
        Estime rapidement un salaire net depuis un brut (ou inversement).
      </p>
  
      <form class="tool-form" onsubmit="event.preventDefault(); calculateSalary();">
        <div class="field">
          <label for="salaryBase">Montant de base</label>
          <input id="salaryBase" type="number" step="0.01" placeholder="Ex. 2000" />
        </div>
  
        <div class="field">
          <label for="salaryRate">Taux de charges (%)</label>
          <input id="salaryRate" type="number" step="0.01" placeholder="Ex. 23" />
        </div>
  
        <div class="field">
          <label>Conversion</label>
          <div class="chip-row">
            <label class="chip">
              <input type="radio" name="salaryMode" value="netFromBrut" checked />
              <span>Brut → Net</span>
            </label>
            <label class="chip">
              <input type="radio" name="salaryMode" value="brutFromNet" />
              <span>Net → Brut</span>
            </label>
          </div>
        </div>
      </form>
  
      <div style="margin-top:0.9rem;">
        <button class="btn-tool" type="button" onclick="calculateSalary()">Calculer</button>
      </div>
  
      <div class="tool-result" id="salaryResult"></div>
    </article>
  </section>

          <!-- 🟥 Sécurité -->
        
          <section id="securite">
            <h2 class="section-title" style="margin:1.6rem 0 0.6rem;">Sécurité</h2>

            <article id="tool-hash-sha256" class="tool-section">
                <h3>Hash SHA-256 (empreinte de texte)</h3>
                <p>
                  Saisis un texte et génère son empreinte SHA-256. Le calcul est effectué localement
                  dans ton navigateur, sans envoi de données sur un serveur.
                </p>
              
                <div class="field">
                  <label for="hashInput">Texte à hasher</label>
                  <textarea
                    id="hashInput"
                    rows="3"
                    placeholder="Ex. Mon mot de passe (ne mets pas un vrai mot de passe en clair)…"
                  ></textarea>
                </div>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="hashSHA256()">
                    Calculer le hash SHA-256
                  </button>
                </div>
              
                <div class="tool-result" id="hashResult"></div>
                <div class="small-note">
                  Important : ne colle pas ici de mots de passe réels que tu utilises. Utilise plutôt
                  un gestionnaire de mots de passe dédié.
                </div>
              </article>

            <article id="tool-password" class="tool-section">
              <h3>Générateur de mot de passe sécurisé</h3>
              <p>
                Génère un mot de passe robuste côté navigateur. 
                Rien n’est envoyé sur un serveur. Tu peux adapter la longueur et les caractères.
              </p>

              <div class="tool-form">
                <div class="field">
                  <label for="pwdLength">Longueur du mot de passe</label>
                  <div class="range-row">
                    <input
                      id="pwdLength"
                      type="range"
                      min="8"
                      max="40"
                      value="16"
                      oninput="updatePwdLengthLabel()"
                    />
                    <span id="pwdLengthLabel">16 caractères</span>
                  </div>
                </div>
                <div class="field">
                  <label>Caractères utilisés</label>
                  <div class="chip-row">
                    <label class="chip">
                      <input id="optLower" type="checkbox" checked />
                      <span>a-z</span>
                    </label>
                    <label class="chip">
                      <input id="optUpper" type="checkbox" checked />
                      <span>A-Z</span>
                    </label>
                    <label class="chip">
                      <input id="optDigits" type="checkbox" checked />
                      <span>0-9</span>
                    </label>
                    <label class="chip">
                      <input id="optSymbols" type="checkbox" />
                      <span>!@#$%…</span>
                    </label>
                  </div>
                </div>
              </div>

              <div style="margin-top:0.9rem;">
                <button class="btn-tool" type="button" onclick="generatePassword()">
                  Générer un mot de passe
                </button>
              </div>

              <div class="password-output" id="passwordOutput" aria-live="polite">
                <span id="passwordText">Clique sur “Générer” pour créer un mot de passe.</span>
                <button class="copy-btn" type="button" onclick="copyPassword()">
                  Copier
                </button>
              </div>
              <div class="small-note">
                Pour plus de sécurité, combine ce générateur avec un gestionnaire de mots de passe
                (par ex. Bitwarden, KeePass, 1Password…).
              </div>
            </article>
          </section>

          <!-- 🟩 Santé -->
          <section id="sante">
            <h2 class="section-title" style="margin:1.6rem 0 0.6rem;">Santé</h2>

            <article id="tool-running-power" class="tool-section">
                <h3>Zones de puissance (course à pied)</h3>
                <p>
                  Cet outil calcule tes zones d’entraînement en course à pied à partir de ta 
                  <strong>puissance critique (FTP running)</strong>.  
                  Méthode inspirée de Stryd.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); calculateRunningPowerZones();">
                  <div class="field">
                    <label for="runFtp">FTP (watts)</label>
                    <input id="runFtp" type="number" min="50" max="600"
                           placeholder="Ex. 280" />
                  </div>
                </form>
              
                <div style="margin-top:1rem;">
                  <button class="btn-tool" type="button" onclick="calculateRunningPowerZones()">
                    Calculer mes zones
                  </button>
                </div>
              
                <div class="tool-result" id="runPowerResult"></div>
              
                <div class="small-note">
                  Basé sur les plages Stryd : Zone 1 = 65–80 %, Zone 2 = 80–90 %, 
                  Zone 3 = 90–100 %, Zone 4 = 100–115 %, Zone 5 = 115–130 %, Zone 6 = 130–150 %.
                </div>
              </article>

            <article id="tool-tdee" class="tool-section">
                <h3>Calculateur TDEE (besoins caloriques journaliers)</h3>
              
                <p>
                  Calcule ton métabolisme de base (BMR) avec la formule
                  <strong>Mifflin–St Jeor</strong>, puis estime tes besoins
                  caloriques journaliers (TDEE) selon ton niveau d’activité.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); calculateTdeeFr();">
              
                  <div class="field">
                    <label for="tdeeSexFr">Sexe</label>
                    <select id="tdeeSexFr">
                      <option value="male">Homme</option>
                      <option value="female">Femme</option>
                    </select>
                  </div>
              
                  <div class="field">
                    <label for="tdeeAgeFr">Âge (années)</label>
                    <input
                      id="tdeeAgeFr"
                      type="number"
                      min="1"
                      max="120"
                      placeholder="Ex. 30"
                    />
                  </div>
              
                  <div class="field">
                    <label for="tdeeHeightFr">Taille (cm)</label>
                    <input
                      id="tdeeHeightFr"
                      type="number"
                      min="50"
                      max="250"
                      placeholder="Ex. 175"
                    />
                  </div>
              
                  <div class="field">
                    <label for="tdeeWeightFr">Poids (kg)</label>
                    <input
                      id="tdeeWeightFr"
                      type="number"
                      min="20"
                      max="300"
                      placeholder="Ex. 70"
                    />
                  </div>
              
                  <div class="field">
                    <label for="tdeeActivityFr">Niveau d’activité</label>
                    <select id="tdeeActivityFr">
                      <option value="1.2">Sédentaire (1.2)</option>
                      <option value="1.375">Léger (1.375)</option>
                      <option value="1.55">Modéré (1.55)</option>
                      <option value="1.725">Intense (1.725)</option>
                      <option value="1.9">Très intense (1.9)</option>
                    </select>
                  </div>
              
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="calculateTdeeFr()">
                    Calculer mes besoins
                  </button>
                </div>
              
                <div class="tool-result" id="tdeeResultFr"></div>
              
                <div class="small-note">
                  🔥 Le TDEE représente le nombre de calories que tu dépenses chaque jour en
                  fonction de ton activité.<br>
                  📌 Le BMR est le métabolisme de base (énergie consommée au repos).
                </div>
              </article>

            <article id="tool-heart-rate" class="tool-section">
                <h3>Fréquence cardiaque cible (sport)</h3>
                <p>
                  Cet outil estime ta fréquence cardiaque cible pour l’effort à partir de ton âge,
                  en utilisant la formule simple <strong>220 − âge</strong> pour la fréquence maximale
                  théorique. Les résultats sont donnés à titre indicatif uniquement.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); calculateTargetHeartRate();">
                  <div class="field">
                    <label for="hrAge">Âge (années)</label>
                    <input
                      id="hrAge"
                      type="number"
                      step="1"
                      min="1"
                      max="120"
                      placeholder="Ex. 35"
                    />
                  </div>
              
                  <div class="field">
                    <label for="hrIntensity">Type d’effort</label>
                    <select id="hrIntensity">
                      <option value="both">Afficher toutes les zones</option>
                      <option value="moderate">Effort modéré (endurance, footing tranquille)</option>
                      <option value="intense">Effort intense (fractionné, HIIT…)</option>
                    </select>
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="calculateTargetHeartRate()">
                    Calculer ma zone cible
                  </button>
                </div>
              
                <div class="tool-result" id="hrResult"></div>
              
                <div class="small-note">
                  Rappels classiques (adulte) :
                  zone modérée ≈ 50–70&nbsp;% de la FC max,
                  zone intense ≈ 70–85&nbsp;% de la FC max.
                  <br>
                  Ces valeurs sont approximatives et ne remplacent pas un avis médical
                  ou un test d’effort encadré par un professionnel de santé.
                </div>
              </article>

            <article id="tool-imc" class="tool-section">
              <h3>Calculateur d'IMC (Indice de Masse Corporelle)</h3>
              <p>
                Calcule ton IMC à partir de ta taille et de ton poids. 
                Cela donne une indication générale, mais ne remplace pas un avis médical.
              </p>

              <form class="tool-form" onsubmit="event.preventDefault(); calculateIMC();">
                <div class="field">
                  <label for="weightInput">Poids (kg)</label>
                  <input
                    id="weightInput"
                    type="number"
                    step="0.1"
                    placeholder="Ex. 72"
                  />
                </div>
                <div class="field">
                  <label for="heightInput">Taille (cm)</label>
                  <input
                    id="heightInput"
                    type="number"
                    step="0.1"
                    placeholder="Ex. 175"
                  />
                </div>
              </form>
              <div style="margin-top:0.9rem;">
                <button class="btn-tool" type="button" onclick="calculateIMC()">
                  Calculer mon IMC
                </button>
              </div>
              <div class="tool-result" id="imcResult"></div>
              <div class="small-note">
                Les seuils classiques (adulte) sont : &lt;18,5 (maigreur), 18,5–24,9 (corpulence normale), 
                25–29,9 (surpoids), ≥30 (obésité). Les interprétations peuvent varier selon les sources 
                et la situation clinique.
              </div>
            </article>
          </section>

          <!-- 🟨 Organisation & divers -->
          <section id="organisation">
            <h2 class="section-title" style="margin:1.6rem 0 0.6rem;">Organisation & divers</h2>

            <article id="tool-barcode" class="tool-section">
              <h3>Générateur de codes-barres (EAN-13 / EAN-8)</h3>
              <p>
                Cet outil te permet de générer un code-barres <strong>EAN-13</strong> ou <strong>EAN-8</strong> à partir d’un code numérique.
                Le dessin est fait localement dans ton navigateur via un simple canvas.
              </p>
            
              <form class="tool-form" onsubmit="event.preventDefault(); generateBarcode();">
                <div class="field">
                  <label for="barcodeType">Type de code-barres</label>
                  <select id="barcodeType">
                    <option value="ean13">EAN-13</option>
                    <option value="ean8">EAN-8</option>
                  </select>
                </div>
            
                <div class="field">
                  <label for="barcodeInput">Code (sans espaces)</label>
                  <input
                    id="barcodeInput"
                    type="text"
                    inputmode="numeric"
                    pattern="[0-9]*"
                    placeholder="Ex. 590123412345 (EAN-13) ou 5512345 (EAN-8)"
                  />
                  <p class="small-note">
                    Tu peux saisir <strong>12 chiffres</strong> (EAN-13) ou <strong>7 chiffres</strong> (EAN-8) :
                    la clé de contrôle sera calculée automatiquement.  
                    Si tu entres <strong>13</strong> ou <strong>8</strong> chiffres, la clé sera vérifiée.
                  </p>
                </div>
              </form>
            
              <div style="margin-top: 0.9rem;">
                <button class="btn-tool" type="button" onclick="generateBarcode()">
                  Générer le code-barres
                </button>
              </div>
            
              <div class="tool-result" id="barcodeResult"></div>
            
              <div style="margin-top:1rem; background:#0b1020; padding:1rem; border-radius:12px;">
                <canvas
                  id="barcodeCanvas"
                  width="360"
                  height="140"
                  style="background:#fff; display:block; margin:0 auto; border-radius:8px;"
                ></canvas>
              </div>
            
              <div class="small-note">
                L’algorithme suit les spécifications classiques EAN-13 / EAN-8 (parités, clé de contrôle, garde).
                Ce générateur est proposé à titre indicatif et ne remplace pas un générateur certifié pour l’impression industrielle.
              </div>
            </article>

            <article id="tool-insulation" class="tool-section">
              <h3>Calcul isolation (R, U → épaisseur)</h3>
              <p>
                Cet outil te permet de calculer l’épaisseur de matériau isolant nécessaire à partir :
              </p>
              <ul>
                <li>de la résistance thermique <strong>R</strong></li>
                <li>ou du coefficient de transmission <strong>U</strong></li>
                <li>ou de la conductivité thermique <strong>λ</strong></li>
              </ul>
            
              <form class="tool-form" onsubmit="event.preventDefault(); calculateInsulation();">
                <div class="field">
                  <label for="insulLambda">Conductivité du matériau λ (W/m·K)</label>
                  <input id="insulLambda" type="number" step="0.001" placeholder="Ex. 0.038" />
                </div>
            
                <div class="field">
                  <label for="insulR">Résistance thermique R (m²·K/W)</label>
                  <input id="insulR" type="number" step="0.01" placeholder="Ex. 5" />
                </div>
            
                <div class="field">
                  <label for="insulU">Coefficient U (W/m²·K)</label>
                  <input id="insulU" type="number" step="0.01" placeholder="Ex. 0.20" />
                </div>
              </form>
            
              <div style="margin-top: 1rem;">
                <button class="btn-tool" type="button" onclick="calculateInsulation()">
                  Calculer l'épaisseur
                </button>
              </div>
            
              <div class="tool-result" id="insulResult"></div>
            
              <div class="small-note">
                Rappel : R = épaisseur / λ • U = 1 / R.<br>
                Les valeurs sont indicatives et ne remplacent pas un calcul thermique professionnel.
              </div>
            </article>

            <article id="tool-qrcode" class="tool-section">
                <h3>Générateur de QR Code</h3>
                <p>
                  Génére un QR Code à partir d’un lien, d’un texte ou d’une petite note.
                  Tu peux ensuite le scanner avec ton smartphone ou l’enregistrer comme image.
                </p>
              
                <div class="field">
                  <label for="qrText">Texte ou URL</label>
                  <textarea
                    id="qrText"
                    rows="3"
                    placeholder="Ex. https://universe-tools.com ou Liste de courses : lait, œufs, pain…"
                  ></textarea>
                </div>
              
                <div style="margin-top:0.9rem; display:flex; gap:0.5rem; flex-wrap:wrap;">
                  <button class="btn-tool" type="button" onclick="generateQrCode()">
                    Générer le QR Code
                  </button>
                  <button class="btn-tool" type="button" onclick="clearQrCode()">
                    Effacer
                  </button>
                </div>
              
                <div class="tool-result" id="qrCodeResult">
                  <div
                    id="qrCodeContainer"
                    style="margin-top:0.9rem; display:inline-block; padding:0.75rem; background:#020617; border-radius:12px; border:1px solid rgba(55,65,81,0.9);"
                  ></div>
                  <span class="small-note">
                    Le QR Code est généré localement dans ton navigateur.  
                    Sur mobile : appui long pour enregistrer l’image • Sur ordinateur : clic droit → Enregistrer l’image.
                  </span>
                </div>
              </article>

            <article id="tool-tiles" class="tool-section">
                <h3>Calculateur de carrelage (m² + pertes)</h3>
                <p>
                  Estime le nombre de carreaux nécessaires pour une pièce, en tenant compte
                  de la surface, de la taille des carreaux et d’un pourcentage de pertes
                  (coupes, casse, réserves).
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); calculateTiles();">
                  <div class="field">
                    <label for="tilesRoomLength">Longueur de la pièce (m)</label>
                    <input
                      id="tilesRoomLength"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 5"
                    />
                  </div>
              
                  <div class="field">
                    <label for="tilesRoomWidth">Largeur de la pièce (m)</label>
                    <input
                      id="tilesRoomWidth"
                      type="number"
                      step="0.01"
                      placeholder="Ex. 4"
                    />
                  </div>
              
                  <div class="field">
                    <label for="tilesTileLength">Longueur d’un carreau (cm)</label>
                    <input
                      id="tilesTileLength"
                      type="number"
                      step="0.1"
                      placeholder="Ex. 60"
                    />
                  </div>
              
                  <div class="field">
                    <label for="tilesTileWidth">Largeur d’un carreau (cm)</label>
                    <input
                      id="tilesTileWidth"
                      type="number"
                      step="0.1"
                      placeholder="Ex. 60"
                    />
                  </div>
              
                  <div class="field">
                    <label for="tilesWaste">Pertes (%)</label>
                    <input
                      id="tilesWaste"
                      type="number"
                      step="1"
                      placeholder="Ex. 10"
                      value="10"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="calculateTiles()">
                    Calculer le carrelage
                  </button>
                </div>
              
                <div class="tool-result" id="tilesResult"></div>
                <div class="small-note">
                  Le calcul arrondit toujours au carreau supérieur, afin de prévoir un peu de
                  marge. Ajuste le pourcentage de pertes selon la complexité de la pose
                  (pièce biscornue, découpes, etc.).
                </div>
              </article>

            <article id="tool-paint" class="tool-section">
                <h3>Calculateur de peinture (m² → litres)</h3>
                <p>
                  Indique la surface à peindre et le rendement du pot (m² / litre).
                  L’outil calcule automatiquement la quantité totale nécessaire et le nombre de pots à acheter.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault(); calculatePaintFR();">
                  <div class="field">
                    <label for="paintSurfaceFR">Surface à peindre (m²)</label>
                    <input
                      id="paintSurfaceFR"
                      type="number"
                      step="0.1"
                      placeholder="Ex. 32"
                    />
                  </div>
              
                  <div class="field">
                    <label for="paintCoverageFR">Rendement (m² par litre)</label>
                    <input
                      id="paintCoverageFR"
                      type="number"
                      step="0.1"
                      placeholder="Ex. 10 (classique)"
                    />
                  </div>
              
                  <div class="field">
                    <label for="paintCoatsFR">Nombre de couches</label>
                    <input
                      id="paintCoatsFR"
                      type="number"
                      step="1"
                      min="1"
                      placeholder="Ex. 2"
                    />
                  </div>
                </form>
              
                <button class="btn-tool" onclick="calculatePaintFR()">
                  Calculer la peinture nécessaire
                </button>
              
                <div class="tool-result" id="paintResultFR"></div>
              
                <div class="small-note">
                  Exemple : pour 32 m² avec un rendement de 10 m²/L et deux couches, il faut environ 6,4 litres.
                </div>
              </article>

            <article id="tool-suggest" class="tool-section">
                <h3>Proposer un nouvel outil</h3>
                <p>
                  Tu as une idée d’outil qui pourrait être utile sur Universe Tools ?
                  Explique-la en quelques lignes et envoie-la nous. Cela nous aide à
                  prioriser les prochains outils à développer.
                </p>
              
                <div class="field">
                  <label for="toolSuggestionInput">Ton idée d’outil</label>
                  <textarea
                    id="toolSuggestionInput"
                    rows="4"
                    placeholder="Ex. Convertisseur de jours de congés, simulateur de budget vacances, etc."
                  ></textarea>
                </div>
              
                <div style="margin-top:0.9rem; display:flex; gap:0.5rem; flex-wrap:wrap;">
                  <button class="btn-tool" type="button" onclick="sendToolSuggestion()">
                    Envoyer ma suggestion par e-mail
                  </button>
                </div>
              
                <div class="small-note">
                  Ce bouton ouvre ton application d’e-mail avec un message pré-rempli.
                  Aucun envoi automatique n’est effectué.
                </div>
              </article>

            <article id="tool-week" class="tool-section">
                <h3>Convertisseur date ↔ numéro de semaine</h3>
                <p>
                  Convertis une date en numéro de semaine ISO (semaine 1 à 53), ou retrouve la date du
                  lundi correspondant à une semaine donnée.
                </p>
              
                <form class="tool-form" onsubmit="event.preventDefault();">
                  <div class="field">
                    <label for="weekDateInput">Date</label>
                    <input id="weekDateInput" type="date" />
                  </div>
                  <div class="field">
                    <label>&nbsp;</label>
                    <button class="btn-tool" type="button" onclick="convertDateToWeek()">
                      Obtenir le numéro de semaine
                    </button>
                  </div>
                </form>
              
                <div class="tool-result" id="weekResult"></div>
              
                <hr style="margin:1.2rem 0; border:none; border-top:1px solid #1f2937;">
              
                <form class="tool-form" onsubmit="event.preventDefault();">
                  <div class="field">
                    <label for="weekYearInput">Année</label>
                    <input
                      id="weekYearInput"
                      type="number"
                      placeholder="Ex. 2025"
                    />
                  </div>
                  <div class="field">
                    <label for="weekNumberInput">Numéro de semaine (ISO)</label>
                    <input
                      id="weekNumberInput"
                      type="number"
                      min="1"
                      max="53"
                      placeholder="Ex. 48"
                    />
                  </div>
                </form>
              
                <div style="margin-top:0.9rem;">
                  <button class="btn-tool" type="button" onclick="convertWeekToDate()">
                    Obtenir la date du lundi
                  </button>
                </div>
              
                <div class="tool-result" id="weekDateResult"></div>
                <div class="small-note">
                  Utilise la norme ISO 8601 : la semaine 1 est celle qui contient le premier jeudi
                  de l’année. Le jour de référence est le lundi.
                </div>
              </article>

            <article id="tool-timer" class="tool-section">
              <h3>Chronomètre & minuteur</h3>
              <p>
                Utilise un chronomètre simple ou un compte à rebours pour cuisiner,
                travailler en pomodoro ou faire du sport.
              </p>

              <div class="tool-form">
                <div class="field">
                  <label for="timerInput">Temps (secondes)</label>
                  <input id="timerInput" type="number" placeholder="Ex. 60" />
                </div>
              </div>

              <div style="margin-top:0.9rem; display:flex; gap:0.5rem; flex-wrap:wrap;">
                <button class="btn-tool" type="button" onclick="startTimer()">Démarrer</button>
                <button class="btn-tool" type="button" onclick="stopTimer()">Pause</button>
                <button class="btn-tool" type="button" onclick="resetTimer()">Réinitialiser</button>
              </div>

              <div class="tool-result" id="timerDisplay">00:00</div>
            </article>

            <article id="tool-random" class="tool-section">
              <h3>Tirage au sort</h3>
              <p>
                Écris plusieurs noms séparés par des virgules et tire un gagnant au hasard.
              </p>

              <div class="field">
                <label for="randomInput">Liste de noms ou options</label>
                <textarea
                  id="randomInput"
                  rows="3"
                  placeholder="Ex. Julie, Marc, Pauline, Karim"
                ></textarea>
              </div>

              <div style="margin-top:0.9rem;">
                <button class="btn-tool" type="button" onclick="pickRandom()">
                  Tirer au sort
                </button>
              </div>

              <div class="tool-result" id="randomResult"></div>
            </article>

              <!-- Compte à rebours en jours -->
  <article id="tool-countdown" class="tool-section">
    <h3>Compte à rebours en jours</h3>
    <p>
      Choisis une date importante (voyage, examen, projet, anniversaire)
      et vois combien de jours il reste ou depuis combien de jours elle est passée.
    </p>

    <div class="tool-form">
      <div class="field">
        <label for="countdownDate">Date cible</label>
        <input
          id="countdownDate"
          type="date"
        />
      </div>
      <div class="field">
        <label>&nbsp;</label>
        <button class="btn-tool" type="button" onclick="updateCountdown()">
          Calculer
        </button>
      </div>
    </div>

    <div class="tool-result" id="countdownResult"></div>
    <div class="small-note">
      Le calcul se base sur la date du jour (heure locale de ton appareil).
    </div>
  </article>

  <article id="tool-average" class="tool-section">
    <h3>Calculateur de moyenne</h3>
    <p>
      Entrez une liste de nombres (notes, montants, temps, etc.) et
      obtenez la moyenne en un clic.
    </p>

    <div class="field">
      <label for="averageInput">Liste de valeurs</label>
      <textarea
        id="averageInput"
        rows="3"
        placeholder="Ex. 12, 15.5, 9, 18"
      ></textarea>
    </div>

    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="calculateAverage()">
        Calculer la moyenne
      </button>
    </div>

    <div class="tool-result" id="averageResult"></div>
    <div class="small-note">
      Tu peux séparer les valeurs par des virgules, des espaces ou des retours à la ligne.
      Les valeurs non numériques sont ignorées.
    </div>
  </article>

  <!-- Générateur de fausses données -->
<article id="tool-fake" class="tool-section">
    <h3>Générateur de fausses données (noms & emails)</h3>
    <p>
      Génère de faux noms et adresses email pour remplir des formulaires de test,
      des maquettes ou des bases de données factices, sans utiliser de vraies personnes.
    </p>
  
    <div class="tool-form">
      <div class="field">
        <label for="fakeCount">Nombre d’entrées à générer</label>
        <input
          id="fakeCount"
          type="number"
          min="1"
          max="50"
          step="1"
          placeholder="Ex. 5"
        />
      </div>
    </div>
  
    <div style="margin-top:0.9rem;">
      <button class="btn-tool" type="button" onclick="generateFakeData()">
        Générer des fausses données
      </button>
    </div>
  
    <div class="tool-result" id="fakeResult" style="white-space:pre-wrap;"></div>
    <div class="small-note">
      Les noms et emails générés sont entièrement fictifs, conçus pour les tests et maquettes.
    </div>
  </article>

  <article id="tool-age" class="tool-section">
    <h3>Calculateur d'âge</h3>
    <p>
      Indique ta date de naissance pour obtenir ton âge en années.
      Le calcul est effectué localement dans ton navigateur.
    </p>
  
    <div class="tool-form">
      <div class="field">
        <label for="ageBirthdate">Date de naissance</label>
        <input
          id="ageBirthdate"
          type="date"
        />
      </div>
      <div class="field">
        <label>&nbsp;</label>
        <button class="btn-tool" type="button" onclick="calculateAge()">
          Calculer mon âge
        </button>
      </div>
    </div>
  
    <div class="tool-result" id="ageResult"></div>
    <div class="small-note">
      Le résultat est calculé à partir de la date du jour (heure locale de ton appareil)
      et reste indicatif.
    </div>
  </article>

</section> <!-- /#organisation -->
</div> <!-- /.container -->
</section> <!-- /#tools -->
<div class="social-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=https://universe-tools.com">Facebook</a>
  <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://universe-tools.com">LinkedIn</a>
  <a href="https://api.whatsapp.com/send?text=https://universe-tools.com">WhatsApp</a>
</div>
</main>

<section id="about" class="section">
    <div class="container">
      <h2 class="section-title">À propos de Universe Tools</h2>
      <p class="section-subtitle">
        Universe Tools est une collection d’outils en ligne gratuits conçus pour
        convertir, calculer, générer et automatiser des tâches simples du
        quotidien. Tous les calculs sont effectués directement dans votre
        navigateur, sans stockage ni transmission de données personnelles.
      </p>
  
      <p style="margin-top:1rem; color:#9ca3af; font-size:0.9rem;">
        Le site propose plus de 30 outils organisés en plusieurs catégories :
        <strong>convertisseurs</strong> (km ↔ miles, kg ↔ lb, °C ↔ °F, cm ↔ pouces,
        litres ↔ gallons, jours ↔ heures / minutes / secondes, Ko / Mo / Go / To,
        devises avec taux manuel, débits L/min ↔ m³/h, surface ↔ volume), 
        <strong>finance & budget</strong> (simulateur d’objectifs d’épargne,
        simulateur d’épargne mensuelle avec intérêts composés, calculateur de
        budget mensuel, répartiteur de note de frais, simulateur de mensualités
        de crédit, calculateur de TVA, salaire net ↔ brut),
        <strong>sécurité</strong> (générateur de mots de passe),
        <strong>santé</strong> (calculateur d’IMC) et
        <strong>organisation & divers</strong> (chronomètre et minuteur,
        compte à rebours en jours, tirage au sort aléatoire, calculateur d’âge,
        générateur de fausses données, calculatrice de moyenne, etc.).
      </p>
  
      <p style="margin-top:0.8rem; color:#9ca3af; font-size:0.9rem;">
        Tous les outils sont accessibles gratuitement, sans inscription, et
        pensés pour faire gagner quelques secondes à chaque action : au lieu de
        chercher un site différent à chaque besoin, vous gardez Universe Tools en
        favori et vous retrouvez vos outils du quotidien sur une seule page.
      </p>
    </div>
  </section>

<footer>
<div class="container footer-inner">
<div>© <span id="year"></span> Universe Tools – Outils en ligne simples et rapides.</div>
<div class="footer-links">
  <a href="#tools">Outils</a>
  <a href="#convertisseurs">Convertisseurs</a>
  <a href="#securite">Sécurité</a>
  <a href="#sante">Santé</a>
  <a href="#organisation">Organisation & divers</a>
</div>
<div class="footer-links" style="margin-top:0.6rem;">
    <a href="/legal.html">Mentions légales</a>
    <a href="/privacy.html">Politique de confidentialité</a>
  </div>
</div>
</footer>
</div> <!-- /.page -->

<!-- Librairie pour générer des QR Codes -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<!-- Scripts principaux -->
<script>

  // --- EAN checksum helpers ---

function ean13Checksum(d12) {
  // d12 = string de 12 chiffres
  let sum = 0;
  for (let i = 0; i < 12; i++) {
    const n = parseInt(d12[i], 10);
    // positions impaires (index 0,2,4...) = poids 1
    // positions paires (index 1,3,5...) = poids 3
    sum += (i % 2 === 0) ? n : n * 3;
  }
  const mod = sum % 10;
  return (10 - mod) % 10;
}

function ean8Checksum(d7) {
  // d7 = string de 7 chiffres
  let sum = 0;
  for (let i = 0; i < 7; i++) {
    const n = parseInt(d7[i], 10);
    // positions impaires (index 0,2,4,6) = poids 3
    // positions paires (index 1,3,5) = poids 1
    sum += (i % 2 === 0) ? n * 3 : n;
  }
  const mod = sum % 10;
  return (10 - mod) % 10;
}

// --- EAN encoding tables ---

const EAN_L = {
  "0": "0001101",
  "1": "0011001",
  "2": "0010011",
  "3": "0111101",
  "4": "0100011",
  "5": "0110001",
  "6": "0101111",
  "7": "0111011",
  "8": "0110111",
  "9": "0001011"
};

const EAN_G = {
  "0": "0100111",
  "1": "0110011",
  "2": "0011011",
  "3": "0100001",
  "4": "0011101",
  "5": "0111001",
  "6": "0000101",
  "7": "0010001",
  "8": "0001001",
  "9": "0010111"
};

const EAN_R = {
  "0": "1110010",
  "1": "1100110",
  "2": "1101100",
  "3": "1000010",
  "4": "1011100",
  "5": "1001110",
  "6": "1010000",
  "7": "1000100",
  "8": "1001000",
  "9": "1110100"
};

// Parités pour EAN-13 selon le premier chiffre
// A = L (left), B = G
const EAN13_PARITY = {
  "0": "LLLLLL",
  "1": "LLGLGG",
  "2": "LLGGLG",
  "3": "LLGGGL",
  "4": "LGLLGG",
  "5": "LGGLLG",
  "6": "LGGGLL",
  "7": "LGLGLG",
  "8": "LGLGGL",
  "9": "LGGLGL"
};

function encodeEAN13(digits13) {
  const first = digits13[0];
  const left = digits13.slice(1, 7); // 6 chiffres gauche
  const right = digits13.slice(7);   // 6 chiffres droite

  const parity = EAN13_PARITY[first] || "LLLLLL";

  let pattern = "101"; // garde début

  // 6 chiffres à gauche
  for (let i = 0; i < 6; i++) {
    const d = left[i];
    const p = parity[i];
    if (p === "L") {
      pattern += EAN_L[d];
    } else {
      pattern += EAN_G[d];
    }
  }

  pattern += "01010"; // garde centre

  // 6 chiffres à droite (toujours R)
  for (let i = 0; i < 6; i++) {
    const d = right[i];
    pattern += EAN_R[d];
  }

  pattern += "101"; // garde fin
  return pattern;
}

function encodeEAN8(digits8) {
  const left = digits8.slice(0, 4);
  const right = digits8.slice(4);

  let pattern = "101"; // début

  // 4 chiffres gauche en L
  for (let i = 0; i < 4; i++) {
    const d = left[i];
    pattern += EAN_L[d];
  }

  pattern += "01010"; // centre

  // 4 chiffres droite en R
  for (let i = 0; i < 4; i++) {
    const d = right[i];
    pattern += EAN_R[d];
  }

  pattern += "101"; // fin
  return pattern;
}

// --- Draw on canvas ---

function drawBarcodeOnCanvas(pattern, digits) {
  const canvas = document.getElementById("barcodeCanvas");
  if (!canvas) return;
  const ctx = canvas.getContext("2d");
  if (!ctx) return;

  const width = canvas.width;
  const height = canvas.height;

  // Clear & white background
  ctx.clearRect(0, 0, width, height);
  ctx.fillStyle = "#ffffff";
  ctx.fillRect(0, 0, width, height);

  const barWidth = Math.floor(width / pattern.length);
  const marginLeft = Math.floor((width - barWidth * pattern.length) / 2);
  const barHeight = height - 30;

  ctx.fillStyle = "#000000";

  for (let i = 0; i < pattern.length; i++) {
    if (pattern[i] === "1") {
      const x = marginLeft + i * barWidth;
      ctx.fillRect(x, 10, barWidth, barHeight);
    }
  }

  // Digits text under the code
  ctx.font = "14px system-ui, -apple-system, BlinkMacSystemFont, sans-serif";
  ctx.fillStyle = "#000000";
  ctx.textAlign = "center";
  ctx.fillText(digits, width / 2, height - 5);
}

// --- Main tool function ---

function generateBarcode() {
  const typeEl = document.getElementById("barcodeType");
  const inputEl = document.getElementById("barcodeInput");
  const resultEl = document.getElementById("barcodeResult");
  if (!typeEl || !inputEl || !resultEl) return;

  const type = typeEl.value; // "ean13" ou "ean8"
  let raw = (inputEl.value || "").replace(/\s+/g, "");

  // Détection langue approximative pour les messages
  const isFrench = document.documentElement.lang === "fr";

  if (!/^[0-9]+$/.test(raw)) {
    resultEl.textContent = isFrench
      ? "Veuillez saisir uniquement des chiffres (sans espaces)."
      : "Please enter digits only (no spaces).";
    return;
  }

  if (type === "ean13") {
    if (raw.length === 12) {
      const c = ean13Checksum(raw);
      raw += String(c);
    } else if (raw.length === 13) {
      const body = raw.slice(0, 12);
      const expected = ean13Checksum(body);
      const given = parseInt(raw[12], 10);
      if (expected !== given) {
        resultEl.textContent = isFrench
          ? `Clé de contrôle invalide. Attendu : ${expected}, trouvé : ${given}.`
          : `Invalid checksum. Expected: ${expected}, got: ${given}.`;
        return;
      }
    } else {
      resultEl.textContent = isFrench
        ? "EAN-13 doit contenir 12 ou 13 chiffres."
        : "EAN-13 must contain 12 or 13 digits.";
      return;
    }

    const pattern = encodeEAN13(raw);
    drawBarcodeOnCanvas(pattern, raw);
    resultEl.innerHTML = isFrench
      ? `Code EAN-13 généré : <strong>${raw}</strong>`
      : `EAN-13 code generated: <strong>${raw}</strong>`;

  } else if (type === "ean8") {
    if (raw.length === 7) {
      const c = ean8Checksum(raw);
      raw += String(c);
    } else if (raw.length === 8) {
      const body = raw.slice(0, 7);
      const expected = ean8Checksum(body);
      const given = parseInt(raw[7], 10);
      if (expected !== given) {
        resultEl.textContent = isFrench
          ? `Clé de contrôle invalide. Attendu : ${expected}, trouvé : ${given}.`
          : `Invalid checksum. Expected: ${expected}, got: ${given}.`;
        return;
      }
    } else {
      resultEl.textContent = isFrench
        ? "EAN-8 doit contenir 7 ou 8 chiffres."
        : "EAN-8 must contain 7 or 8 digits.";
      return;
    }

    const pattern = encodeEAN8(raw);
    drawBarcodeOnCanvas(pattern, raw);
    resultEl.innerHTML = isFrench
      ? `Code EAN-8 généré : <strong>${raw}</strong>`
      : `EAN-8 code generated: <strong>${raw}</strong>`;
  }
}

function calculateInsulation() {
  const lambda = parseFloat(document.getElementById("insulLambda")?.value || "");
  let R = parseFloat(document.getElementById("insulR")?.value || "");
  let U = parseFloat(document.getElementById("insulU")?.value || "");
  const resultEl = document.getElementById("insulResult");

  if (!resultEl) return;

  if (isNaN(lambda) || lambda <= 0) {
    resultEl.textContent = "Veuillez entrer une conductivité λ valide.";
    return;
  }

  // Si R est fourni → calculer épaisseur & U
  if (!isNaN(R) && R > 0) {
    const thickness = R * lambda; // en mètres
    const uCalc = 1 / R;
    resultEl.innerHTML =
      `Épaisseur nécessaire : <strong>${(thickness * 1000).toFixed(1)} mm</strong><br>` +
      `Coefficient U estimé : <strong>${uCalc.toFixed(3)}</strong>`;
    return;
  }

  // Si U est fourni → calculer R & épaisseur
  if (!isNaN(U) && U > 0) {
    R = 1 / U;
    const thickness = R * lambda;
    resultEl.innerHTML =
      `Résistance thermique R : <strong>${R.toFixed(2)}</strong><br>` +
      `Épaisseur nécessaire : <strong>${(thickness * 1000).toFixed(1)} mm</strong>`;
    return;
  }

  resultEl.textContent =
    "Entrez au moins une valeur : R ou U (et λ doit toujours être renseigné).";
}

function calculateConcreteBags() {
  const length = parseFloat(document.getElementById("concreteLength")?.value);
  const width = parseFloat(document.getElementById("concreteWidth")?.value);
  const thicknessCm = parseFloat(document.getElementById("concreteThickness")?.value);
  const bagSize = parseFloat(document.getElementById("concreteBagSize")?.value);
  const resultEl = document.getElementById("concreteResult");

  if (!resultEl) return;

  if (!length || !width || !thicknessCm || !bagSize || length <= 0 || width <= 0 || thicknessCm <= 0 || bagSize <= 0) {
    resultEl.textContent =
      document.documentElement.lang === "fr"
        ? "Renseigne des valeurs valides pour la longueur, la largeur, l’épaisseur et le poids des sacs."
        : "Please enter valid values for length, width, thickness and bag weight.";
    return;
  }

  // Épaisseur en mètres
  const thicknessM = thicknessCm / 100;

  // Volume en m³
  const volume = length * width * thicknessM;

  // Dosage standard ~350 kg de ciment / m³
  const cementKg = volume * 350;

  const bags = Math.ceil(cementKg / bagSize);

  const isFr = document.documentElement.lang === "fr";

  let html = "";

  if (isFr) {
    html += `<strong>Volume de béton estimé :</strong> ${volume.toFixed(2)} m³<br>`;
    html += `Quantité de ciment ≈ ${cementKg.toFixed(0)} kg<br>`;
    html += `Nombre de sacs de ${bagSize} kg ≈ <strong>${bags}</strong> sac(s).`;
  } else {
    html += `<strong>Estimated concrete volume:</strong> ${volume.toFixed(2)} m³<br>`;
    html += `Cement required ≈ ${cementKg.toFixed(0)} kg<br>`;
    html += `Number of ${bagSize} kg bags ≈ <strong>${bags}</strong> bag(s).`;
  }

  resultEl.innerHTML = html;
}

function calculateRunningPowerZones() {
  const ftp = parseFloat(document.getElementById("runFtp").value);
  const output = document.getElementById("runPowerResult");

  if (!ftp || ftp <= 0) {
    output.textContent = "Indique une valeur FTP valide.";
    return;
  }

  const zones = [
    { name: "Zone 1 — Endurance", min: 0.65, max: 0.80 },
    { name: "Zone 2 — Tempo", min: 0.80, max: 0.90 },
    { name: "Zone 3 — Seuil", min: 0.90, max: 1.00 },
    { name: "Zone 4 — Course", min: 1.00, max: 1.15 },
    { name: "Zone 5 — Anaérobie", min: 1.15, max: 1.30 },
    { name: "Zone 6 — Sprint", min: 1.30, max: 1.50 }
  ];

  let html = "<strong>Résultat :</strong><br><br>";

  zones.forEach(z => {
    const minW = Math.round(ftp * z.min);
    const maxW = Math.round(ftp * z.max);
    html += `${z.name} : <strong>${minW}–${maxW} W</strong><br>`;
  });

  output.innerHTML = html;
}

// --------- Helpers communs ---------

function formatEuroFr(value) {
  return value.toLocaleString("fr-FR", {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  });
}

function formatEuroEn(value) {
  return value.toLocaleString("en-US", {
    minimumFractionDigits: 2,
    maximumFractionDigits: 2
  });
}

// Calcule un tableau annuel linéaire (capital constant)
function buildLinearSchedule(P, r, years) {
  const rows = [];
  const principalYear = P / years;
  let remaining = P;

  rows.push("Année | Capital remboursé | Intérêts | Paiement total | Capital restant");

  for (let year = 1; year <= years; year++) {
    const interest = remaining * r;
    const total = principalYear + interest;
    remaining -= principalYear;
    if (remaining < 0) remaining = 0;

    rows.push(
      `${year.toString().padStart(3, " ")}  | ` +
      `${principalYear.toFixed(2).padStart(16, " ")} | ` +
      `${interest.toFixed(2).padStart(8, " ")} | ` +
      `${total.toFixed(2).padStart(12, " ")} | ` +
      `${remaining.toFixed(2).padStart(15, " ")}`
    );
  }
  return rows;
}

// Calcule un tableau annuel type prêt amortissable classique (mensualités constantes)
function buildDecliningSchedule(P, r, years) {
  const rows = [];
  const nMonths = years * 12;
  const monthlyRate = r / 12;

  // Mensualité constante : A = P * r / (1 - (1 + r)^-n)
  const monthlyPayment =
    monthlyRate === 0
      ? P / nMonths
      : (P * monthlyRate) / (1 - Math.pow(1 + monthlyRate, -nMonths));

  rows.push("Année | Capital remboursé | Intérêts | Paiement total | Capital restant");

  let remaining = P;

  for (let year = 1; year <= years; year++) {
    let yearInterest = 0;
    let yearPrincipal = 0;

    for (let m = 0; m < 12; m++) {
      const interest = remaining * monthlyRate;
      const principal = monthlyPayment - interest;
      yearInterest += interest;
      yearPrincipal += principal;
      remaining -= principal;
      if (remaining < 0) remaining = 0;
    }

    const total = yearInterest + yearPrincipal;

    rows.push(
      `${year.toString().padStart(3, " ")}  | ` +
      `${yearPrincipal.toFixed(2).padStart(16, " ")} | ` +
      `${yearInterest.toFixed(2).padStart(8, " ")} | ` +
      `${total.toFixed(2).padStart(12, " ")} | ` +
      `${remaining.toFixed(2).padStart(15, " ")}`
    );
  }
  return rows;
}

// --------- Version FR ---------

function calculateAmortizationFr() {
  const amountEl = document.getElementById("amortAmountFr");
  const rateEl = document.getElementById("amortRateFr");
  const yearsEl = document.getElementById("amortYearsFr");
  const typeEl = document.getElementById("amortTypeFr");
  const resultEl = document.getElementById("amortResultFr");

  if (!amountEl || !rateEl || !yearsEl || !typeEl || !resultEl) return;

  const amount = Number(amountEl.value);
  const ratePercent = Number(rateEl.value);
  const years = Number(yearsEl.value);
  const type = typeEl.value;

  if (!amount || !ratePercent || !years || amount <= 0 || years <= 0 || ratePercent < 0) {
    resultEl.textContent = "Merci de renseigner un montant, un taux et une durée valides.";
    return;
  }

  const r = ratePercent / 100;
  let rows;

  if (type === "linear") {
    rows = buildLinearSchedule(amount, r, years);
  } else {
    rows = buildDecliningSchedule(amount, r, years);
  }

  const summary =
    `<p><strong>Résumé :</strong> montant ` +
    `${formatEuroFr(amount)} € • taux ${ratePercent}% • durée ${years} ans.</p>`;

  const pre =
    `<pre style="margin-top:0.6rem; white-space:pre; font-family:Menlo,Consolas,monospace; font-size:0.8rem;">` +
    rows.join("\n") +
    "</pre>";

  resultEl.innerHTML = summary + pre;
}

// --------- Version EN ---------

function calculateAmortizationEn() {
  const amountEl = document.getElementById("amortAmountEn");
  const rateEl = document.getElementById("amortRateEn");
  const yearsEl = document.getElementById("amortYearsEn");
  const typeEl = document.getElementById("amortTypeEn");
  const resultEl = document.getElementById("amortResultEn");

  if (!amountEl || !rateEl || !yearsEl || !typeEl || !resultEl) return;

  const amount = Number(amountEl.value);
  const ratePercent = Number(rateEl.value);
  const years = Number(yearsEl.value);
  const type = typeEl.value;

  if (!amount || !ratePercent || !years || amount <= 0 || years <= 0 || ratePercent < 0) {
    resultEl.textContent = "Please enter a valid amount, rate and duration.";
    return;
  }

  const r = ratePercent / 100;
  let rows;

  if (type === "linear") {
    rows = buildLinearSchedule(amount, r, years);
  } else {
    rows = buildDecliningSchedule(amount, r, years);
  }

  const summary =
    `<p><strong>Summary:</strong> amount ` +
    `${formatEuroEn(amount)} € • rate ${ratePercent}% • duration ${years} years.</p>`;

  const pre =
    `<pre style="margin-top:0.6rem; white-space:pre; font-family:Menlo,Consolas,monospace; font-size:0.8rem;">` +
    rows.join("\n") +
    "</pre>";

  resultEl.innerHTML = summary + pre;
}

    // Calculateur de rendement locatif (FR)
function calculateRentalYieldFR() {
  const priceInput = document.getElementById("ryPrice_fr");
  const rentInput = document.getElementById("ryRent_fr");
  const chargesInput = document.getElementById("ryCharges_fr");
  const resultEl = document.getElementById("ryResult_fr");

  if (!priceInput || !rentInput || !chargesInput || !resultEl) return;

  const parseFR = (val) =>
    val === null || val === undefined || String(val).trim() === ""
      ? NaN
      : parseFloat(String(val).replace(",", "."));

  const price = parseFR(priceInput.value);
  const rent = parseFR(rentInput.value);
  const charges = parseFR(chargesInput.value);

  if (isNaN(price) || price <= 0 || isNaN(rent) || rent <= 0) {
    resultEl.textContent =
      "Renseigne au minimum le prix d’achat et le loyer mensuel (valeurs positives).";
    return;
  }

  const annualRent = rent * 12;
  const annualCharges = isNaN(charges) || charges < 0 ? 0 : charges;

  const grossYield = (annualRent / price) * 100;
  const netYield = ((annualRent - annualCharges) / price) * 100;

  const grossText = grossYield.toFixed(2).replace(".", ",") + " %";
  const netText = netYield.toFixed(2).replace(".", ",") + " %";

  resultEl.innerHTML =
    "Loyer annuel : <strong>" +
    annualRent.toFixed(0).replace(".", " ") +
    " €</strong><br>" +
    "Rendement brut : <strong>" +
    grossText +
    "</strong><br>" +
    "Rendement net (après charges) : <strong>" +
    netText +
    "</strong>";
}

// Convertisseur d’énergie (FR) : Joules ↔ kcal ↔ kWh
function convertEnergyFR() {
  const jInput = document.getElementById("energyJ_fr");
  const kcalInput = document.getElementById("energyKcal_fr");
  const kwhInput = document.getElementById("energyKwh_fr");
  const resultEl = document.getElementById("energyResult_fr");

  if (!jInput || !kcalInput || !kwhInput || !resultEl) return;

  // Petite fonction pour gérer points/virgules
  function parseFR(value) {
    if (!value) return NaN;
    return parseFloat(String(value).replace(",", "."));
  }

  const jVal = parseFR(jInput.value);
  const kcalVal = parseFR(kcalInput.value);
  const kwhVal = parseFR(kwhInput.value);

  const J_PER_KCAL = 4184;
  const J_PER_KWH = 3600000;

  let joules = NaN;

  // 1) On détecte quelle case est remplie (priorité : Joules > kcal > kWh)
  if (!isNaN(jVal) && jInput.value.trim() !== "") {
    joules = jVal;
  } else if (!isNaN(kcalVal) && kcalInput.value.trim() !== "") {
    joules = kcalVal * J_PER_KCAL;
  } else if (!isNaN(kwhVal) && kwhInput.value.trim() !== "") {
    joules = kwhVal * J_PER_KWH;
  } else {
    resultEl.textContent = "Renseigne au moins un des trois champs.";
    return;
  }

  // 2) On calcule les autres unités
  const kcal = joules / J_PER_KCAL;
  const kwh = joules / J_PER_KWH;

  // 3) On réécrit proprement dans les inputs
  jInput.value = joules.toFixed(2);
  kcalInput.value = kcal.toFixed(4);
  kwhInput.value = kwh.toFixed(6);

  // 4) Petit résumé
  resultEl.innerHTML =
    "Énergie : <strong>" + joules.toFixed(2) + " J</strong><br>" +
    "≈ <strong>" + kcal.toFixed(4) + " kcal</strong><br>" +
    "≈ <strong>" + kwh.toFixed(6) + " kWh</strong>";
}

// Convertisseur fraction ↔ décimal ↔ pourcentage (FR)

function gcd(a, b) {
  a = Math.abs(a);
  b = Math.abs(b);
  while (b) {
    const t = b;
    b = a % b;
    a = t;
  }
  return a || 1;
}

function convertFractionDecimalPercent() {
  const fractionInput = document.getElementById("fractionInput");
  const decimalInput = document.getElementById("decimalInput");
  const percentInput = document.getElementById("percentInput");
  const resultEl = document.getElementById("fractionResult");

  if (!fractionInput || !decimalInput || !percentInput || !resultEl) return;

  const fracRaw = (fractionInput.value || "").trim();
  const decRaw = (decimalInput.value || "").trim();
  const pctRaw = (percentInput.value || "").trim();

  let fracNum = null;
  let fracDen = null;
  let decimal = null;
  let percent = null;

  // 1) Priorité à la fraction si remplie
  if (fracRaw) {
    const parts = fracRaw.split("/");
    if (parts.length !== 2) {
      resultEl.textContent = "Format de fraction invalide. Utilise la forme a/b (ex. 1/4).";
      return;
    }
    const num = parseFloat(parts[0].replace(",", "."));
    const den = parseFloat(parts[1].replace(",", "."));
    if (isNaN(num) || isNaN(den) || den === 0) {
      resultEl.textContent = "Fraction invalide. Vérifie le numérateur et le dénominateur.";
      return;
    }
    decimal = num / den;
    percent = decimal * 100;
    // Simplification de la fraction
    const g = gcd(num, den);
    fracNum = num / g;
    fracDen = den / g;
  }
  // 2) Sinon décimal
  else if (decRaw) {
    const dec = parseFloat(decRaw.replace(",", "."));
    if (isNaN(dec)) {
      resultEl.textContent = "Décimal invalide.";
      return;
    }
    decimal = dec;
    percent = decimal * 100;
    // Approximation fraction avec dénominateur max 100
    const denom = 100;
    const num = Math.round(decimal * denom);
    const g = gcd(num, denom);
    fracNum = num / g;
    fracDen = denom / g;
  }
  // 3) Sinon pourcentage
  else if (pctRaw) {
    const cleaned = pctRaw.replace("%", "").trim();
    const pct = parseFloat(cleaned.replace(",", "."));
    if (isNaN(pct)) {
      resultEl.textContent = "Pourcentage invalide.";
      return;
    }
    percent = pct;
    decimal = percent / 100;
    const denom = 100;
    const num = Math.round(decimal * denom);
    const g = gcd(num, denom);
    fracNum = num / g;
    fracDen = denom / g;
  } else {
    resultEl.textContent = "Remplis au moins un des trois champs.";
    return;
  }

  // Mise à jour des champs
  if (fracNum !== null && fracDen !== null) {
    fractionInput.value = fracNum + "/" + fracDen;
  }
  if (decimal !== null) {
    decimalInput.value = decimal.toFixed(4).replace(".", ",");
  }
  if (percent !== null) {
    percentInput.value = percent.toFixed(2).replace(".", ",");
  }

  resultEl.innerHTML =
    "Fraction : <strong>" + fracNum + "/" + fracDen + "</strong><br>" +
    "Décimal : <strong>" + decimal.toFixed(4) + "</strong><br>" +
    "Pourcentage : <strong>" + percent.toFixed(2) + " %</strong>";
}

    // Générateur de QR Code
let qrInstance = null;

function generateQrCode() {
  const input = document.getElementById("qrText");
  const container = document.getElementById("qrCodeContainer");
  const resultEl = document.getElementById("qrCodeResult");

  if (!input || !container || !resultEl) return;

  const text = (input.value || "").trim();

  if (!text) {
    container.innerHTML = "<span>Ajoute d’abord un texte ou une URL.</span>";
    return;
  }

  if (typeof QRCode === "undefined") {
    container.innerHTML =
      "<span>Erreur : la librairie de QR Code n’est pas chargée.</span>";
    return;
  }

  // Réinitialise le conteneur
  container.innerHTML = "";

  qrInstance = new QRCode(container, {
    text: text,
    width: 180,
    height: 180,
    correctLevel: QRCode.CorrectLevel.M
  });
}

function clearQrCode() {
  const input = document.getElementById("qrText");
  const container = document.getElementById("qrCodeContainer");

  if (input) input.value = "";
  if (container) container.innerHTML = "";
  qrInstance = null;
}

    // Fréquence cardiaque cible (FR)
function calculateTargetHeartRate() {
  const ageInput = document.getElementById("hrAge");
  const intensitySelect = document.getElementById("hrIntensity");
  const resultEl = document.getElementById("hrResult");

  if (!ageInput || !intensitySelect || !resultEl) return;

  const age = parseFloat((ageInput.value || "").replace(",", "."));
  if (isNaN(age) || age <= 0 || age > 120) {
    resultEl.textContent =
      "Merci d’entrer un âge valide entre 1 et 120 ans.";
    return;
  }

  // Formule simple : FCmax ≈ 220 − âge
  const maxHr = 220 - age;

  const moderateMin = Math.round(maxHr * 0.50);
  const moderateMax = Math.round(maxHr * 0.70);
  const intenseMin = Math.round(maxHr * 0.70);
  const intenseMax = Math.round(maxHr * 0.85);

  const mode = intensitySelect.value || "both";

  let html = "<strong>Fréquence cardiaque maximale théorique :</strong> " +
    maxHr + " battements/minute (bpm)<br>";

  if (mode === "both" || mode === "moderate") {
    html +=
      "<br><strong>Zone d’effort modéré (≈ 50–70 % de la FC max) :</strong><br>" +
      moderateMin + " à " + moderateMax + " bpm";
  }

  if (mode === "both" || mode === "intense") {
    html +=
      "<br><br><strong>Zone d’effort intense (≈ 70–85 % de la FC max) :</strong><br>" +
      intenseMin + " à " + intenseMax + " bpm";
  }

  html +=
    "<br><br><span>Ces valeurs sont indicatives et peuvent varier selon la condition physique, " +
    "les traitements, les pathologies, etc. Pour un avis personnalisé, consulte un professionnel de santé.</span>";

  resultEl.innerHTML = html;
}

    // Consommation électrique W → kWh → € (FR)
function calculateElectricityCost() {
  const powerInput = document.getElementById("elecPower");
  const hoursInput = document.getElementById("elecHoursPerDay");
  const daysInput = document.getElementById("elecDays");
  const priceInput = document.getElementById("elecPrice");
  const resultEl = document.getElementById("elecResult");

  if (!powerInput || !hoursInput || !daysInput || !priceInput || !resultEl) {
    return;
  }

  const powerW = parseFloat((powerInput.value || "").replace(",", "."));
  const hoursPerDay = parseFloat((hoursInput.value || "").replace(",", "."));
  const days = parseFloat((daysInput.value || "").replace(",", "."));
  const pricePerKwh = parseFloat((priceInput.value || "").replace(",", "."));

  if (
    isNaN(powerW) ||
    isNaN(hoursPerDay) ||
    isNaN(days) ||
    isNaN(pricePerKwh) ||
    powerW < 0 ||
    hoursPerDay < 0 ||
    days < 0 ||
    pricePerKwh < 0
  ) {
    resultEl.textContent =
      "Merci de renseigner des valeurs numériques positives pour tous les champs.";
    return;
  }

  // kWh = (W × heures/jour × jours) / 1000
  const kwh = (powerW * hoursPerDay * days) / 1000;
  const cost = kwh * pricePerKwh;

  resultEl.innerHTML =
    "Consommation totale : <strong>" +
    kwh.toFixed(3) +
    " kWh</strong><br>" +
    "Coût estimé : <strong>" +
    cost.toFixed(2) +
    " €</strong>";
}

    // Convertisseur angle FR
function convertAngle() {
  const degInput = document.getElementById("angleDegrees");
  const pctInput = document.getElementById("anglePercent");
  const radInput = document.getElementById("angleRadians");
  const resultEl = document.getElementById("angleResult");

  if (!degInput || !pctInput || !radInput || !resultEl) return;

  let deg = parseFloat((degInput.value || "").replace(",", "."));
  let pct = parseFloat((pctInput.value || "").replace(",", "."));
  let rad = parseFloat((radInput.value || "").replace(",", "."));

  // Dégrés → %
  if (!isNaN(deg)) {
    const pctFromDeg = Math.tan((deg * Math.PI) / 180) * 100;
    const radFromDeg = (deg * Math.PI) / 180;

    pctInput.value = pctFromDeg.toFixed(4);
    radInput.value = radFromDeg.toFixed(4);

    resultEl.innerHTML =
      "Degrés : <strong>" + deg.toFixed(4) + "°</strong><br>" +
      "Pente : <strong>" + pctFromDeg.toFixed(4) + " %</strong><br>" +
      "Radians : <strong>" + radFromDeg.toFixed(4) + "</strong>";
    return;
  }

  // % → degrés
  if (!isNaN(pct)) {
    const degFromPct = Math.atan(pct / 100) * (180 / Math.PI);
    const radFromDeg = (degFromPct * Math.PI) / 180;

    degInput.value = degFromPct.toFixed(4);
    radInput.value = radFromDeg.toFixed(4);

    resultEl.innerHTML =
      "Pente : <strong>" + pct.toFixed(4) + " %</strong><br>" +
      "Degrés : <strong>" + degFromPct.toFixed(4) + "°</strong><br>" +
      "Radians : <strong>" + radFromDeg.toFixed(4) + "</strong>";
    return;
  }

  // Radians → degrés
  if (!isNaN(rad)) {
    const degFromRad = rad * (180 / Math.PI);
    const pctFromRad = Math.tan(degFromRad * (Math.PI / 180)) * 100;

    degInput.value = degFromRad.toFixed(4);
    pctInput.value = pctFromRad.toFixed(4);

    resultEl.innerHTML =
      "Radians : <strong>" + rad.toFixed(4) + "</strong><br>" +
      "Degrés : <strong>" + degFromRad.toFixed(4) + "°</strong><br>" +
      "Pente : <strong>" + pctFromRad.toFixed(4) + " %</strong>";
    return;
  }

  resultEl.textContent = "Merci de saisir une valeur valide.";
}

// Calculateur de carrelage (FR)
function calculateTiles() {
  const lengthInput = document.getElementById("tilesRoomLength");
  const widthInput = document.getElementById("tilesRoomWidth");
  const tileLengthInput = document.getElementById("tilesTileLength");
  const tileWidthInput = document.getElementById("tilesTileWidth");
  const wasteInput = document.getElementById("tilesWaste");
  const resultEl = document.getElementById("tilesResult");

  if (!lengthInput || !widthInput || !tileLengthInput || !tileWidthInput || !wasteInput || !resultEl) {
    return;
  }

  const lengthRaw = (lengthInput.value || "").replace(",", ".");
  const widthRaw = (widthInput.value || "").replace(",", ".");
  const tileLengthRaw = (tileLengthInput.value || "").replace(",", ".");
  const tileWidthRaw = (tileWidthInput.value || "").replace(",", ".");
  const wasteRaw = (wasteInput.value || "").replace(",", ".");

  const length = parseFloat(lengthRaw);
  const width = parseFloat(widthRaw);
  const tileLengthCm = parseFloat(tileLengthRaw);
  const tileWidthCm = parseFloat(tileWidthRaw);
  const wastePercent = wasteRaw === "" ? 0 : parseFloat(wasteRaw);

  if (
    isNaN(length) || length <= 0 ||
    isNaN(width) || width <= 0 ||
    isNaN(tileLengthCm) || tileLengthCm <= 0 ||
    isNaN(tileWidthCm) || tileWidthCm <= 0 ||
    isNaN(wastePercent) || wastePercent < 0
  ) {
    resultEl.textContent = "Merci de renseigner des valeurs valides pour la pièce et les carreaux.";
    return;
  }

  // Surface de la pièce
  const roomArea = length * width; // m²

  // Surface d’un carreau (converti cm → m)
  const tileArea = (tileLengthCm / 100) * (tileWidthCm / 100); // m²

  if (tileArea <= 0) {
    resultEl.textContent = "La surface d’un carreau est invalide.";
    return;
  }

  const rawTiles = roomArea / tileArea;
  const tilesWithWaste = rawTiles * (1 + wastePercent / 100);
  const tilesRounded = Math.ceil(tilesWithWaste);

  const totalAreaWithWaste = tilesRounded * tileArea;

  resultEl.innerHTML =
    "Surface de la pièce : <strong>" + roomArea.toFixed(2) + " m²</strong><br>" +
    "Nombre de carreaux (sans pertes) : <strong>" + Math.ceil(rawTiles) + "</strong><br>" +
    "Nombre de carreaux avec " + wastePercent.toFixed(1) + " % de pertes : <strong>" + tilesRounded + "</strong><br>" +
    "Surface totale couverte (avec marge) : <strong>" + totalAreaWithWaste.toFixed(2) + " m²</strong>";
}

    // Calculateur de peinture (FR)
function calculatePaintFR() {
  const sInput = document.getElementById("paintSurfaceFR");
  const cInput = document.getElementById("paintCoverageFR");
  const coatsInput = document.getElementById("paintCoatsFR");
  const resultEl = document.getElementById("paintResultFR");

  if (!sInput || !cInput || !coatsInput || !resultEl) return;

  const s = parseFloat((sInput.value || "").replace(",", "."));
  const cov = parseFloat((cInput.value || "").replace(",", "."));
  const coats = parseInt(coatsInput.value || "1", 10);

  if (isNaN(s) || s <= 0) {
    resultEl.textContent = "Indique une surface valide.";
    return;
  }
  if (isNaN(cov) || cov <= 0) {
    resultEl.textContent = "Indique un rendement valide.";
    return;
  }
  if (isNaN(coats) || coats <= 0) {
    resultEl.textContent = "Indique un nombre de couches valide.";
    return;
  }

  const liters = (s / cov) * coats;
  const pots = Math.ceil(liters);

  resultEl.innerHTML =
    "Surface : <strong>" + s + " m²</strong><br>" +
    "Rendement : <strong>" + cov + " m²/L</strong><br>" +
    "Couches : <strong>" + coats + "</strong><br><br>" +
    "Peinture nécessaire : <strong>" + liters.toFixed(2) + " L</strong><br>" +
    "Nombre de pots conseillés : <strong>" + pots + "</strong>";
}

    // Gains & pertes (%) en crypto (FR)
function calculateCryptoPnLFR() {
  const buyInput = document.getElementById("cryptoBuyFR");
  const currentInput = document.getElementById("cryptoCurrentFR");
  const qtyInput = document.getElementById("cryptoQtyFR");
  const resultEl = document.getElementById("cryptoResultFR");

  if (!buyInput || !currentInput || !resultEl) return;

  const buyRaw = buyInput.value || "";
  const currentRaw = currentInput.value || "";
  const qtyRaw = qtyInput ? (qtyInput.value || "") : "";

  const buy = parseFloat(buyRaw.replace(",", "."));
  const current = parseFloat(currentRaw.replace(",", "."));
  const qty = qtyRaw.trim()
    ? parseFloat(qtyRaw.replace(",", "."))
    : NaN;

  if (isNaN(buy) || buy <= 0) {
    resultEl.textContent = "Indique un prix d’achat valide.";
    return;
  }
  if (isNaN(current) || current <= 0) {
    resultEl.textContent = "Indique un prix actuel valide.";
    return;
  }

  const diffPerCoin = current - buy;
  const percent = (diffPerCoin / buy) * 100;

  let html =
    "Prix d’achat : <strong>" + buy.toFixed(2) + " €</strong><br>" +
    "Prix actuel : <strong>" + current.toFixed(2) + " €</strong><br>" +
    "Évolution : <strong>" + diffPerCoin.toFixed(2) + " €</strong> par coin ";

  if (percent >= 0) {
    html += "(<strong>+" + percent.toFixed(2) + " %</strong>)<br>";
  } else {
    html += "(<strong>" + percent.toFixed(2) + " %</strong>)<br>";
  }

  if (!isNaN(qty) && qty > 0) {
    const totalDiff = diffPerCoin * qty;
    const initialTotal = buy * qty;
    const currentTotal = current * qty;

    html +=
      "Quantité : <strong>" + qty + "</strong><br>" +
      "Valeur d’achat : <strong>" + initialTotal.toFixed(2) + " €</strong><br>" +
      "Valeur actuelle : <strong>" + currentTotal.toFixed(2) + " €</strong><br>" +
      "Gain / perte total(e) : <strong>" + totalDiff.toFixed(2) + " €</strong>";
  }

  resultEl.innerHTML = html;
}

    // Frais de notaire / achat immobilier (FR)
function calculateNotaryFeesFR() {
  const priceInput = document.getElementById("notaryPriceFR");
  const rateInput = document.getElementById("notaryRateFR");
  const resultEl = document.getElementById("notaryResultFR");

  if (!priceInput || !rateInput || !resultEl) return;

  const priceRaw = priceInput.value || "";
  const rateRaw = rateInput.value || "";

  const price = parseFloat(priceRaw.replace(",", "."));
  const rate = parseFloat(rateRaw.replace(",", "."));

  if (isNaN(price) || price <= 0) {
    resultEl.textContent = "Indique un prix d’achat valide.";
    return;
  }
  if (isNaN(rate) || rate <= 0) {
    resultEl.textContent = "Indique un pourcentage de frais de notaire valide.";
    return;
  }

  const notaryFees = price * (rate / 100);
  const totalCost = price + notaryFees;

  resultEl.innerHTML =
    "Prix d’achat : <strong>" + price.toFixed(2) + " €</strong><br>" +
    "Frais de notaire estimés (" + rate.toFixed(2) + " %)&nbsp;: <strong>" +
      notaryFees.toFixed(2) + " €</strong><br>" +
    "Coût total (prix + frais)&nbsp;: <strong>" +
      totalCost.toFixed(2) + " €</strong>";
}

    // Capacité d’emprunt simple (FR)
function calculateBorrowingCapacityFR() {
  const incomeInput = document.getElementById("borrowIncomeFR");
  const chargesInput = document.getElementById("borrowChargesFR");
  const ratioInput = document.getElementById("borrowRatioFR");
  const rateInput = document.getElementById("borrowRateFR");
  const yearsInput = document.getElementById("borrowYearsFR");
  const resultEl = document.getElementById("borrowResultFR");

  if (!incomeInput || !chargesInput || !ratioInput || !rateInput || !yearsInput || !resultEl) return;

  const incomeRaw = incomeInput.value || "";
  const chargesRaw = chargesInput.value || "";
  const ratioRaw = ratioInput.value || "";
  const rateRaw = rateInput.value || "";
  const yearsRaw = yearsInput.value || "";

  const income = parseFloat(incomeRaw.replace(",", "."));
  const charges = parseFloat(chargesRaw.replace(",", "."));
  let ratio = parseFloat(ratioRaw.replace(",", "."));
  const annualRate = parseFloat(rateRaw.replace(",", "."));
  const years = parseFloat(yearsRaw.replace(",", "."));

  if (isNaN(income) || income <= 0) {
    resultEl.textContent = "Indique des revenus mensuels valides.";
    return;
  }
  if (isNaN(charges) || charges < 0) {
    resultEl.textContent = "Indique des charges mensuelles valides (0 si aucune).";
    return;
  }
  if (isNaN(ratio) || ratio <= 0) {
    // valeur par défaut si vide : 35 %
    ratio = 35;
  }
  if (isNaN(annualRate) || annualRate < 0) {
    resultEl.textContent = "Indique un taux d’intérêt annuel valide (0 ou plus).";
    return;
  }
  if (isNaN(years) || years <= 0) {
    resultEl.textContent = "Indique une durée de prêt valide en années.";
    return;
  }

  // Capacité de remboursement mensuelle
  const maxDebtMonthly = (income * ratio) / 100;
  const capacityMonthly = maxDebtMonthly - charges;

  if (capacityMonthly <= 0) {
    resultEl.innerHTML =
      "Avec ces revenus, ces charges et un taux d’endettement de <strong>" +
      ratio.toFixed(1) +
      " %</strong>, la capacité de remboursement est nulle ou négative. " +
      "Réduis les charges ou augmente le taux d’endettement pour une estimation.";
    return;
  }

  const months = years * 12;
  const monthlyRate = annualRate > 0 ? (annualRate / 100) / 12 : 0;

  let maxLoan;

  if (monthlyRate === 0) {
    // Pas d’intérêt : capital = mensualité × nombre de mois
    maxLoan = capacityMonthly * months;
  } else {
    // Formule de prêt amortissable : M = C * r / (1 - (1 + r)^(-n))
    // => C = M * (1 - (1 + r)^(-n)) / r
    const factor = (1 - Math.pow(1 + monthlyRate, -months)) / monthlyRate;
    maxLoan = capacityMonthly * factor;
  }

  resultEl.innerHTML =
    "Capacité de remboursement mensuelle estimée : <strong>" +
    capacityMonthly.toFixed(2) +
    " €</strong><br>" +
    "Montant de prêt maximal estimé : <strong>" +
    maxLoan.toFixed(2) +
    " €</strong><br>" +
    "<span>Hypothèses : taux annuel " +
    annualRate.toFixed(2) +
    " %, durée " +
    years.toFixed(0) +
    " ans, taux d’endettement " +
    ratio.toFixed(1) +
    " %.</span>";
}

    // Convertisseur salaire annuel ↔ mensuel ↔ horaire (FR)
function convertSalaryTimeFR() {
  const yearInput = document.getElementById("salaryYearFR");
  const monthInput = document.getElementById("salaryMonthFR");
  const hourInput = document.getElementById("salaryHourFR");
  const hoursPerWeekInput = document.getElementById("hoursPerWeekFR");
  const resultEl = document.getElementById("salaryTimeResultFR");

  if (!yearInput || !monthInput || !hourInput || !hoursPerWeekInput || !resultEl) return;

  const yearRaw = yearInput.value || "";
  const monthRaw = monthInput.value || "";
  const hourRaw = hourInput.value || "";
  const hoursWeekRaw = hoursPerWeekInput.value || "";

  const monthsPerYear = 12;
  const weeksPerYear = 52;

  const hoursPerWeek = parseFloat(hoursWeekRaw.replace(",", "."));
  if (isNaN(hoursPerWeek) || hoursPerWeek <= 0) {
    resultEl.textContent =
      "Indique un nombre d’heures travaillées par semaine (par ex. 35).";
    return;
  }

  let annual, monthly, hourly;

  // 1) Priorité : annuel si rempli
  if (yearRaw.trim() !== "") {
    const yearVal = parseFloat(yearRaw.replace(",", "."));
    if (isNaN(yearVal) || yearVal <= 0) {
      resultEl.textContent = "Salaire annuel invalide.";
      return;
    }
    annual = yearVal;
    monthly = annual / monthsPerYear;
    hourly = annual / (weeksPerYear * hoursPerWeek);
  }
  // 2) Sinon mensuel
  else if (monthRaw.trim() !== "") {
    const monthVal = parseFloat(monthRaw.replace(",", "."));
    if (isNaN(monthVal) || monthVal <= 0) {
      resultEl.textContent = "Salaire mensuel invalide.";
      return;
    }
    monthly = monthVal;
    annual = monthly * monthsPerYear;
    hourly = annual / (weeksPerYear * hoursPerWeek);
  }
  // 3) Sinon horaire
  else if (hourRaw.trim() !== "") {
    const hourVal = parseFloat(hourRaw.replace(",", "."));
    if (isNaN(hourVal) || hourVal <= 0) {
      resultEl.textContent = "Salaire horaire invalide.";
      return;
    }
    hourly = hourVal;
    annual = hourly * hoursPerWeek * weeksPerYear;
    monthly = annual / monthsPerYear;
  } else {
    resultEl.textContent =
      "Renseigne au moins un des montants (annuel, mensuel ou horaire).";
    return;
  }

  // Mise à jour des champs
  yearInput.value = annual.toFixed(2);
  monthInput.value = monthly.toFixed(2);
  hourInput.value = hourly.toFixed(2);

  resultEl.innerHTML =
    "Salaire annuel : <strong>" +
    annual.toFixed(2) +
    " €</strong><br>" +
    "Salaire mensuel : <strong>" +
    monthly.toFixed(2) +
    " €</strong><br>" +
    "Salaire horaire (≈) : <strong>" +
    hourly.toFixed(2) +
    " €/h</strong><br>" +
    "<span>Calcul basé sur " +
    hoursPerWeek.toFixed(1) +
    " h/semaine et " +
    weeksPerYear +
    " semaines/an.</span>";
}

    // Convertisseur Lumens ↔ Watts (LED) - FR
function convertLumensWatts() {
  const lumensInput = document.getElementById("lumensInput");
  const wattsInput = document.getElementById("wattsInput");
  const resultEl = document.getElementById("lumensWattsResult");
  if (!lumensInput || !wattsInput || !resultEl) return;

  const lmRaw = lumensInput.value || "";
  const wRaw = wattsInput.value || "";
  const efficacy = 90; // lumens par watt, valeur LED moyenne approximative

  // Si les lumens sont remplis → calculer les watts
  if (lmRaw.trim() !== "") {
    const lumens = parseFloat(lmRaw.replace(",", "."));
    if (isNaN(lumens) || lumens <= 0) {
      resultEl.textContent = "Valeur en lumens invalide.";
      return;
    }
    const watts = lumens / efficacy;
    wattsInput.value = watts.toFixed(2);
    resultEl.innerHTML =
      "<strong>" +
      lumens.toFixed(0) +
      " lm</strong> ≈ <strong>" +
      watts.toFixed(2) +
      " W (LED)</strong> avec une efficacité d’environ " +
      efficacy +
      " lm/W.";
    return;
  }

  // Si les watts sont remplis → calculer les lumens
  if (wRaw.trim() !== "") {
    const watts = parseFloat(wRaw.replace(",", "."));
    if (isNaN(watts) || watts <= 0) {
      resultEl.textContent = "Valeur en watts invalide.";
      return;
    }
    const lumens = watts * efficacy;
    lumensInput.value = lumens.toFixed(0);
    resultEl.innerHTML =
      "<strong>" +
      watts.toFixed(2) +
      " W (LED)</strong> ≈ <strong>" +
      lumens.toFixed(0) +
      " lm</strong> avec une efficacité d’environ " +
      efficacy +
      " lm/W.";
    return;
  }

  resultEl.textContent = "Renseigne au moins une des deux valeurs (lumens ou watts).";
}

    // Calculateur de temps de trajet (distance + vitesse)
function calculateTravelTime() {
  const distanceInput = document.getElementById("travelDistance");
  const distanceUnitSelect = document.getElementById("travelDistanceUnit");
  const speedInput = document.getElementById("travelSpeed");
  const speedUnitSelect = document.getElementById("travelSpeedUnit");
  const resultEl = document.getElementById("travelTimeResult");

  if (
    !distanceInput ||
    !distanceUnitSelect ||
    !speedInput ||
    !speedUnitSelect ||
    !resultEl
  ) {
    return;
  }

  const distanceRaw = distanceInput.value || "";
  const speedRaw = speedInput.value || "";

  const distanceUnit = distanceUnitSelect.value; // "km" ou "mi"
  const speedUnit = speedUnitSelect.value;       // "kmh" ou "mph"

  const distanceVal = parseFloat(distanceRaw.replace(",", "."));
  const speedVal = parseFloat(speedRaw.replace(",", "."));

  if (isNaN(distanceVal) || distanceVal <= 0) {
    resultEl.textContent =
      "Veuillez entrer une distance valide (supérieure à 0).";
    return;
  }

  if (isNaN(speedVal) || speedVal <= 0) {
    resultEl.textContent =
      "Veuillez entrer une vitesse valide (supérieure à 0).";
    return;
  }

  // Conversion éventuelle en km et km/h pour un calcul simple
  let distanceKm = distanceVal;
  let speedKmh = speedVal;

  if (distanceUnit === "mi") {
    distanceKm = distanceVal * 1.60934; // miles → km
  }

  if (speedUnit === "mph") {
    speedKmh = speedVal * 1.60934; // mph → km/h
  }

  const timeHours = distanceKm / speedKmh; // temps en heures (décimal)

  // Conversion en heures + minutes
  let totalMinutes = timeHours * 60;
  totalMinutes = Math.round(totalMinutes);

  let hours = Math.floor(totalMinutes / 60);
  let minutes = totalMinutes % 60;

  let timeLabel = "";
  if (hours === 0) {
    timeLabel = minutes + " min";
  } else if (minutes === 0) {
    timeLabel = hours + " h";
  } else {
    timeLabel =
      hours + " h " + minutes.toString().padStart(2, "0") + " min";
  }

  const distanceDisplay =
    distanceVal.toFixed(2) + " " + (distanceUnit === "km" ? "km" : "miles");
  const speedDisplay =
    speedVal.toFixed(2) + " " + (speedUnit === "kmh" ? "km/h" : "mph");

  resultEl.innerHTML =
    "Distance : <strong>" +
    distanceDisplay +
    "</strong><br>" +
    "Vitesse moyenne : <strong>" +
    speedDisplay +
    "</strong><br>" +
    "Temps estimé : <strong>" +
    timeLabel +
    "</strong>";
}

    // Convertisseur heures décimales ↔ heures + minutes
function convertDecimalHours() {
  const decimalInput = document.getElementById("decimalHoursInput");
  const hoursInput = document.getElementById("hoursInputDec");
  const minutesInput = document.getElementById("minutesInputDec");
  const resultEl = document.getElementById("decimalHoursResult");

  if (!decimalInput || !hoursInput || !minutesInput || !resultEl) return;

  const modeRadio = document.querySelector(
    "input[name='decimalHoursMode']:checked"
  );
  const mode = modeRadio ? modeRadio.value : "dec-to-hm";

  if (mode === "dec-to-hm") {
    // Heures décimales → heures + minutes
    const raw = decimalInput.value || "";
    const dec = parseFloat(raw.replace(",", "."));

    if (isNaN(dec)) {
      resultEl.textContent =
        "Veuillez entrer une valeur d’heures décimales valide (ex. 7,5).";
      return;
    }

    let totalMinutes = dec * 60;
    // Arrondi aux minutes
    totalMinutes = Math.round(totalMinutes);

    let hours = Math.floor(totalMinutes / 60);
    let minutes = totalMinutes % 60;

    // Gestion cas où minutes = 60 après arrondi
    if (minutes === 60) {
      hours += 1;
      minutes = 0;
    }

    resultEl.innerHTML =
      "Heures décimales : <strong>" +
      dec.toFixed(2) +
      " h</strong><br>" +
      "Temps classique : <strong>" +
      hours +
      " h " +
      minutes.toString().padStart(2, "0") +
      " min</strong>";
  } else {
    // Heures + minutes → heures décimales
    const hRaw = hoursInput.value || "";
    const mRaw = minutesInput.value || "";

    const h = parseInt(hRaw, 10);
    const m = parseInt(mRaw, 10);

    if (isNaN(h) && isNaN(m)) {
      resultEl.textContent =
        "Veuillez renseigner au moins les heures ou les minutes.";
      return;
    }

    const hoursSafe = isNaN(h) ? 0 : h;
    const minutesSafe = isNaN(m) ? 0 : m;

    if (minutesSafe < 0 || minutesSafe >= 60) {
      resultEl.textContent =
        "Les minutes doivent être comprises entre 0 et 59.";
      return;
    }

    const totalMinutes = hoursSafe * 60 + minutesSafe;
    const dec = totalMinutes / 60;

    resultEl.innerHTML =
      "Temps classique : <strong>" +
      hoursSafe +
      " h " +
      minutesSafe.toString().padStart(2, "0") +
      " min</strong><br>" +
      "Heures décimales : <strong>" +
      dec.toFixed(2) +
      " h</strong>";
  }
}

    // Convertisseur Euro ↔ Bitcoin / Crypto (taux manuel)
function convertCryptoEur() {
  const nameInput = document.getElementById("cryptoName");
  const priceInput = document.getElementById("cryptoPrice");
  const amountInput = document.getElementById("cryptoAmountOrEur");
  const resultEl = document.getElementById("cryptoEurResult");

  if (!priceInput || !amountInput || !resultEl) return;

  const cryptoNameRaw = nameInput ? (nameInput.value || "").trim() : "";
  const cryptoName = cryptoNameRaw || "BTC";

  const priceRaw = priceInput.value || "";
  const amountRaw = amountInput.value || "";

  const price = parseFloat(priceRaw.replace(",", "."));
  const amount = parseFloat(amountRaw.replace(",", "."));

  if (isNaN(price) || price <= 0 || isNaN(amount) || amount <= 0) {
    resultEl.textContent =
      "Veuillez entrer un prix et un montant valides (supérieurs à zéro).";
    return;
  }

  const modeRadio = document.querySelector("input[name='cryptoDirection']:checked");
  const mode = modeRadio ? modeRadio.value : "eur-to-crypto";

  let resultText = "";

  if (mode === "eur-to-crypto") {
    // € -> Crypto
    const cryptoAmount = amount / price;
    resultText =
      "Montant en euros : <strong>" +
      amount.toFixed(2) +
      " €</strong><br>" +
      "Prix de 1 " + cryptoName + " : <strong>" +
      price.toFixed(2) +
      " €</strong><br>" +
      "Montant en " + cryptoName + " : <strong>" +
      cryptoAmount.toFixed(8) +
      " " +
      cryptoName +
      "</strong>";
  } else {
    // Crypto -> €
    const eurAmount = amount * price;
    resultText =
      "Montant en " + cryptoName + " : <strong>" +
      amount.toFixed(8) +
      " " + cryptoName + "</strong><br>" +
      "Prix de 1 " + cryptoName + " : <strong>" +
      price.toFixed(2) +
      " €</strong><br>" +
      "Montant en euros : <strong>" +
      eurAmount.toFixed(2) +
      " €</strong>";
  }

  resultEl.innerHTML = resultText;
}

    // Suggestion de nouvel outil (FR)
function sendToolSuggestion() {
  const input = document.getElementById("toolSuggestionInput");
  const text = input ? (input.value || "").trim() : "";

  const base = "mailto:la.fabrique.des.reves06@gmail.com";
  const subject = "[Universe Tools] Suggestion d’outil";
  let body = "Bonjour,\n\n";
  body += "J’aimerais suggérer le(s) outil(s) suivant(s) pour Universe Tools :\n\n";

  if (text) {
    body += text + "\n\n";
  }

  body += "— Envoyé depuis Universe Tools";

  const href =
    base +
    "?subject=" +
    encodeURIComponent(subject) +
    "&body=" +
    encodeURIComponent(body);

  window.location.href = href;
}

    // Calculateur de prix unitaire (FR)
function calculateUnitPrice() {
  const totalInput = document.getElementById("unitPriceTotal");
  const qtyInput = document.getElementById("unitPriceQuantity");
  const unitSelect = document.getElementById("unitPriceUnit");
  const resultEl = document.getElementById("unitPriceResult");

  if (!totalInput || !qtyInput || !unitSelect || !resultEl) return;

  const totalRaw = totalInput.value || "";
  const qtyRaw = qtyInput.value || "";

  const total = parseFloat(totalRaw.replace(",", "."));
  const qty = parseFloat(qtyRaw.replace(",", "."));
  const unit = unitSelect.value || "unité";

  if (isNaN(total) || isNaN(qty) || qty <= 0) {
    resultEl.textContent =
      "Veuillez entrer un montant total et une quantité valides (quantité > 0).";
    return;
  }

  const unitPrice = total / qty;

  resultEl.innerHTML =
    "Prix unitaire : <strong>" +
    unitPrice.toFixed(2) +
    " €/ " +
    unit +
    "</strong>";
}

    // Fractions ↔ décimales
function fractionToDecimal() {
  const fracInput = document.getElementById("fractionInput");
  const decInput = document.getElementById("decimalInput");
  const resultEl = document.getElementById("fractionResult");
  if (!fracInput || !decInput || !resultEl) return;

  const raw = (fracInput.value || "").trim();
  if (!raw) {
    decInput.value = "";
    resultEl.textContent = "";
    return;
  }

  const parts = raw.split("/");
  if (parts.length !== 2) {
    decInput.value = "";
    resultEl.textContent = "Format invalide. Utilise une fraction du type 2/5.";
    return;
  }

  const num = parseFloat(parts[0].replace(",", "."));
  const den = parseFloat(parts[1].replace(",", "."));

  if (isNaN(num) || isNaN(den) || den === 0) {
    decInput.value = "";
    resultEl.textContent = "Fraction invalide.";
    return;
  }

  const value = num / den;
  decInput.value = value.toString().replace(".", ",");
  resultEl.innerHTML =
    "<strong>" + raw + "</strong> ≈ <strong>" + value.toFixed(6) + "</strong>";
}

function decimalToFraction() {
  const fracInput = document.getElementById("fractionInput");
  const decInput = document.getElementById("decimalInput");
  const resultEl = document.getElementById("fractionResult");
  if (!fracInput || !decInput || !resultEl) return;

  const raw = (decInput.value || "").trim();
  if (!raw) {
    fracInput.value = "";
    resultEl.textContent = "";
    return;
  }

  const value = parseFloat(raw.replace(",", "."));
  if (isNaN(value)) {
    fracInput.value = "";
    resultEl.textContent = "Nombre décimal invalide.";
    return;
  }

  const maxDen = 1000;
  let num = Math.round(value * maxDen);
  let den = maxDen;

  function gcd(a, b) {
    a = Math.abs(a);
    b = Math.abs(b);
    while (b) {
      const t = b;
      b = a % b;
      a = t;
    }
    return a || 1;
  }

  const g = gcd(num, den);
  num = num / g;
  den = den / g;

  fracInput.value = num + "/" + den;
  resultEl.innerHTML =
    "<strong>" + value.toString().replace(".", ",") +
    "</strong> ≈ <strong>" + num + "/" + den + "</strong>";
}

function convertFractionDecimal() {
  // Géré par les événements oninput
}

// Convertisseur mètres ↔ pieds
function convertMetersFeet() {
  const mInput = document.getElementById("metersInput");
  const ftInput = document.getElementById("feetInput");
  const resultEl = document.getElementById("metersFeetResult");
  if (!mInput || !ftInput || !resultEl) return;

  const mRaw = (mInput.value || "").trim();
  const ftRaw = (ftInput.value || "").trim();

  const FACTOR = 3.28084;

  if (mRaw) {
    const m = parseFloat(mRaw.replace(",", "."));
    if (isNaN(m)) {
      resultEl.textContent = "Valeur en mètres invalide.";
      return;
    }
    const ft = m * FACTOR;
    ftInput.value = ft.toFixed(4);
    resultEl.innerHTML =
      "<strong>" + m.toFixed(4) + " m</strong> ≈ <strong>" +
      ft.toFixed(4) + " ft</strong>";
    return;
  }

  if (ftRaw) {
    const ft = parseFloat(ftRaw.replace(",", "."));
    if (isNaN(ft)) {
      resultEl.textContent = "Valeur en pieds invalide.";
      return;
    }
    const m = ft / FACTOR;
    mInput.value = m.toFixed(4);
    resultEl.innerHTML =
      "<strong>" + ft.toFixed(4) + " ft</strong> ≈ <strong>" +
      m.toFixed(4) + " m</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Convertisseur m/s ↔ km/h
function convertSpeedMSKMH() {
  const msInput = document.getElementById("speedMSInput");
  const kmhInput = document.getElementById("speedKMHInput");
  const resultEl = document.getElementById("speedResult");
  if (!msInput || !kmhInput || !resultEl) return;

  const msRaw = (msInput.value || "").trim();
  const kmhRaw = (kmhInput.value || "").trim();
  const FACTOR = 3.6;

  if (msRaw) {
    const v = parseFloat(msRaw.replace(",", "."));
    if (isNaN(v)) {
      resultEl.textContent = "Valeur en m/s invalide.";
      return;
    }
    const kmh = v * FACTOR;
    kmhInput.value = kmh.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + v.toFixed(2) + " m/s</strong> ≈ <strong>" +
      kmh.toFixed(2) + " km/h</strong>";
    return;
  }

  if (kmhRaw) {
    const v = parseFloat(kmhRaw.replace(",", "."));
    if (isNaN(v)) {
      resultEl.textContent = "Valeur en km/h invalide.";
      return;
    }
    const ms = v / FACTOR;
    msInput.value = ms.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + v.toFixed(2) + " km/h</strong> ≈ <strong>" +
      ms.toFixed(2) + " m/s</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Convertisseur énergie Joules ↔ kcal
function convertEnergy() {
  const jInput = document.getElementById("energyJInput");
  const kcalInput = document.getElementById("energyKcalInput");
  const resultEl = document.getElementById("energyResult");
  if (!jInput || !kcalInput || !resultEl) return;

  const jRaw = (jInput.value || "").trim();
  const kcalRaw = (kcalInput.value || "").trim();
  const FACTOR = 4184; // 1 kcal = 4184 J

  if (jRaw) {
    const j = parseFloat(jRaw.replace(",", "."));
    if (isNaN(j)) {
      resultEl.textContent = "Valeur en joules invalide.";
      return;
    }
    const kcal = j / FACTOR;
    kcalInput.value = kcal.toFixed(4);
    resultEl.innerHTML =
      "<strong>" + j.toFixed(2) + " J</strong> ≈ <strong>" +
      kcal.toFixed(4) + " kcal</strong>";
    return;
  }

  if (kcalRaw) {
    const kcal = parseFloat(kcalRaw.replace(",", "."));
    if (isNaN(kcal)) {
      resultEl.textContent = "Valeur en kilocalories invalide.";
      return;
    }
    const j = kcal * FACTOR;
    jInput.value = j.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + kcal.toFixed(4) + " kcal</strong> ≈ <strong>" +
      j.toFixed(2) + " J</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Convertisseur pression bar ↔ psi
function convertPressure() {
  const barInput = document.getElementById("barInput");
  const psiInput = document.getElementById("psiInput");
  const resultEl = document.getElementById("pressureResult");
  if (!barInput || !psiInput || !resultEl) return;

  const barRaw = (barInput.value || "").trim();
  const psiRaw = (psiInput.value || "").trim();
  const FACTOR = 14.5038;

  if (barRaw) {
    const bar = parseFloat(barRaw.replace(",", "."));
    if (isNaN(bar)) {
      resultEl.textContent = "Valeur en bar invalide.";
      return;
    }
    const psi = bar * FACTOR;
    psiInput.value = psi.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + bar.toFixed(4) + " bar</strong> ≈ <strong>" +
      psi.toFixed(2) + " psi</strong>";
    return;
  }

  if (psiRaw) {
    const psi = parseFloat(psiRaw.replace(",", "."));
    if (isNaN(psi)) {
      resultEl.textContent = "Valeur en psi invalide.";
      return;
    }
    const bar = psi / FACTOR;
    barInput.value = bar.toFixed(4);
    resultEl.innerHTML =
      "<strong>" + psi.toFixed(2) + " psi</strong> ≈ <strong>" +
      bar.toFixed(4) + " bar</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Hash SHA-256
async function hashSHA256() {
  const inputEl = document.getElementById("hashInput");
  const resultEl = document.getElementById("hashResult");
  if (!inputEl || !resultEl) return;

  const text = inputEl.value || "";
  if (!text.trim()) {
    resultEl.textContent = "Saisis un texte pour calculer son hash.";
    return;
  }

  if (!window.crypto || !window.crypto.subtle) {
    resultEl.textContent =
      "La fonctionnalité crypto.subtle n’est pas disponible dans ce navigateur.";
    return;
  }

  try {
    const encoder = new TextEncoder();
    const data = encoder.encode(text);
    const digest = await window.crypto.subtle.digest("SHA-256", data);
    const hashArray = Array.from(new Uint8Array(digest));
    const hashHex = hashArray
      .map((b) => b.toString(16).padStart(2, "0"))
      .join("");
    resultEl.textContent = hashHex;
  } catch (e) {
    resultEl.textContent = "Erreur lors du calcul du hash.";
  }
}

// Helpers ISO semaine
function getISOWeekInfo(date) {
  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
  const dayNum = d.getUTCDay() || 7; // 1 (lun) → 7 (dim)
  d.setUTCDate(d.getUTCDate() + 4 - dayNum); // jeudi de la semaine
  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
  const weekNo = Math.ceil(((d - yearStart) / 86400000 + 1) / 7);
  return { year: d.getUTCFullYear(), week: weekNo };
}

function getDateOfISOWeek(week, year) {
  const simple = new Date(Date.UTC(year, 0, 1 + (week - 1) * 7));
  const dayOfWeek = simple.getUTCDay() || 7;
  const isoMonday = new Date(simple);
  isoMonday.setUTCDate(simple.getUTCDate() - dayOfWeek + 1);
  return isoMonday;
}

// Date ↔ numéro de semaine
function convertDateToWeek() {
  const input = document.getElementById("weekDateInput");
  const resultEl = document.getElementById("weekResult");
  if (!input || !resultEl) return;

  const value = input.value;
  if (!value) {
    resultEl.textContent = "Choisis une date.";
    return;
  }

  const date = new Date(value + "T00:00:00");
  if (isNaN(date.getTime())) {
    resultEl.textContent = "Date invalide.";
    return;
  }

  const info = getISOWeekInfo(date);
  resultEl.innerHTML =
    "Semaine ISO : <strong>" + info.week +
    "</strong> – Année ISO : <strong>" + info.year + "</strong>";
}

function convertWeekToDate() {
  const yearInput = document.getElementById("weekYearInput");
  const weekInput = document.getElementById("weekNumberInput");
  const resultEl = document.getElementById("weekDateResult");
  if (!yearInput || !weekInput || !resultEl) return;

  const year = parseInt((yearInput.value || "").trim(), 10);
  const week = parseInt((weekInput.value || "").trim(), 10);

  if (isNaN(year) || isNaN(week) || week < 1 || week > 53) {
    resultEl.textContent = "Saisis une année et un numéro de semaine valides.";
    return;
  }

  const monday = getDateOfISOWeek(week, year);
  if (isNaN(monday.getTime())) {
    resultEl.textContent = "Combinaison année / semaine invalide.";
    return;
  }

  const formatted = monday.toLocaleDateString("fr-FR", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
  });

  resultEl.innerHTML =
    "Lundi de la semaine " +
    week +
    " : <strong>" +
    formatted +
    "</strong>";
}

function splitBill() {
  const total = parseFloat((document.getElementById("billTotal").value || "").replace(",", "."));
  const people = parseInt(document.getElementById("billPeople").value || "");
  const tip = parseFloat((document.getElementById("billTip").value || "0").replace(",", "."));

  const resultEl = document.getElementById("billResult");

  if (!total || !people || people <= 0) {
    resultEl.textContent = "Veuillez entrer des valeurs valides.";
    return;
  }

  const tipAmount = total * (tip / 100);
  const finalTotal = total + tipAmount;
  const perPerson = finalTotal / people;

  resultEl.innerHTML =
    "Total avec pourboire : <strong>" + finalTotal.toFixed(2) + " €</strong><br>" +
    "Montant par personne : <strong>" + perPerson.toFixed(2) + " €</strong>";
}

function calculateSavingsGoal() {
  const amount = parseFloat((document.getElementById("goalAmount").value || "").replace(",", "."));
  const months = parseInt(document.getElementById("goalMonths").value || "");

  const resultEl = document.getElementById("goalResult");

  if (!amount || !months || months <= 0) {
    resultEl.textContent = "Veuillez entrer un objectif et une durée valides.";
    return;
  }

  const perMonth = amount / months;

  resultEl.innerHTML =
    "Montant à mettre de côté chaque mois : <strong>" +
    perMonth.toFixed(2) +
    " €</strong>";
}

    // Simulateur d’épargne mensuelle
function calculateSavingsMonthly() {
  const monthlyInput = document.getElementById("savingsMonthly");
  const rateInput = document.getElementById("savingsRate");
  const yearsInput = document.getElementById("savingsYears");
  const resultEl = document.getElementById("savingsResult");
  if (!monthlyInput || !rateInput || !yearsInput || !resultEl) return;

  const monthlyRaw = monthlyInput.value || "";
  const rateRaw = rateInput.value || "";
  const yearsRaw = yearsInput.value || "";

  const monthly = parseFloat(monthlyRaw.replace(",", "."));
  const rateYear = parseFloat(rateRaw.replace(",", "."));
  const years = parseFloat(yearsRaw.replace(",", "."));

  if (isNaN(monthly) || monthly <= 0) {
    resultEl.textContent =
      "Merci d’indiquer un montant d’épargne mensuelle valide (supérieur à 0).";
    return;
  }
  if (isNaN(rateYear) || rateYear < 0) {
    resultEl.textContent =
      "Merci d’indiquer un taux annuel valide (0 ou plus).";
    return;
  }
  if (isNaN(years) || years <= 0) {
    resultEl.textContent =
      "Merci d’indiquer une durée en années valide (supérieure à 0).";
    return;
  }

  const months = Math.round(years * 12);
  const totalPaid = monthly * months;

  let finalCapital;
  let interests;

  if (rateYear === 0) {
    // Pas d’intérêt : simple somme des versements
    finalCapital = totalPaid;
    interests = 0;
  } else {
    const monthlyRate = rateYear / 100 / 12;
    // Formule valeur future d’une rente : P * [((1 + r)^n - 1) / r]
    finalCapital =
      monthly * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate);
    interests = finalCapital - totalPaid;
  }

  let html =
    "Durée : <strong>" +
    years.toFixed(1) +
    " an" +
    (years >= 1.5 ? "s" : "") +
    "</strong><br>" +
    "Épargne mensuelle : <strong>" +
    monthly.toFixed(2) +
    " €</strong><br>" +
    "Taux annuel : <strong>" +
    rateYear.toFixed(2) +
    " %</strong><br><br>" +
    "Montant total versé : <strong>" +
    totalPaid.toFixed(2) +
    " €</strong><br>" +
    "Capital final estimé : <strong>" +
    finalCapital.toFixed(2) +
    " €</strong><br>" +
    "Intérêts générés : <strong>" +
    interests.toFixed(2) +
    " €</strong>";

  resultEl.innerHTML = html;
}

    // Calculateur de budget mensuel
function calculateBudgetMonthly() {
  const incomeInput = document.getElementById("budgetIncome");
  const expensesInput = document.getElementById("budgetExpenses");
  const resultEl = document.getElementById("budgetResult");
  if (!incomeInput || !expensesInput || !resultEl) return;

  const incomeRaw = incomeInput.value || "";
  const income = parseFloat(incomeRaw.replace(",", "."));

  if (isNaN(income) || income <= 0) {
    resultEl.textContent =
      "Merci d’indiquer des revenus mensuels valides (supérieurs à 0).";
    return;
  }

  const lines = (expensesInput.value || "")
    .split(/\n+/)
    .map((l) => l.trim())
    .filter((l) => l.length > 0);

  if (lines.length === 0) {
    const remaining = income;
    resultEl.innerHTML =
      "Revenus mensuels : <strong>" +
      income.toFixed(2) +
      " €</strong><br>" +
      "Aucune dépense renseignée.<br>" +
      "Reste à vivre : <strong>" +
      remaining.toFixed(2) +
      " €</strong> (100 % de tes revenus).";
    return;
  }

  const categories = [];
  let totalExpenses = 0;

  lines.forEach((line) => {
    let label = "Catégorie";
    let amountPart = line;

    const parts = line.split(":");
    if (parts.length >= 2) {
      label = parts[0].trim() || "Catégorie";
      amountPart = parts.slice(1).join(":").trim();
    }

    const amount = parseFloat((amountPart || "").replace(",", "."));
    if (!isNaN(amount) && amount >= 0) {
      totalExpenses += amount;
      categories.push({ label, amount });
    }
  });

  if (categories.length === 0) {
    resultEl.textContent =
      "Aucune dépense numérique valide n’a été trouvée. Vérifie le format (ex. Loyer : 900).";
    return;
  }

  const remaining = income - totalExpenses;

  let html =
    "Revenus mensuels : <strong>" +
    income.toFixed(2) +
    " €</strong><br>" +
    "Total des dépenses : <strong>" +
    totalExpenses.toFixed(2) +
    " €</strong><br>" +
    "Reste à vivre : <strong>" +
    remaining.toFixed(2) +
    " €</strong>";

  if (remaining < 0) {
    html +=
      " <span style='color:#f97373;'>(budget négatif : dépenses supérieures aux revenus)</span>";
  }

  html += "<br><br><strong>Répartition par catégorie :</strong>";

  html += "<ul style='margin-top:0.4rem; padding-left:1.2rem;'>";
  categories.forEach((cat) => {
    const pctIncome = (cat.amount / income) * 100;
    html +=
      "<li>" +
      cat.label +
      " : " +
      cat.amount.toFixed(2) +
      " € (" +
      pctIncome.toFixed(1) +
      " % des revenus)</li>";
  });
  html += "</ul>";

  resultEl.innerHTML = html;
}

    // Convertisseur de temps : jours -> heures / minutes / secondes
function convertTimeFromDays() {
  const daysInput = document.getElementById("daysInput");
  const resultEl = document.getElementById("timeResult");
  if (!daysInput || !resultEl) return;

  const raw = daysInput.value || "";
  const days = parseFloat(raw.replace(",", "."));

  if (isNaN(days)) {
    resultEl.textContent = "Veuillez entrer un nombre de jours valide.";
    return;
  }

  const hours = days * 24;
  const minutes = days * 24 * 60;
  const seconds = days * 24 * 60 * 60;

  resultEl.innerHTML =
    "≈ <strong>" + hours.toFixed(2) + " heures</strong><br>" +
    "≈ <strong>" + minutes.toFixed(0) + " minutes</strong><br>" +
    "≈ <strong>" + seconds.toFixed(0) + " secondes</strong>";
}

    // Convertisseur Ko / Mo / Go / To
function convertBytes() {
  const valueInput = document.getElementById("bytesValueInput");
  const unitSelect = document.getElementById("bytesUnitSelect");
  const resultEl = document.getElementById("bytesResult");

  if (!valueInput || !unitSelect || !resultEl) return;

  const raw = valueInput.value || "";
  const unit = unitSelect.value;
  const value = parseFloat(raw.replace(",", "."));

  if (isNaN(value) || value < 0) {
    resultEl.textContent = "Veuillez entrer une valeur numérique positive.";
    return;
  }

  // Facteurs basés sur 1 Ko = 1024 octets
  const factors = {
    B: 1,
    KB: 1024,
    MB: 1024 * 1024,
    GB: 1024 * 1024 * 1024,
    TB: 1024 * 1024 * 1024 * 1024
  };

  const baseBytes = value * (factors[unit] || 1);

  const bytes = baseBytes;
  const kb = baseBytes / factors.KB;
  const mb = baseBytes / factors.MB;
  const gb = baseBytes / factors.GB;
  const tb = baseBytes / factors.TB;

  function fmt(n) {
    if (n === 0) return "0";
    if (n >= 1) return n.toFixed(2);
    return n.toExponential(2);
  }

  resultEl.innerHTML =
    "≈ <strong>" + fmt(bytes) + " octets</strong><br>" +
    "≈ <strong>" + fmt(kb) + " Ko</strong><br>" +
    "≈ <strong>" + fmt(mb) + " Mo</strong><br>" +
    "≈ <strong>" + fmt(gb) + " Go</strong><br>" +
    "≈ <strong>" + fmt(tb) + " To</strong>";
}

    // Convertisseur de devises (taux manuel)
function convertCurrency() {
  const amountInput = document.getElementById("currencyAmountInput");
  const rateInput = document.getElementById("currencyRateInput");
  const resultEl = document.getElementById("currencyResult");
  if (!amountInput || !rateInput || !resultEl) return;

  const amountRaw = amountInput.value || "";
  const rateRaw = rateInput.value || "";

  const amount = parseFloat(amountRaw.replace(",", "."));
  const rate = parseFloat(rateRaw.replace(",", "."));

  if (isNaN(amount) || isNaN(rate) || rate <= 0) {
    resultEl.textContent =
      "Veuillez entrer un montant et un taux valides (taux > 0).";
    return;
  }

  const modeRadio = document.querySelector("input[name='currencyMode']:checked");
  const mode = modeRadio ? modeRadio.value : "eurToOther";

  let converted;
  if (mode === "eurToOther") {
    converted = amount * rate;
    resultEl.innerHTML =
      "Montant de départ : <strong>" + amount.toFixed(2) + " €</strong><br>" +
      "Taux : <strong>1 € = " + rate.toFixed(4) + "</strong><br>" +
      "Résultat : <strong>" + converted.toFixed(2) + "</strong> (devise cible)";
  } else {
    converted = amount / rate;
    resultEl.innerHTML =
      "Montant de départ : <strong>" + amount.toFixed(2) + "</strong> (devise source)<br>" +
      "Taux : <strong>1 € = " + rate.toFixed(4) + "</strong><br>" +
      "Résultat : <strong>" + converted.toFixed(2) + " €</strong>";
  }
}

    // Convertisseur de débit L/min ↔ m³/h
function convertFlow() {
  const lminInput = document.getElementById("flowLminInput");
  const m3hInput = document.getElementById("flowM3hInput");
  const resultEl = document.getElementById("flowResult");
  if (!lminInput || !m3hInput || !resultEl) return;

  const lminRaw = lminInput.value || "";
  const m3hRaw = m3hInput.value || "";

  // Si L/min est rempli, on priorise cette valeur
  if (lminRaw.trim() !== "") {
    const lmin = parseFloat(lminRaw.replace(",", "."));
    if (isNaN(lmin)) {
      resultEl.textContent = "Valeur en L/min invalide.";
      return;
    }
    const m3h = lmin * 0.06;
    m3hInput.value = m3h.toFixed(3);
    resultEl.innerHTML =
      "<strong>" + lmin.toFixed(2) + " L/min</strong> ≈ <strong>" +
      m3h.toFixed(3) + " m³/h</strong>";
    return;
  }

  // Sinon, on regarde m³/h
  if (m3hRaw.trim() !== "") {
    const m3h = parseFloat(m3hRaw.replace(",", "."));
    if (isNaN(m3h)) {
      resultEl.textContent = "Valeur en m³/h invalide.";
      return;
    }
    const lmin = m3h * (1000 / 60); // ≈ 16,6667
    lminInput.value = lmin.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + m3h.toFixed(3) + " m³/h</strong> ≈ <strong>" +
      lmin.toFixed(2) + " L/min</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs (L/min ou m³/h).";
}

function convertAreaVolume() {
  const areaInput = document.getElementById("areaSurfaceInput");
  const heightInput = document.getElementById("areaHeightInput");
  const resultEl = document.getElementById("areaVolumeResult");
  if (!areaInput || !heightInput || !resultEl) return;

  const areaRaw = areaInput.value || "";
  const heightRaw = heightInput.value || "";

  const area = parseFloat(areaRaw.replace(",", "."));
  const height = parseFloat(heightRaw.replace(",", "."));

  if (isNaN(area) || isNaN(height) || area <= 0 || height <= 0) {
    resultEl.textContent = "Veuillez entrer une surface et une hauteur valides.";
    return;
  }

  const volume = area * height;
  resultEl.innerHTML =
    "Surface : <strong>" + area.toFixed(2) + " m²</strong><br>" +
    "Hauteur : <strong>" + height.toFixed(2) + " m</strong><br>" +
    "Volume : <strong>" + volume.toFixed(3) + " m³</strong>";
}

// Convertisseur cm ↔ pouces
function convertCmInch() {
  const cmInput = document.getElementById("cmInput");
  const inchInput = document.getElementById("inchInput");
  const resultEl = document.getElementById("cmInchResult");
  if (!cmInput || !inchInput || !resultEl) return;

  const cmRaw = cmInput.value || "";
  const inchRaw = inchInput.value || "";

  const CM_PER_INCH = 2.54;

  if (cmRaw.trim() !== "") {
    const cm = parseFloat(cmRaw.replace(",", "."));
    if (isNaN(cm)) {
      resultEl.textContent = "Valeur en cm invalide.";
      return;
    }
    const inches = cm / CM_PER_INCH;
    inchInput.value = inches.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + cm.toFixed(2) + " cm</strong> ≈ <strong>" +
      inches.toFixed(2) + " in</strong>";
    return;
  }

  if (inchRaw.trim() !== "") {
    const inches = parseFloat(inchRaw.replace(",", "."));
    if (isNaN(inches)) {
      resultEl.textContent = "Valeur en pouces invalide.";
      return;
    }
    const cm = inches * CM_PER_INCH;
    cmInput.value = cm.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + inches.toFixed(2) + " in</strong> ≈ <strong>" +
      cm.toFixed(2) + " cm</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Convertisseur litres ↔ gallons (US)
function convertLitersGallons() {
  const litersInput = document.getElementById("litersInput");
  const gallonsInput = document.getElementById("gallonsInput");
  const resultEl = document.getElementById("litersGallonsResult");
  if (!litersInput || !gallonsInput || !resultEl) return;

  const litersRaw = litersInput.value || "";
  const gallonsRaw = gallonsInput.value || "";

  const GAL_PER_LITER = 0.264172; // gallon US

  if (litersRaw.trim() !== "") {
    const liters = parseFloat(litersRaw.replace(",", "."));
    if (isNaN(liters)) {
      resultEl.textContent = "Valeur en litres invalide.";
      return;
    }
    const gallons = liters * GAL_PER_LITER;
    gallonsInput.value = gallons.toFixed(3);
    resultEl.innerHTML =
      "<strong>" + liters.toFixed(3) + " L</strong> ≈ <strong>" +
      gallons.toFixed(3) + " gal (US)</strong>";
    return;
  }

  if (gallonsRaw.trim() !== "") {
    const gallons = parseFloat(gallonsRaw.replace(",", "."));
    if (isNaN(gallons)) {
      resultEl.textContent = "Valeur en gallons invalide.";
      return;
    }
    const liters = gallons / GAL_PER_LITER;
    litersInput.value = liters.toFixed(3);
    resultEl.innerHTML =
      "<strong>" + gallons.toFixed(3) + " gal (US)</strong> ≈ <strong>" +
      liters.toFixed(3) + " L</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Convertisseur heures ↔ minutes
function convertTimeHM() {
  const hoursInput = document.getElementById("hoursInput");
  const minutesInput = document.getElementById("minutesInput");
  const resultEl = document.getElementById("timeResult");
  if (!hoursInput || !minutesInput || !resultEl) return;

  const hoursRaw = hoursInput.value || "";
  const minutesRaw = minutesInput.value || "";

  if (hoursRaw.trim() !== "") {
    const hours = parseFloat(hoursRaw.replace(",", "."));
    if (isNaN(hours)) {
      resultEl.textContent = "Valeur en heures invalide.";
      return;
    }
    const minutes = hours * 60;
    minutesInput.value = minutes.toFixed(0);
    resultEl.innerHTML =
      "<strong>" + hours.toFixed(2) + " h</strong> ≈ <strong>" +
      minutes.toFixed(0) + " min</strong>";
    return;
  }

  if (minutesRaw.trim() !== "") {
    const minutes = parseFloat(minutesRaw.replace(",", "."));
    if (isNaN(minutes)) {
      resultEl.textContent = "Valeur en minutes invalide.";
      return;
    }
    const hours = minutes / 60;
    hoursInput.value = hours.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + minutes.toFixed(0) + " min</strong> ≈ <strong>" +
      hours.toFixed(2) + " h</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Convertisseur vitesse km/h ↔ mph
function convertSpeed() {
  const kmhInput = document.getElementById("kmhInput");
  const mphInput = document.getElementById("mphInput");
  const resultEl = document.getElementById("speedResult");
  if (!kmhInput || !mphInput || !resultEl) return;

  const kmhRaw = kmhInput.value || "";
  const mphRaw = mphInput.value || "";

  const KM_PER_MILE = 1.60934;

  if (kmhRaw.trim() !== "") {
    const kmh = parseFloat(kmhRaw.replace(",", "."));
    if (isNaN(kmh)) {
      resultEl.textContent = "Valeur en km/h invalide.";
      return;
    }
    const mph = kmh / KM_PER_MILE;
    mphInput.value = mph.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + kmh.toFixed(2) + " km/h</strong> ≈ <strong>" +
      mph.toFixed(2) + " mph</strong>";
    return;
  }

  if (mphRaw.trim() !== "") {
    const mph = parseFloat(mphRaw.replace(",", "."));
    if (isNaN(mph)) {
      resultEl.textContent = "Valeur en mph invalide.";
      return;
    }
    const kmh = mph * KM_PER_MILE;
    kmhInput.value = kmh.toFixed(2);
    resultEl.innerHTML =
      "<strong>" + mph.toFixed(2) + " mph</strong> ≈ <strong>" +
      kmh.toFixed(2) + " km/h</strong>";
    return;
  }

  resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Calculateur de TVA
function calculateVAT() {
  const baseInput = document.getElementById("vatBase");
  const rateInput = document.getElementById("vatRate");
  const resultEl = document.getElementById("vatResult");
  if (!baseInput || !rateInput || !resultEl) return;

  const baseRaw = baseInput.value || "";
  const rateRaw = rateInput.value || "";
  const base = parseFloat(baseRaw.replace(",", "."));
  const rate = parseFloat(rateRaw.replace(",", "."));

  if (isNaN(base) || isNaN(rate)) {
    resultEl.textContent = "Veuillez entrer un montant et un taux de TVA valides.";
    return;
  }

  const modeRadio = document.querySelector("input[name='vatMode']:checked");
  const mode = modeRadio ? modeRadio.value : "add";

  let ht, tva, ttc;

  if (mode === "add") {
    ht = base;
    tva = ht * rate / 100;
    ttc = ht + tva;
    resultEl.innerHTML =
      "Montant HT : <strong>" + ht.toFixed(2) + " €</strong><br>" +
      "TVA (" + rate.toFixed(2) + " %) : <strong>" + tva.toFixed(2) + " €</strong><br>" +
      "Montant TTC : <strong>" + ttc.toFixed(2) + " €</strong>";
  } else {
    ttc = base;
    ht = ttc / (1 + rate / 100);
    tva = ttc - ht;
    resultEl.innerHTML =
      "Montant TTC : <strong>" + ttc.toFixed(2) + " €</strong><br>" +
      "Montant HT (approx.) : <strong>" + ht.toFixed(2) + " €</strong><br>" +
      "TVA (" + rate.toFixed(2) + " %) : <strong>" + tva.toFixed(2) + " €</strong>";
  }
}

// Calculateur salaire net ↔ brut
function calculateSalary() {
  const baseInput = document.getElementById("salaryBase");
  const rateInput = document.getElementById("salaryRate");
  const resultEl = document.getElementById("salaryResult");
  if (!baseInput || !rateInput || !resultEl) return;

  const baseRaw = baseInput.value || "";
  const rateRaw = rateInput.value || "";
  const base = parseFloat(baseRaw.replace(",", "."));
  const rate = parseFloat(rateRaw.replace(",", "."));

  if (isNaN(base) || isNaN(rate)) {
    resultEl.textContent = "Veuillez entrer un montant et un taux de charges valides.";
    return;
  }

  const modeRadio = document.querySelector("input[name='salaryMode']:checked");
  const mode = modeRadio ? modeRadio.value : "netFromBrut";

  const chargesFactor = rate / 100;
  let brut, net;

  if (mode === "netFromBrut") {
    brut = base;
    net = brut * (1 - chargesFactor);
    resultEl.innerHTML =
      "Salaire brut : <strong>" + brut.toFixed(2) + " €</strong><br>" +
      "Taux de charges : <strong>" + rate.toFixed(2) + " %</strong><br>" +
      "Salaire net estimé : <strong>" + net.toFixed(2) + " €</strong>";
  } else {
    net = base;
    if (chargesFactor >= 1) {
      resultEl.textContent = "Le taux de charges doit être inférieur à 100 %.";
      return;
    }
    brut = net / (1 - chargesFactor);
    resultEl.innerHTML =
      "Salaire net : <strong>" + net.toFixed(2) + " €</strong><br>" +
      "Taux de charges : <strong>" + rate.toFixed(2) + " %</strong><br>" +
      "Salaire brut estimé : <strong>" + brut.toFixed(2) + " €</strong>";
  }
}

// Générateur de fausses données (noms & emails)
function generateFakeData() {
  const countInput = document.getElementById("fakeCount");
  const resultEl = document.getElementById("fakeResult");
  if (!countInput || !resultEl) return;

  let count = parseInt((countInput.value || "1").trim(), 10);
  if (isNaN(count) || count <= 0) count = 1;
  if (count > 50) count = 50;

  const firstNames = [
    "Alex", "Sam", "Charlie", "Jordan", "Taylor",
    "Lena", "Maya", "Noah", "Eli", "Zoe",
    "Milan", "Nora", "Leo", "Iris", "Robin"
  ];
  const lastNames = [
    "Dupont", "Martin", "Durand", "Morel", "Leroy",
    "Garcia", "Bernard", "Roche", "Fabre", "Lopez",
    "Petit", "Robert", "Gauthier", "Chevalier", "Blanc"
  ];
  const domains = [
    "example.com", "testmail.io", "fakedata.dev", "dummy.net"
  ];

  function pick(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  let lines = [];
  for (let i = 0; i < count; i++) {
    const first = pick(firstNames);
    const last = pick(lastNames);
    const domain = pick(domains);
    const slug = (first + "." + last).toLowerCase().replace(/[^a-z]/g, "");
    const email = slug + "@"+ domain;
    lines.push(first + " " + last + " — " + email);
  }

  resultEl.textContent = lines.join("\n");
}

// Calculateur de moyenne
function calculateAverage() {
const input = document.getElementById("averageInput");
const resultEl = document.getElementById("averageResult");
if (!input || !resultEl) return;

const raw = input.value || "";
if (!raw.trim()) {
resultEl.textContent = "Ajoute au moins une valeur.";
return;
}

const parts = raw
.split(/[\n,; \t]+/)
.map((x) => x.trim())
.filter((x) => x.length > 0);

const numbers = parts
.map((x) => parseFloat(x.replace(",", ".")))
.filter((n) => !isNaN(n));

if (numbers.length === 0) {
resultEl.textContent =
  "Aucune valeur numérique valide trouvée. Vérifie ton format.";
return;
}

const sum = numbers.reduce((acc, n) => acc + n, 0);
const avg = sum / numbers.length;

resultEl.innerHTML =
"Nombre de valeurs : <strong>" + numbers.length +
"</strong><br>Moyenne : <strong>" + avg.toFixed(2) + "</strong>";
}

// Compte à rebours en jours
function updateCountdown() {
const dateInput = document.getElementById("countdownDate");
const resultEl = document.getElementById("countdownResult");
if (!dateInput || !resultEl) return;

const value = dateInput.value;
if (!value) {
resultEl.textContent = "Choisis une date pour lancer le calcul.";
return;
}

const targetDate = new Date(value + "T00:00:00");
if (isNaN(targetDate.getTime())) {
resultEl.textContent = "Date invalide.";
return;
}

const today = new Date();
const todayAtMidnight = new Date(
today.getFullYear(),
today.getMonth(),
today.getDate()
);
const diffMs = targetDate.getTime() - todayAtMidnight.getTime();
const diffDays = Math.round(diffMs / (1000 * 60 * 60 * 24));

if (diffDays > 0) {
resultEl.innerHTML =
  "Il reste <strong>" +
  diffDays +
  " jour" +
  (diffDays > 1 ? "s" : "") +
  "</strong> avant cette date.";
} else if (diffDays === 0) {
resultEl.innerHTML = "<strong>C'est aujourd'hui !</strong>";
} else {
const passed = Math.abs(diffDays);
resultEl.innerHTML =
  "Cette date est passée depuis <strong>" +
  passed +
  " jour" +
  (passed > 1 ? "s" : "") +
  "</strong>.";
}
}

// Scroll helper
function scrollToTools() {
const el = document.getElementById("tools");
if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
}

function scrollToElement(id) {
const el = document.getElementById(id);
if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
}

// Distance converter
const kmInput = document.getElementById("kmInput");
const milesInput = document.getElementById("milesInput");
const distanceResult = document.getElementById("distanceResult");

function convertKmToMiles() {
if (!kmInput || !milesInput || !distanceResult) return;

const raw = kmInput.value || "";
const km = parseFloat(raw.replace(",", "."));

if (isNaN(km)) {
milesInput.value = "";
distanceResult.textContent = "";
return;
}
const miles = km * 0.621371;
milesInput.value = miles.toFixed(4);
distanceResult.innerHTML =
"<strong>" +
km.toFixed(4) +
" km</strong> ≈ <strong>" +
miles.toFixed(4) +
" miles</strong>";
}

function convertMilesToKm() {
if (!kmInput || !milesInput || !distanceResult) return;

const raw = milesInput.value || "";
const miles = parseFloat(raw.replace(",", "."));

if (isNaN(miles)) {
kmInput.value = "";
distanceResult.textContent = "";
return;
}
const km = miles / 0.621371;
kmInput.value = km.toFixed(4);
distanceResult.innerHTML =
"<strong>" +
miles.toFixed(4) +
" miles</strong> ≈ <strong>" +
km.toFixed(4) +
" km</strong>";
}

function convertDistance() {
// placeholder
}

// Password generator
const lengthInput = document.getElementById("pwdLength");
const lengthLabel = document.getElementById("pwdLengthLabel");
const optLower = document.getElementById("optLower");
const optUpper = document.getElementById("optUpper");
const optDigits = document.getElementById("optDigits");
const optSymbols = document.getElementById("optSymbols");
const passwordText = document.getElementById("passwordText");

function updatePwdLengthLabel() {
if (!lengthInput || !lengthLabel) return;
lengthLabel.textContent = lengthInput.value + " caractères";
}

function generatePassword() {
if (!lengthInput || !passwordText) return;

const length = parseInt(lengthInput.value, 10);
let chars = "";
if (optLower && optLower.checked) chars += "abcdefghijklmnopqrstuvwxyz";
if (optUpper && optUpper.checked) chars += "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
if (optDigits && optDigits.checked) chars += "0123456789";
if (optSymbols && optSymbols.checked) chars += "!@#$%^&*()-_=+[]{};:,.<>?/";

if (!chars) {
passwordText.textContent = "Sélectionne au moins un type de caractères.";
return;
}

let pwd = "";
for (let i = 0; i < length; i++) {
const idx = Math.floor(Math.random() * chars.length);
pwd += chars.charAt(idx);
}
passwordText.textContent = pwd;
}

function copyPassword() {
if (!passwordText) return;
const text = passwordText.textContent || "";
if (!text || text.startsWith("Clique sur")) return;

if (!navigator.clipboard) {
alert("Impossible de copier automatiquement. Copie manuelle nécessaire.");
return;
}

navigator.clipboard
.writeText(text)
.then(() => {
  const btn = document.querySelector(".copy-btn");
  if (!btn) return;
  const original = btn.textContent;
  btn.textContent = "Copié !";
  setTimeout(() => {
    btn.textContent = original;
  }, 1200);
})
.catch(() => {
  alert("Impossible de copier automatiquement. Copie manuelle nécessaire.");
});
}

// IMC
const weightInput = document.getElementById("weightInput");
const heightInput = document.getElementById("heightInput");
const imcResult = document.getElementById("imcResult");

function calculateIMC() {
if (!weightInput || !heightInput || !imcResult) return;

const weightRaw = weightInput.value || "";
const heightRaw = heightInput.value || "";

const weight = parseFloat(weightRaw.replace(",", "."));
const heightCm = parseFloat(heightRaw.replace(",", "."));

if (isNaN(weight) || isNaN(heightCm) || heightCm <= 0) {
imcResult.innerHTML =
  "<span>Veuillez entrer un poids et une taille valides.</span>";
return;
}

const heightM = heightCm / 100;
const imc = weight / (heightM * heightM);

let category = "";
if (imc < 18.5) {
category = "maigreur (selon les seuils généraux).";
} else if (imc < 25) {
category = "corpulence considérée comme normale.";
} else if (imc < 30) {
category = "surpoids (selon les seuils généraux).";
} else {
category = "obésité (selon les seuils généraux).";
}

imcResult.innerHTML =
"<strong>IMC ≈ " +
imc.toFixed(1) +
"</strong><span>Catégorie indicative : " +
category +
" Cette estimation ne remplace pas un avis médical.</span>";
}

// Recherche & filtres
const searchInput = document.getElementById("toolSearch");
const toolCards = document.querySelectorAll(".tool-card");
const toolTags = document.querySelectorAll(".tool-tag");
let activeCategory = "all";

function filterTools() {
const query = searchInput
? (searchInput.value || "").toLowerCase().trim()
: "";

toolCards.forEach((card) => {
const name = (card.getAttribute("data-name") || "").toLowerCase();
const category = card.getAttribute("data-category") || "";
const matchesText = name.includes(query);
const matchesCategory =
  activeCategory === "all" || category === activeCategory;

if (matchesText && matchesCategory) {
  card.classList.remove("hidden");
} else {
  card.classList.add("hidden");
}
});
}

if (searchInput) {
searchInput.addEventListener("input", filterTools);
}

toolTags.forEach((tag) => {
tag.addEventListener("click", () => {
toolTags.forEach((t) => t.classList.remove("active"));
tag.classList.add("active");
activeCategory = tag.getAttribute("data-filter") || "all";
filterTools();
});
});

// Chronomètre & minuteur
let timerInterval = null;
let timeLeft = 0;

function updateTimerDisplay() {
const display = document.getElementById("timerDisplay");
if (!display) return;
const minutes = Math.floor(timeLeft / 60)
.toString()
.padStart(2, "0");
const seconds = (timeLeft % 60).toString().padStart(2, "0");
display.textContent = minutes + ":" + seconds;
}

function startTimer() {
const inputEl = document.getElementById("timerInput");
if (!inputEl) return;

const raw = inputEl.value || "";
const value = parseInt(raw, 10);

if (!timerInterval) {
if (isNaN(value) || value <= 0) return;
timeLeft = value;
}

clearInterval(timerInterval);
timerInterval = setInterval(() => {
if (timeLeft <= 0) {
  clearInterval(timerInterval);
  timerInterval = null;
  timeLeft = 0;
  updateTimerDisplay();
  return;
}
timeLeft--;
updateTimerDisplay();
}, 1000);

updateTimerDisplay();
}

function stopTimer() {
clearInterval(timerInterval);
timerInterval = null;
}

function resetTimer() {
clearInterval(timerInterval);
timerInterval = null;
timeLeft = 0;
updateTimerDisplay();
}

// Tirage au sort
function pickRandom() {
const input = document.getElementById("randomInput");
const resultEl = document.getElementById("randomResult");
if (!input || !resultEl) return;

const raw = input.value || "";
const items = raw
.split(",")
.map((x) => x.trim())
.filter((x) => x.length > 0);

if (items.length === 0) {
resultEl.textContent = "Ajoute au moins un nom séparé par des virgules.";
return;
}

const winner = items[Math.floor(Math.random() * items.length)];
resultEl.innerHTML = "<strong>Gagnant :</strong> " + winner;
}

// Convertisseur de poids kg ↔ lb
function convertWeight() {
const kgInput = document.getElementById("kgInput");
const lbsInput = document.getElementById("lbsInput");
const resultEl = document.getElementById("weightResult");
if (!kgInput || !lbsInput || !resultEl) return;

const kgRaw = kgInput.value || "";
const lbsRaw = lbsInput.value || "";

if (kgRaw.trim() !== "") {
const kg = parseFloat(kgRaw.replace(",", "."));
if (isNaN(kg)) {
  resultEl.textContent = "Valeur en kg invalide.";
  return;
}
const lbs = kg * 2.20462;
lbsInput.value = lbs.toFixed(2);
resultEl.innerHTML =
  "<strong>" +
  kg.toFixed(2) +
  " kg</strong> ≈ <strong>" +
  lbs.toFixed(2) +
  " lb</strong>";
return;
}

if (lbsRaw.trim() !== "") {
const lbs = parseFloat(lbsRaw.replace(",", "."));
if (isNaN(lbs)) {
  resultEl.textContent = "Valeur en lb invalide.";
  return;
}
const kg = lbs / 2.20462;
kgInput.value = kg.toFixed(2);
resultEl.innerHTML =
  "<strong>" +
  lbs.toFixed(2) +
  " lb</strong> ≈ <strong>" +
  kg.toFixed(2) +
  " kg</strong>";
return;
}

resultEl.textContent = "Renseigne au moins un des deux champs.";
}

// Calculateur de pourcentage
function calculatePercentage() {
const baseInput = document.getElementById("percentBase");
const percentInput = document.getElementById("percentValue");
const resultEl = document.getElementById("percentageResult");

if (!baseInput || !percentInput || !resultEl) return;

const baseRaw = baseInput.value || "";
const percentRaw = percentInput.value || "";

const base = parseFloat(baseRaw.replace(",", "."));
const percent = parseFloat(percentRaw.replace(",", "."));

if (isNaN(base) || isNaN(percent)) {
resultEl.textContent = "Veuillez entrer un montant et un pourcentage valides.";
return;
}

const modeRadio = document.querySelector("input[name='percentMode']:checked");
const mode = modeRadio ? modeRadio.value : "reduction";

let newAmount;
let diff;

if (mode === "augmentation") {
newAmount = base * (1 + percent / 100);
diff = newAmount - base;
resultEl.innerHTML =
  "Montant de départ : <strong>" + base.toFixed(2) + " €</strong><br>" +
  "Augmentation : <strong>" + percent.toFixed(2) + " %</strong> (" +
  diff.toFixed(2) + " €)<br>" +
  "Nouveau montant : <strong>" + newAmount.toFixed(2) + " €</strong>";
} else {
newAmount = base * (1 - percent / 100);
diff = base - newAmount;
resultEl.innerHTML =
  "Montant de départ : <strong>" + base.toFixed(2) + " €</strong><br>" +
  "Réduction : <strong>" + percent.toFixed(2) + " %</strong> (" +
  diff.toFixed(2) + " €)<br>" +
  "Montant après réduction : <strong>" + newAmount.toFixed(2) + " €</strong>";
}
}

// Convertisseur °C ↔ °F
function cToF() {
const cInput = document.getElementById("celsiusInput");
const fInput = document.getElementById("fahrenheitInput");
const resultEl = document.getElementById("tempResult");
if (!cInput || !fInput || !resultEl) return;

const raw = cInput.value || "";
const c = parseFloat(raw.replace(",", "."));
if (isNaN(c)) {
fInput.value = "";
resultEl.textContent = "";
return;
}

const f = c * 9 / 5 + 32;
fInput.value = f.toFixed(2);
resultEl.innerHTML =
"<strong>" +
c.toFixed(2) +
" °C</strong> ≈ <strong>" +
f.toFixed(2) +
" °F</strong>";
}

function fToC() {
const cInput = document.getElementById("celsiusInput");
const fInput = document.getElementById("fahrenheitInput");
const resultEl = document.getElementById("tempResult");
if (!cInput || !fInput || !resultEl) return;

const raw = fInput.value || "";
const f = parseFloat(raw.replace(",", "."));
if (isNaN(f)) {
cInput.value = "";
resultEl.textContent = "";
return;
}

const c = (f - 32) * 5 / 9;
cInput.value = c.toFixed(2);
resultEl.innerHTML =
"<strong>" +
f.toFixed(2) +
" °F</strong> ≈ <strong>" +
c.toFixed(2) +
" °C</strong>";
}

function convertTemp() {
const cInput = document.getElementById("celsiusInput");
const fInput = document.getElementById("fahrenheitInput");
if (!cInput || !fInput) return;

if (cInput.value) {
cToF();
} else if (fInput.value) {
fToC();
}
}

// Calculateur d'âge
function calculateAge() {
  const input = document.getElementById("ageBirthdate");
  const resultEl = document.getElementById("ageResult");
  if (!input || !resultEl) return;

  const value = input.value;
  if (!value) {
    resultEl.textContent = "Choisis d'abord une date de naissance.";
    return;
  }

  const birthDate = new Date(value + "T00:00:00");
  if (isNaN(birthDate.getTime())) {
    resultEl.textContent = "Date invalide.";
    return;
  }

  const today = new Date();
  let age = today.getFullYear() - birthDate.getFullYear();

  const hasBirthdayPassedThisYear =
    today.getMonth() > birthDate.getMonth() ||
    (today.getMonth() === birthDate.getMonth() &&
      today.getDate() >= birthDate.getDate());

  if (!hasBirthdayPassedThisYear) {
    age--;
  }

  if (age < 0) {
    resultEl.textContent = "La date indiquée est dans le futur.";
    return;
  }

  resultEl.innerHTML =
    "Âge estimé : <strong>" + age + " an" + (age > 1 ? "s" : "") + "</strong>.";
}

// Ajout aux favoris
function addToFavorites() {
const url = window.location.href;
const title = document.title || "Universe Tools";

if (window.external && "AddFavorite" in window.external) {
window.external.AddFavorite(url, title);
return;
}
if (window.sidebar && window.sidebar.addPanel) {
window.sidebar.addPanel(title, url, "");
return;
}

const isMac = navigator.platform.toUpperCase().indexOf("MAC") >= 0;
const shortcut = isMac ? "⌘ + D" : "Ctrl + D";

alert(
"Pour ajouter cette page à tes favoris, utilise le raccourci clavier : " +
shortcut +
"\n\nURL : " + url
);
}

// Footer year
const yearSpan = document.getElementById("year");
if (yearSpan) {
yearSpan.textContent = new Date().getFullYear().toString();
}

// Calculateur de mensualité de crédit
function calculateLoanPayment() {
  const amountInput = document.getElementById("loanAmount");
  const rateInput = document.getElementById("loanRate");
  const yearsInput = document.getElementById("loanYears");
  const resultEl = document.getElementById("loanResult");

  if (!amountInput || !rateInput || !yearsInput || !resultEl) return;

  const amountRaw = amountInput.value || "";
  const rateRaw = rateInput.value || "";
  const yearsRaw = yearsInput.value || "";

  const amount = parseFloat(amountRaw.replace(",", "."));
  const annualRate = parseFloat(rateRaw.replace(",", "."));
  const years = parseInt(yearsRaw, 10);

  if (isNaN(amount) || amount <= 0 || isNaN(annualRate) || annualRate < 0 || isNaN(years) || years <= 0) {
    resultEl.textContent = "Veuillez entrer un montant, un taux et une durée valides.";
    return;
  }

  const months = years * 12;
  const monthlyRate = annualRate / 100 / 12;

  let monthlyPayment;
  if (monthlyRate === 0) {
    // Pas d'intérêt
    monthlyPayment = amount / months;
  } else {
    // Formule d'un crédit amortissable
    const factor = Math.pow(1 + monthlyRate, months);
    monthlyPayment = (amount * monthlyRate * factor) / (factor - 1);
  }

  const totalPaid = monthlyPayment * months;
  const totalInterest = totalPaid - amount;

  resultEl.innerHTML =
    "Mensualité estimée : <strong>" +
    monthlyPayment.toFixed(2) +
    " €</strong><br>" +
    "Total remboursé sur " +
    years +
    " an" +
    (years > 1 ? "s" : "") +
    " : <strong>" +
    totalPaid.toFixed(2) +
    " €</strong><br>" +
    "Dont intérêts : <strong>" +
    totalInterest.toFixed(2) +
    " €</strong>";
}

// Init
updatePwdLengthLabel();
updateTimerDisplay();
</script>

<!-- 🟪 Consent Banner -->
<div id="cookie-banner" style="
position: fixed;
bottom: 0;
left: 0;
right: 0;
background: #0b1020;
padding: 15px;
color: white;
font-size: 14px;
box-shadow: 0 -2px 10px rgba(0,0,0,0.6);
z-index: 99999;
display: none;
">
<div style="max-width: 900px; margin: auto; display: flex; flex-direction: column; gap: 10px;">
<span>
Universe Tools utilise des cookies pour afficher de la publicité personnalisée (Google AdSense).
Vous pouvez accepter ou refuser. Sans votre consentement, aucune pub ne sera chargée.
</span>

<div style="display: flex; gap: 10px;">
<button onclick="acceptConsent()" style="
  flex: 1;
  padding: 10px;
  border: none;
  background: #4f46e5;
  color: white;
  border-radius: 8px;
  cursor: pointer;
">Accepter</button>

<button onclick="denyConsent()" style="
  flex: 1;
  padding: 10px;
  border: none;
  background: #444;
  color: white;
  border-radius: 8px;
  cursor: pointer;
">Refuser</button>
</div>
</div>
</div>

<script>
const consent = localStorage.getItem("ut-consent");

if (!consent) {
document.getElementById("cookie-banner").style.display = "block";
} else if (consent === "accepted") {
loadAdsense();
}

function acceptConsent() {
localStorage.setItem("ut-consent", "accepted");
document.getElementById("cookie-banner").style.display = "none";
loadAdsense();
}

function denyConsent() {
localStorage.setItem("ut-consent", "denied");
document.getElementById("cookie-banner").style.display = "none";
}

function loadAdsense() {
const s = document.createElement("script");
s.async = true;
s.src =
"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2161270640127476";
s.crossOrigin = "anonymous";
document.head.appendChild(s);
}
</script>
<!-- pdf.js pour PDF → JPG -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
  (function () {
    // Avec les versions récentes, pdf.js est exposé via "pdfjs-dist/build/pdf"
    const pdfLib = window["pdfjs-dist/build/pdf"];
    if (!pdfLib) {
      console.error("pdf.js n'est pas correctement chargé.");
      return;
    }

    // On met la lib sur window pour la réutiliser plus bas
    window.pdfjsLib = pdfLib;

    // Configuration du worker
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
  })();
</script>

<!-- jsPDF pour JPG → PDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
// Met à jour les types de fichiers acceptés selon le mode
function updatePdfJpgAccept() {
  const modeSelect = document.getElementById("pdfJpgMode");
  const fileInput = document.getElementById("pdfJpgFile");
  if (!modeSelect || !fileInput) return;

  const mode = modeSelect.value;
  if (mode === "pdf-to-jpg") {
    fileInput.accept = "application/pdf";
  } else {
    fileInput.accept = "image/jpeg,image/png";
  }
}

// Fonction principale PDF <-> JPG
async function convertPdfJpg() {
  const modeSelect = document.getElementById("pdfJpgMode");
  const fileInput = document.getElementById("pdfJpgFile");
  const resultEl = document.getElementById("pdfJpgResult");
  const canvas = document.getElementById("pdfJpgCanvas");
  const link = document.getElementById("pdfJpgDownloadLink");

  if (!modeSelect || !fileInput || !resultEl || !canvas || !link) return;

  const mode = modeSelect.value;

  if (!fileInput.files || fileInput.files.length === 0) {
    resultEl.textContent = "Sélectionne d'abord un fichier à convertir.";
    return;
  }

  const file = fileInput.files[0];

  if (mode === "pdf-to-jpg") {
    // PDF -> JPG
    if (!window.pdfjsLib) {
      resultEl.textContent = "Erreur : la librairie pdf.js n'est pas chargée.";
      return;
    }

    resultEl.textContent = "Conversion du PDF en JPG en cours...";
    const reader = new FileReader();

    reader.onload = async function (e) {
      try {
        const typedarray = new Uint8Array(e.target.result);
        const pdf = await pdfjsLib.getDocument({ data: typedarray }).promise;
        const page = await pdf.getPage(1); // première page uniquement

        const scale = 2;
        const viewport = page.getViewport({ scale: scale });
        const ctx = canvas.getContext("2d");

        canvas.width = viewport.width;
        canvas.height = viewport.height;

        await page.render({
          canvasContext: ctx,
          viewport: viewport
        }).promise;

        canvas.style.display = "block";

        canvas.toBlob(function (blob) {
          if (!blob) {
            resultEl.textContent = "Impossible de générer l'image.";
            return;
          }
          const url = URL.createObjectURL(blob);
          link.href = url;
          link.download = "page-1.jpg";
          link.style.display = "inline-block";
          resultEl.innerHTML =
            "<strong>Conversion terminée.</strong> Tu peux maintenant télécharger l'image JPG.";
        }, "image/jpeg", 0.92);
      } catch (err) {
        console.error(err);
        resultEl.textContent =
          "Erreur lors de la conversion du PDF. Vérifie que le fichier n'est pas corrompu.";
      }
    };

    reader.readAsArrayBuffer(file);
  } else {
    // JPG -> PDF
    if (!window.jspdf || !window.jspdf.jsPDF) {
      resultEl.textContent = "Erreur : la librairie jsPDF n'est pas chargée.";
      return;
    }

    resultEl.textContent = "Conversion de l'image en PDF en cours...";

    const img = new Image();
    img.onload = function () {
      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF({ unit: "pt", format: "a4", compress: true });

      const pageWidth = pdf.internal.pageSize.getWidth();
      const pageHeight = pdf.internal.pageSize.getHeight();

      let imgWidth = img.width;
      let imgHeight = img.height;

      const ratio = Math.min(pageWidth / imgWidth, pageHeight / imgHeight);
      imgWidth *= ratio;
      imgHeight *= ratio;

      const x = (pageWidth - imgWidth) / 2;
      const y = (pageHeight - imgHeight) / 2;

      // On force "JPEG" pour simplifier, même si le fichier est PNG
      pdf.addImage(img, "JPEG", x, y, imgWidth, imgHeight);

      const blob = pdf.output("blob");
      const url = URL.createObjectURL(blob);

      link.href = url;
      link.download = "image.pdf";
      link.style.display = "inline-block";

      canvas.style.display = "none";

      resultEl.innerHTML =
        "<strong>PDF généré.</strong> Tu peux maintenant le télécharger.";
    };

    img.onerror = function () {
      resultEl.textContent =
        "Impossible de lire l'image. Vérifie que le fichier est bien un JPG ou un PNG.";
    };

    img.src = URL.createObjectURL(file);
  }
}

// Init quand le DOM est prêt
document.addEventListener("DOMContentLoaded", updatePdfJpgAccept);
</script>
</body>
</html>