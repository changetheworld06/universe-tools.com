<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Text / PDF Summarizer (local) | Universe Tools</title>
  <meta name="description" content="Summarize text or extract text from a PDF and summarize it locally in your browser. 100% local (no upload)." />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#4f46e5">

  <!-- CSS global -->
  <link rel="stylesheet" href="/style.css" />

  <!-- Google tag (GA4 + Ads) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-15ST5Y0Z1C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-15ST5Y0Z1C');
    gtag('config', 'AW-325165312');
  </script>

  <!-- Event snippet (conversion) -->
  <script>
    function gtag_report_conversion(url) {
      var callback = function () { if (url) window.location = url; };
      if (typeof gtag === "function") {
        gtag('event', 'conversion', {
          'send_to': 'AW-325165312/4_GXCKLGqcgbEIDChpsB',
          'event_callback': callback
        });
      }
      return false;
    }
  </script>

  <!-- SEO JSON-LD WebSite -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Universe Tools",
    "url": "https://universe-tools.com"
  }
  </script>

  <!-- Structured Data : WebApplication -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Text / PDF Summarizer (local)",
    "url": "https://universe-tools.com/tools/text-pdf-summarizer.html",
    "description": "Summarize text or extract text from a PDF and summarize it locally in your browser. No upload.",
    "applicationCategory": "Utility",
    "operatingSystem": "All",
    "browserRequirements": "Requires JavaScript",
    "isAccessibleForFree": true
  }
  </script>

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://universe-tools.com/tools/text-pdf-summarizer.html" />
  <link rel="alternate" hreflang="en" href="https://universe-tools.com/tools/text-pdf-summarizer.html" />
  <link rel="alternate" hreflang="fr" href="https://universe-tools.com/fr/tools/text-pdf-summarizer.html" />
  <link rel="alternate" hreflang="x-default" href="https://universe-tools.com/tools/text-pdf-summarizer.html" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Universe Tools" />
  <meta property="og:title" content="Text / PDF Summarizer (local)" />
  <meta property="og:description" content="Summarize text or extract text from a PDF locally in your browser (no upload)." />
  <meta property="og:url" content="https://universe-tools.com/tools/text-pdf-summarizer.html" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Text / PDF Summarizer (local) | Universe Tools" />
  <meta name="twitter:description" content="Summarize text or PDF locally (no upload)." />
</head>

<body>
  <div class="page">

    <!-- HEADER (same structure as salary/temperature) -->
    <header>
      <div class="container nav">
        <a class="brand" href="/">
          <div class="brand-logo" aria-hidden="true">
            <svg width="34" height="34" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg" focusable="false">
              <defs>
                <linearGradient id="grad2" x1="0%" y1="0%" x2="120%" y2="120%">
                  <stop offset="0%" stop-color="#4f46e5"/>
                  <stop offset="40%" stop-color="#7c3aed"/>
                  <stop offset="100%" stop-color="#ec4899"/>
                </linearGradient>
              </defs>
              <circle cx="30" cy="30" r="22" fill="none" stroke="url(#grad2)" stroke-width="3"/>
              <circle cx="30" cy="12" r="5" fill="url(#grad2)"/>
              <ellipse cx="30" cy="30" rx="28" ry="10" fill="none" stroke="url(#grad2)" stroke-width="2" opacity="0.6"/>
            </svg>
          </div>
          <div class="brand-text">
            <div class="brand-name">Universe Tools</div>
            <div class="brand-tagline">All your everyday tools in one place.</div>
          </div>
        </a>

        <nav class="nav-links" aria-label="Primary">
          <a href="/#tools">Tools</a>
          <a href="/legal.html">Legal</a>
          <a href="/privacy.html">Privacy</a>
        </nav>

        <button class="nav-cta" type="button" onclick="window.location.href='/'">
          <span>Try another tool</span>
          <span>→</span>
        </button>
      </div>
    </header>

    <!-- CONTENT -->
    <main>
      <section class="section">
        <div class="container">

          <div class="section-header">
            <h1 class="section-title">Text / PDF Summarizer (local)</h1>
            <p class="section-subtitle">
              Paste text or load a <strong>text-based PDF</strong>. Everything runs locally in your browser (no upload).
            </p>
          </div>

          <article id="tool-text-pdf-summarizer" class="tool-section">
            <p>
              Paste your text, or optionally load a PDF to extract selectable text. Choose a target summary length and generate an
              extractive summary instantly. Your data stays on your device.
            </p>

            <form class="tool-form" onsubmit="event.preventDefault();">
              <div class="field" style="grid-column:1 / -1;">
                <label for="inputText">Text to summarize</label>
                <textarea id="inputText" class="tool-textarea" placeholder="Paste your text here..."></textarea>
                <div class="small-note">
                  Tip: loading a PDF below can auto-fill this box (works only if the PDF contains selectable text — no OCR).
                </div>
              </div>

              <div class="field">
                <label for="pdfFile">PDF (optional)</label>
                <input id="pdfFile" type="file" accept="application/pdf" />
                <div class="small-note">If your PDF is scanned (image-only), extraction will return nothing.</div>
              </div>

              <div class="field">
                <label for="ratio">Summary length</label>
                <input id="ratio" type="range" min="10" max="60" value="25" />
                <div class="small-note">Target: <span id="ratioLabel">25%</span></div>
              </div>

              <div class="field">
                <button id="btnSummarize" class="btn-tool" type="button">Summarize</button>
              </div>

              <div class="field">
                <button id="btnClear" class="btn-tool" type="button" style="background:transparent;border:1px solid rgba(120,140,255,.45);box-shadow:none;">
                  Clear
                </button>
              </div>

              <div class="field">
                <button id="btnCopy" class="btn-tool" type="button" disabled style="background:transparent;border:1px solid rgba(120,140,255,.45);box-shadow:none;">
                  Copy
                </button>
              </div>

              <div class="field">
                <button id="btnDownload" class="btn-tool" type="button" disabled style="background:transparent;border:1px solid rgba(120,140,255,.45);box-shadow:none;">
                  Download .txt
                </button>
              </div>
            </form>

            <div id="progressBox" class="tool-result" style="display:none;margin-top:10px;">
              <strong id="progressText">Preparing…</strong>
              <span id="progressPct" style="display:block;opacity:.78;margin-top:4px;">0%</span>
              <div style="margin-top:8px;height:8px;border-radius:999px;background:rgba(255,255,255,.10);overflow:hidden;">
                <div id="progressBar" style="height:100%;width:0%;background:linear-gradient(90deg,#4f46e5,#7c3aed,#ec4899);"></div>
              </div>
            </div>

            <div id="status" class="small-note" style="margin-top:10px;"></div>

            <div id="resultBox" class="tool-section" style="display:none;margin-top:14px;">
              <h2>Summary</h2>
              <pre id="summaryOut" style="white-space:pre-wrap;word-break:break-word;"></pre>
            </div>

            <!-- SEO TEXT (300+ words) -->
            <section class="tool-section" aria-label="About this text and PDF summarizer">
              <h2>About this text &amp; PDF summarizer</h2>

              <p>
                Summarizing long content is useful when you need to capture the main ideas quickly: articles, meeting notes,
                reports, emails, or study material. This tool provides a simple <strong>extractive summarizer</strong>, meaning it
                selects the most relevant sentences from your original text rather than inventing new wording. That makes it
                predictable and easy to verify: every sentence in the summary comes from your input.
              </p>

              <p>
                You can paste text directly, or load a <strong>text-based PDF</strong> (a PDF where you can select and copy text).
                When a PDF is scanned as an image, it contains no selectable text. In that case, this tool will not extract
                anything because <strong>OCR is not included</strong>.
              </p>

              <p>
                The “Summary length” slider controls how many sentences are kept. A smaller percentage produces a shorter summary,
                while a higher percentage keeps more context. This is ideal for producing a quick overview first, then refining
                the ratio if you need more detail.
              </p>

              <p>
                Privacy is a key principle of Universe Tools: everything runs <strong>100% locally in your browser</strong>. Your
                text and your PDF are not uploaded, stored, or shared.
              </p>

              <p class="small-note">
                Tip: if your input contains headings or bullet lists, keeping a slightly higher ratio often preserves the structure
                better. Tables may not be preserved perfectly.
              </p>
            </section>
          </article>

          <!-- RELATED TOOLS (same maillage as temperature/salary) -->
          <section class="section" aria-label="Related tools">
            <div class="section-header" style="margin-top:24px;">
              <h2 class="section-title" style="font-size:18px;">Related tools</h2>
              <p class="section-subtitle" style="font-size:13px;">
                More tools you may like (same category when possible).
              </p>
            </div>
            <div id="relatedGrid" class="tools-grid"></div>
          </section>

        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer>
      <div class="container footer-inner">
        <span>© <span id="year"></span> Universe Tools</span>
        <div class="footer-links">
          <a href="/privacy.html">Privacy</a>
          <a href="/legal.html">Legal</a>
          <a href="/#tools">All tools</a>
        </div>
      </div>
    </footer>

  </div>

  <!-- Tools data (global TOOLS_DATA) -->
  <script src="/assets/tools-data.js"></script>

  <script type="module">
    import * as pdfjsLib from "/tools/vendor/pdf.min.js";
    pdfjsLib.GlobalWorkerOptions.workerSrc = "/tools/vendor/pdf.worker.min.js";

    const $ = (id) => document.getElementById(id);

    function setProgress(show, pct = 0, text = "") {
      const box = $("progressBox");
      if (!box) return;
      box.style.display = show ? "block" : "none";
      $("progressBar").style.width = Math.max(0, Math.min(100, pct)) + "%";
      $("progressPct").textContent = Math.round(pct) + "%";
      $("progressText").textContent = text || "";
    }

    function setStatus(msg) {
      const el = $("status");
      if (el) el.textContent = msg || "";
    }

    function enableResultActions(enabled) {
      $("btnCopy").disabled = !enabled;
      $("btnDownload").disabled = !enabled;
    }

    function normalizeSpaces(s) {
      return String(s || "").replace(/\s+/g, " ").trim();
    }

    async function extractTextFromPdf(file) {
      if (!file) return "";

      setProgress(true, 5, "Reading PDF…");
      const buf = await file.arrayBuffer();
      const pdf = await pdfjsLib.getDocument({ data: buf }).promise;

      let all = "";
      for (let i = 1; i <= pdf.numPages; i++) {
        const pct = 5 + (i - 1) * (70 / Math.max(1, pdf.numPages));
        setProgress(true, pct, `Extracting text (${i}/${pdf.numPages})…`);

        const page = await pdf.getPage(i);
        const content = await page.getTextContent();

        const pageText = (content.items || [])
          .map((it) => (it && it.str ? it.str : ""))
          .join(" ");

        all += "\n" + pageText;
      }

      setProgress(true, 80, "Cleaning text…");
      const cleaned = normalizeSpaces(all);
      setProgress(false);

      return cleaned;
    }

    function splitSentences(text) {
      const raw = String(text || "").replace(/\s+/g, " ").trim();
      if (!raw) return [];
      return raw
        .split(/(?<=[.!?])\s+/g)
        .map((s) => s.trim())
        .filter(Boolean);
    }

    function tokenize(text) {
      return String(text || "")
        .toLowerCase()
        .replace(/[^a-z0-9\s'-]/g, " ")
        .split(/\s+/)
        .map((w) => w.trim())
        .filter(Boolean);
    }

    function buildWordFreq(sentences) {
      const freq = Object.create(null);
      const stop = new Set([
        "the","a","an","and","or","but","to","of","in","on","for","with","as","at","by","from",
        "is","are","was","were","be","been","it","this","that","these","those","i","you","we","they"
      ]);
      for (const s of sentences) {
        for (const w of tokenize(s)) {
          if (stop.has(w)) continue;
          freq[w] = (freq[w] || 0) + 1;
        }
      }
      return freq;
    }

    function scoreSentence(sentence, freq) {
      const words = tokenize(sentence);
      if (!words.length) return 0;
      let score = 0;
      for (const w of words) score += (freq[w] || 0);
      return score / Math.sqrt(words.length);
    }

    function summarize(text, ratioPct) {
      const sentences = splitSentences(text);
      if (sentences.length <= 2) return sentences.join(" ");

      const freq = buildWordFreq(sentences);
      const scored = sentences.map((s, idx) => ({ s, idx, score: scoreSentence(s, freq) }));

      const keep = Math.max(
        2,
        Math.min(sentences.length, Math.round(sentences.length * (ratioPct / 100)))
      );

      scored.sort((a, b) => b.score - a.score);
      const top = scored.slice(0, keep).sort((a, b) => a.idx - b.idx);

      return top.map((x) => x.s).join(" ");
    }

    function clearAll() {
      $("inputText").value = "";
      $("pdfFile").value = "";
      $("summaryOut").textContent = "";
      $("resultBox").style.display = "none";
      enableResultActions(false);
      setStatus("");
      setProgress(false);
    }

    async function onPdfSelected() {
      const file = $("pdfFile").files && $("pdfFile").files[0];
      if (!file) return;

      try {
        setStatus("");
        const txt = await extractTextFromPdf(file);
        if (!txt) {
          setStatus("No selectable text found in this PDF (it may be scanned).");
          return;
        }
        $("inputText").value = txt;
        setStatus("PDF text extracted into the text box.");
      } catch (e) {
        setProgress(false);
        setStatus("PDF extraction failed: " + (e && e.message ? e.message : String(e)));
        console.error(e);
      }
    }

    function onSummarize() {
      const cleaned = normalizeSpaces($("inputText").value || "");
      if (!cleaned) {
        setStatus("Please paste some text or load a text-based PDF first.");
        return;
      }

      const ratio = parseInt($("ratio").value, 10) || 25;

      setProgress(true, 30, "Summarizing…");
      setTimeout(() => {
        const out = summarize(cleaned, ratio);
        $("summaryOut").textContent = out || "";
        $("resultBox").style.display = "block";
        enableResultActions(Boolean(out));
        setProgress(false);
        setStatus("Done.");
      }, 30);
    }

    async function copySummary() {
      const txt = $("summaryOut").textContent || "";
      if (!txt) return;
      try {
        await navigator.clipboard.writeText(txt);
        setStatus("Copied to clipboard.");
      } catch {
        setStatus("Copy failed (browser restriction).");
      }
    }

    function downloadSummary() {
      const txt = $("summaryOut").textContent || "";
      if (!txt) return;
      const blob = new Blob([txt], { type: "text/plain;charset=utf-8" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "summary.txt";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      setStatus("Downloaded summary.txt");
    }

    document.addEventListener("DOMContentLoaded", () => {
      $("year").textContent = new Date().getFullYear();

      const r = $("ratio");
      const lbl = $("ratioLabel");
      lbl.textContent = r.value + "%";
      r.addEventListener("input", () => (lbl.textContent = r.value + "%"));

      $("pdfFile").addEventListener("change", onPdfSelected);
      $("btnSummarize").addEventListener("click", onSummarize);
      $("btnClear").addEventListener("click", clearAll);
      $("btnCopy").addEventListener("click", copySummary);
      $("btnDownload").addEventListener("click", downloadSummary);

      setStatus("Tip: paste text or load a PDF.");
    });
  </script>

  <script>
    // ===== Related tools cards (same “maillage” everywhere) =====
    (function renderRelatedRandom(){
  const grid = document.getElementById("relatedGrid");
  if (!grid || !window.TOOLS_DATA) return;

  const data = window.TOOLS_DATA;
  const currentSlug = (location.pathname.split("/").pop() || "").replace(".html", "");
  const current = data.find(t => t.slug === currentSlug);
  const category = current?.category || null;

  const pool = data.filter(t => t.slug && t.slug !== currentSlug);
  if (pool.length === 0) return;

  const sameCat = category ? pool.filter(t => t.category === category) : [];
  const other   = category ? pool.filter(t => t.category !== category) : pool;

  const picks = shuffle([...sameCat, ...other]).slice(0, 6);

  grid.innerHTML = picks.map(t => `
    <a class="tool-card" href="${t.path || `/tools/${t.slug}.html`}">
      <div class="tool-card-top">
        <div class="tool-title">${escapeHtml(t.name || t.slug)}</div>
        <div class="tool-badge">${escapeHtml(t.category || "Tool")}</div>
      </div>
      <div class="tool-desc">${escapeHtml(t.desc || "")}</div>
      <div class="tool-foot">Local</div>
    </a>
  `).join("");

  function shuffle(arr){
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function escapeHtml(str){
    return String(str)
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }
})();
  </script>

  <!-- Minimal CSS fallback for related cards if your global style.css doesn't include it -->
  <style>
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }
    @media (max-width: 900px) { .tools-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width: 560px) { .tools-grid { grid-template-columns: 1fr; } }

    .tool-card {
      display: block;
      padding: 16px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      text-decoration: none;
      color: inherit;
    }
    .tool-card:hover {
      border-color: rgba(120,140,255,.45);
      box-shadow: 0 0 0 1px rgba(120,140,255,.20) inset;
    }
    .tool-card-top {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }
    .tool-title { font-weight: 700; line-height: 1.2; }
    .tool-badge {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(120,140,255,.45);
      background: rgba(120,140,255,.08);
      white-space: nowrap;
    }
    .tool-desc { opacity: .78; font-size: 13px; line-height: 1.35; min-height: 34px; }
    .tool-foot { margin-top: 10px; font-size: 12px; opacity: .65; }
  </style>

</body>
</html>