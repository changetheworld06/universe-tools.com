<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Stopwatch & Timer | Universe Tools</title>
  <meta name="description" content="Free online stopwatch and countdown timer. Start, pause, reset, add laps. Local-only: runs in your browser." />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#4f46e5">

  <!-- CSS global -->
  <link rel="stylesheet" href="/style.css" />

  <!-- Google tag (GA4 + Ads) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-15ST5Y0Z1C"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-15ST5Y0Z1C');
    gtag('config', 'AW-325165312');
  </script>

  <!-- Event snippet (conversion) -->
  <script>
    function gtag_report_conversion(url) {
      var callback = function () { if (url) window.location = url; };
      if (typeof gtag === "function") {
        gtag('event', 'conversion', {
          'send_to': 'AW-325165312/4_GXCKLGqcgbEIDChpsB',
          'event_callback': callback
        });
      }
      return false;
    }
  </script>

  <!-- SEO JSON-LD WebSite -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Universe Tools",
    "url": "https://universe-tools.com"
  }
  </script>

  <!-- Structured Data : WebApplication -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Stopwatch & Timer",
    "url": "https://universe-tools.com/tools/stopwatch-timer.html",
    "description": "Online stopwatch and countdown timer with start/pause/reset and laps. Runs locally in your browser.",
    "applicationCategory": "Utility",
    "operatingSystem": "All",
    "browserRequirements": "Requires JavaScript",
    "isAccessibleForFree": true
  }
  </script>

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://universe-tools.com/tools/stopwatch-timer.html" />
  <link rel="alternate" hreflang="en" href="https://universe-tools.com/tools/stopwatch-timer.html" />
  <link rel="alternate" hreflang="fr" href="https://universe-tools.com/fr/tools/stopwatch-timer.html" />
  <link rel="alternate" hreflang="x-default" href="https://universe-tools.com/tools/stopwatch-timer.html" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Universe Tools" />
  <meta property="og:title" content="Stopwatch & Timer" />
  <meta property="og:description" content="Free online stopwatch and countdown timer. Local-only: runs in your browser." />
  <meta property="og:url" content="https://universe-tools.com/tools/stopwatch-timer.html" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Stopwatch & Timer | Universe Tools" />
  <meta name="twitter:description" content="Free online stopwatch and countdown timer. Local-only." />

  <!-- Minimal CSS additions to keep the exact layout from the screenshot (global style.css handles the rest) -->
  <style>
    .split {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 1rem;
    }
    @media (max-width: 900px) { .split { grid-template-columns: 1fr; } }

    .time-display {
      font-variant-numeric: tabular-nums;
      font-size: 56px;
      font-weight: 800;
      letter-spacing: 0.02em;
      margin: 10px 0 14px;
      line-height: 1.05;
    }

    .btn-secondary {
      background: radial-gradient(circle at top left, rgba(148,163,184,0.22), rgba(2,6,23,0.9));
      border: 1px solid rgba(148,163,184,0.25);
      box-shadow: none;
    }
    .btn-danger {
      background: radial-gradient(circle at top left, rgba(239,68,68,0.25), rgba(2,6,23,0.9));
      border: 1px solid rgba(239,68,68,0.35);
      box-shadow: none;
    }

    .laps {
      border-top: 1px solid rgba(55,65,81,0.7);
      margin-top: 0.9rem;
      padding-top: 0.9rem;
      display: grid;
      gap: 0.5rem;
      max-height: 260px;
      overflow: auto;
    }
    .lap-item {
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      padding: 0.45rem 0.55rem;
      border: 1px solid rgba(55,65,81,0.6);
      border-radius: 10px;
      background: rgba(2,6,23,0.55);
      font-size: 0.85rem;
      font-variant-numeric: tabular-nums;
    }
    .lap-item span { opacity: .75; }

    /* Related cards fallback (only if your /style.css doesn't already define them) */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }
    @media (max-width: 900px) { .tools-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width: 560px) { .tools-grid { grid-template-columns: 1fr; } }

    .tool-card {
      display: block;
      padding: 16px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      text-decoration: none;
      color: inherit;
    }
    .tool-card:hover {
      border-color: rgba(120,140,255,.45);
      box-shadow: 0 0 0 1px rgba(120,140,255,.20) inset;
    }
    .tool-card-top {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }
    .tool-title { font-weight: 700; line-height: 1.2; }
    .tool-badge {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(120,140,255,.45);
      background: rgba(120,140,255,.08);
      white-space: nowrap;
    }
    .tool-desc { opacity: .78; font-size: 13px; line-height: 1.35; min-height: 34px; }
    .tool-foot { margin-top: 10px; font-size: 12px; opacity: .65; }
  </style>
</head>

<body>
  <div class="page">

    <!-- HEADER (same structure as savings-goal) -->
    <header>
      <div class="container nav">
        <a class="brand" href="/">
          <div class="brand-logo" aria-hidden="true">
            <svg width="34" height="34" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg" focusable="false">
              <defs>
                <linearGradient id="grad2" x1="0%" y1="0%" x2="120%" y2="120%">
                  <stop offset="0%" stop-color="#4f46e5"/>
                  <stop offset="40%" stop-color="#7c3aed"/>
                  <stop offset="100%" stop-color="#ec4899"/>
                </linearGradient>
              </defs>
              <circle cx="30" cy="30" r="22" fill="none" stroke="url(#grad2)" stroke-width="3"/>
              <circle cx="30" cy="12" r="5" fill="url(#grad2)"/>
              <ellipse cx="30" cy="30" rx="28" ry="10" fill="none" stroke="url(#grad2)" stroke-width="2" opacity="0.6"/>
            </svg>
          </div>
          <div class="brand-text">
            <div class="brand-name">Universe Tools</div>
            <div class="brand-tagline">All your everyday tools in one place.</div>
          </div>
        </a>

        <nav class="nav-links" aria-label="Primary">
          <a href="/#tools">Tools</a>
          <a href="/legal.html">Legal</a>
          <a href="/privacy.html">Privacy</a>
        </nav>

        <button class="nav-cta" type="button" onclick="window.location.href='/'">
          <span>Try another tool</span>
          <span>→</span>
        </button>
      </div>
    </header>

    <!-- CONTENT -->
    <main>
      <section class="section">
        <div class="container">

          <div class="section-header">
            <h1 class="section-title">Stopwatch & Timer</h1>
            <p class="section-subtitle">
              A simple stopwatch (with laps) and a countdown timer. Runs locally in your browser.
            </p>
          </div>

          <div class="split">
            <!-- Stopwatch -->
            <article class="tool-section" id="tool-stopwatch">
              <p>Use the stopwatch for workouts, cooking, or any timing task. Add laps to mark splits.</p>

              <div class="time-display" id="swDisplay">00:00.00</div>

              <div class="tool-form" style="grid-template-columns: repeat(4, minmax(0, 1fr));">
                <button class="btn-tool" type="button" id="swStartBtn" onclick="swStart()">Start</button>
                <button class="btn-tool btn-secondary" type="button" id="swLapBtn" onclick="swLap()" disabled>Lap</button>
                <button class="btn-tool btn-secondary" type="button" id="swPauseBtn" onclick="swPause()" disabled>Pause</button>
                <button class="btn-tool btn-danger" type="button" onclick="swReset()">Reset</button>
              </div>

              <div class="small-note">Precision depends on the browser/tab scheduling.</div>
              <div class="laps" id="swLaps" aria-label="Laps list"></div>
            </article>

            <!-- Timer -->
            <article class="tool-section" id="tool-timer">
              <p>Set a countdown. When it reaches 0, the page will alert and flash the title.</p>

              <form class="tool-form" onsubmit="event.preventDefault(); timerStart();">
                <div class="field">
                  <label for="tMin">Minutes</label>
                  <input id="tMin" type="number" min="0" step="1" placeholder="Ex: 5" />
                </div>
                <div class="field">
                  <label for="tSec">Seconds</label>
                  <input id="tSec" type="number" min="0" max="59" step="1" placeholder="Ex: 30" />
                </div>
                <div class="field">
                  <button class="btn-tool" type="button" id="tStartBtn" onclick="timerStart()">Start timer</button>
                </div>
              </form>

              <div class="time-display" id="tDisplay">00:00</div>

              <div class="tool-form" style="grid-template-columns: repeat(3, minmax(0, 1fr));">
                <button class="btn-tool btn-secondary" type="button" id="tPauseBtn" onclick="timerPause()" disabled>Pause</button>
                <button class="btn-tool btn-secondary" type="button" id="tResumeBtn" onclick="timerResume()" disabled>Resume</button>
                <button class="btn-tool btn-danger" type="button" onclick="timerReset()">Reset</button>
              </div>

              <div class="small-note">Tip: keep the tab open for best reliability.</div>
            </article>
          </div>

          <!-- SEO TEXT -->
          <section class="tool-section" aria-label="About stopwatch and timers">
            <h2>About this stopwatch & timer</h2>

            <p>
              A stopwatch and a timer solve two different timing problems. A <strong>stopwatch</strong> measures elapsed time by counting
              up from zero. It’s ideal for workouts, running intervals, studying with time blocks, or any activity where you want to
              track how long something took. A <strong>countdown timer</strong> does the opposite: it counts down from a duration you
              set to zero, which is perfect for cooking, reminders, breaks, or productivity techniques like Pomodoro.
            </p>

            <p>
              This free tool includes both modes on the same page so you can choose what fits your situation. The stopwatch supports
              <strong>laps</strong>, which lets you record split times without stopping the main clock. This is useful for intervals
              (for example: each kilometer, each set, or each round) and for comparing pacing. The timer supports <strong>start</strong>,
              <strong>pause</strong>, <strong>resume</strong>, and <strong>reset</strong>. When the countdown reaches zero, it triggers
              a visual title flash and attempts a short beep (best-effort, depending on browser audio permissions).
            </p>

            <p>
              Like all Universe Tools pages, everything runs <strong>locally in your browser</strong>. There is no account, no upload,
              and no server-side processing. Your inputs and timing data stay on your device. Timing precision can vary slightly across
              devices and browsers because background tabs may be throttled, but for most everyday uses this implementation is accurate
              and responsive.
            </p>

            <p class="small-note">
              Tip: for best timer reliability, keep the tab open and avoid heavy background activity.
            </p>
          </section>

          <!-- RELATED TOOLS -->
          <section class="section" aria-label="Related tools">
            <div class="section-header" style="margin-top:24px;">
              <h2 class="section-title" style="font-size:18px;">Related tools</h2>
              <p class="section-subtitle" style="font-size:13px;">
                More tools you may like (same category when possible).
              </p>
            </div>
            <div id="relatedGrid" class="tools-grid"></div>
          </section>

        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer>
      <div class="container footer-inner">
        <span>© <span id="year"></span> Universe Tools</span>
        <div class="footer-links">
          <a href="/privacy.html">Privacy</a>
          <a href="/legal.html">Legal</a>
          <a href="/#tools">All tools</a>
        </div>
      </div>
    </footer>

  </div>

  <!-- Tools data (global TOOLS_DATA) -->
  <script src="/assets/tools-data.js"></script>

  <!-- SCRIPTS -->
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    function escapeHtml(str) {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    // =========================
    // Stopwatch
    // =========================
    let swRunning = false;
    let swStartTs = 0;
    let swElapsedMs = 0;
    let swRaf = null;
    let swLapCount = 0;

    const swDisplay  = document.getElementById("swDisplay");
    const swLapsEl   = document.getElementById("swLaps");
    const swStartBtn = document.getElementById("swStartBtn");
    const swLapBtn   = document.getElementById("swLapBtn");
    const swPauseBtn = document.getElementById("swPauseBtn");

    function formatStopwatch(ms){
      const total = Math.max(0, Math.floor(ms));
      const minutes = Math.floor(total / 60000);
      const seconds = Math.floor((total % 60000) / 1000);
      const centis  = Math.floor((total % 1000) / 10);
      return `${String(minutes).padStart(2,"0")}:${String(seconds).padStart(2,"0")}.${String(centis).padStart(2,"0")}`;
    }

    function swTick(){
      if (!swRunning) return;
      const now = performance.now();
      const ms = swElapsedMs + (now - swStartTs);
      swDisplay.textContent = formatStopwatch(ms);
      swRaf = requestAnimationFrame(swTick);
    }

    function swStart(){
      if (swRunning) return;
      swRunning = true;
      swStartTs = performance.now();

      swStartBtn.textContent = "Running";
      swStartBtn.disabled = true;
      swLapBtn.disabled = false;
      swPauseBtn.disabled = false;

      swTick();
    }

    function swPause(){
      if (!swRunning) return;
      swRunning = false;

      if (swRaf) cancelAnimationFrame(swRaf);
      swRaf = null;

      swElapsedMs += (performance.now() - swStartTs);

      swStartBtn.textContent = "Resume";
      swStartBtn.disabled = false;
      swPauseBtn.disabled = true;
      swLapBtn.disabled = true;
    }

    function swReset(){
      swRunning = false;

      if (swRaf) cancelAnimationFrame(swRaf);
      swRaf = null;

      swStartTs = 0;
      swElapsedMs = 0;
      swLapCount = 0;

      swDisplay.textContent = "00:00.00";
      swLapsEl.innerHTML = "";

      swStartBtn.textContent = "Start";
      swStartBtn.disabled = false;
      swLapBtn.disabled = true;
      swPauseBtn.disabled = true;
    }

    function swLap(){
      if (!swRunning) return;
      const now = performance.now();
      const ms = swElapsedMs + (now - swStartTs);
      swLapCount += 1;

      const item = document.createElement("div");
      item.className = "lap-item";
      item.innerHTML = `<strong>Lap ${swLapCount}</strong><span>${formatStopwatch(ms)}</span>`;
      swLapsEl.prepend(item);
    }

    // =========================
    // Timer
    // =========================
    let tRunning = false;
    let tRemainingMs = 0;
    let tEndTs = 0;
    let tInterval = null;

    const titleBase = document.title;
    let titleFlashInterval = null;

    const tMinEl = document.getElementById("tMin");
    const tSecEl = document.getElementById("tSec");
    const tDisplay = document.getElementById("tDisplay");
    const tPauseBtn = document.getElementById("tPauseBtn");
    const tResumeBtn = document.getElementById("tResumeBtn");
    const tStartBtn = document.getElementById("tStartBtn");

    function clampInt(n, min, max){
      const v = parseInt(String(n), 10);
      if (!Number.isFinite(v)) return null;
      return Math.max(min, Math.min(max, v));
    }

    function formatTimer(ms){
      const totalSec = Math.max(0, Math.ceil(ms / 1000));
      const m = Math.floor(totalSec / 60);
      const s = totalSec % 60;
      return `${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
    }

    function timerRender(){
      tDisplay.textContent = formatTimer(tRemainingMs);
    }

    function timerStopInterval(){
      if (tInterval) clearInterval(tInterval);
      tInterval = null;
    }

    function timerFlashTitleStart(){
      timerFlashTitleStop();
      let on = false;
      titleFlashInterval = setInterval(() => {
        on = !on;
        document.title = on ? "⏰ Time's up!" : titleBase;
      }, 700);
    }

    function timerFlashTitleStop(){
      if (titleFlashInterval) clearInterval(titleFlashInterval);
      titleFlashInterval = null;
      document.title = titleBase;
    }

    // Beep (best-effort)
    let audioCtx = null;
    function beep(times = 3, duration = 0.12, gap = 0.08, freq = 880) {
      try {
        if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        if (audioCtx.state === "suspended") audioCtx.resume();

        const now = audioCtx.currentTime;
        for (let i = 0; i < times; i++) {
          const t0 = now + i * (duration + gap);

          const osc = audioCtx.createOscillator();
          const gain = audioCtx.createGain();

          osc.type = "sine";
          osc.frequency.setValueAtTime(freq, t0);

          gain.gain.setValueAtTime(0.0001, t0);
          gain.gain.exponentialRampToValueAtTime(0.2, t0 + 0.01);
          gain.gain.exponentialRampToValueAtTime(0.0001, t0 + duration);

          osc.connect(gain);
          gain.connect(audioCtx.destination);

          osc.start(t0);
          osc.stop(t0 + duration + 0.02);
        }
      } catch (e) {}
    }

    function timerDone(){
      timerStopInterval();
      tRunning = false;
      tRemainingMs = 0;

      timerRender();
      tPauseBtn.disabled = true;
      tResumeBtn.disabled = true;
      tStartBtn.disabled = false;

      timerFlashTitleStart();
      beep(4, 0.12, 0.08, 880);
      setTimeout(timerFlashTitleStop, 5000);
    }

    function timerTick(){
      if (!tRunning) return;
      const now = performance.now();
      tRemainingMs = Math.max(0, tEndTs - now);
      timerRender();
      if (tRemainingMs <= 0) timerDone();
    }

    function timerStart(){
      timerFlashTitleStop();

      const m = clampInt(tMinEl.value, 0, 1000000);
      const s = clampInt(tSecEl.value, 0, 59);

      const mm = (m === null) ? 0 : m;
      const ss = (s === null) ? 0 : s;

      const totalMs = (mm * 60 + ss) * 1000;

      if (!totalMs || totalMs <= 0){
        tDisplay.textContent = "00:00";
        alert("Please enter a valid duration (minutes/seconds).");
        return;
      }

      tRunning = true;
      tRemainingMs = totalMs;
      tEndTs = performance.now() + totalMs;

      tStartBtn.disabled = true;
      tPauseBtn.disabled = false;
      tResumeBtn.disabled = true;

      timerStopInterval();
      timerTick();
      tInterval = setInterval(timerTick, 200);
    }

    function timerPause(){
      if (!tRunning) return;
      timerTick();
      tRunning = false;

      timerStopInterval();

      tPauseBtn.disabled = true;
      tResumeBtn.disabled = false;
      tStartBtn.disabled = true;
    }

    function timerResume(){
      if (tRunning) return;
      if (!tRemainingMs || tRemainingMs <= 0) return;

      tRunning = true;
      tEndTs = performance.now() + tRemainingMs;

      tPauseBtn.disabled = false;
      tResumeBtn.disabled = true;
      tStartBtn.disabled = true;

      timerStopInterval();
      timerTick();
      tInterval = setInterval(timerTick, 200);
    }

    function timerReset(){
      timerStopInterval();
      timerFlashTitleStop();

      tRunning = false;
      tRemainingMs = 0;
      tEndTs = 0;

      tDisplay.textContent = "00:00";
      tPauseBtn.disabled = true;
      tResumeBtn.disabled = true;
      tStartBtn.disabled = false;
    }

    // Expose for inline onclick=""
    window.swStart = swStart;
    window.swLap = swLap;
    window.swPause = swPause;
    window.swReset = swReset;

    window.timerStart = timerStart;
    window.timerPause = timerPause;
    window.timerResume = timerResume;
    window.timerReset = timerReset;

    // ===== Related tools cards (maillage interne) =====
    (function renderRelatedRandom(){
  const grid = document.getElementById("relatedGrid");
  if (!grid || !window.TOOLS_DATA) return;

  const data = window.TOOLS_DATA;
  const currentSlug = (location.pathname.split("/").pop() || "").replace(".html", "");
  const current = data.find(t => t.slug === currentSlug);
  const category = current?.category || null;

  const pool = data.filter(t => t.slug && t.slug !== currentSlug);
  if (pool.length === 0) return;

  const sameCat = category ? pool.filter(t => t.category === category) : [];
  const other   = category ? pool.filter(t => t.category !== category) : pool;

  const picks = shuffle([...sameCat, ...other]).slice(0, 6);

  grid.innerHTML = picks.map(t => `
    <a class="tool-card" href="${t.path || `/tools/${t.slug}.html`}">
      <div class="tool-card-top">
        <div class="tool-title">${escapeHtml(t.name || t.slug)}</div>
        <div class="tool-badge">${escapeHtml(t.category || "Tool")}</div>
      </div>
      <div class="tool-desc">${escapeHtml(t.desc || "")}</div>
      <div class="tool-foot">Local</div>
    </a>
  `).join("");

  function shuffle(arr){
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }

  function escapeHtml(str){
    return String(str)
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }
})();
  </script>
</body>
</html>